import{s as et,f as u,a as _,g as d,h as k,A as C,c as v,d as p,j as n,i as B,x as o,Y as q,B as Z,Z as rt,C as at,o as nt,y as tt,P as it}from"../chunks/scheduler.e46bbd4c.js";import{S as lt,i as st,g as pe,t as M,c as he,a as w,b as z,d as F,m as X,e as J}from"../chunks/index.df222288.js";import{e as ot}from"../chunks/spread.4c2634cf.js";import{s as ct,a as ft}from"../chunks/index.957809ef.js";import{I as Q}from"../chunks/Icon.d599a0a9.js";import{d as Ie}from"../chunks/checkbox-marked.a0053e7f.js";import{d as _e}from"../chunks/close-box.75461ac6.js";import{p as ut}from"../chunks/index.fa851c61.js";import{a as dt}from"../chunks/index.e6a189c6.js";function We(f){let t;return{c(){t=u("div"),this.h()},l(e){t=d(e,"DIV",{class:!0}),k(t).forEach(p),this.h()},h(){n(t,"class","divider my-1")},m(e,c){B(e,t,c)},d(e){e&&p(t)}}}function mt(f){let t,e,c,l,a="Email Valid",i;return e=new Q({props:{icon:Ie,height:24,class:"scale-125",color:"oklch(var(--su))"}}),{c(){t=u("div"),z(e.$$.fragment),c=_(),l=u("p"),l.textContent=a,this.h()},l(s){t=d(s,"DIV",{class:!0});var r=k(t);F(e.$$.fragment,r),c=v(r),l=d(r,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-1jeogiy"&&(l.textContent=a),r.forEach(p),this.h()},h(){n(l,"class","ml-3"),n(t,"class","flex")},m(s,r){B(s,t,r),X(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),J(e)}}}function pt(f){let t,e,c,l,a="Email Not Valid",i;return e=new Q({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),z(e.$$.fragment),c=_(),l=u("p"),l.textContent=a,this.h()},l(s){t=d(s,"DIV",{class:!0});var r=k(t);F(e.$$.fragment,r),c=v(r),l=d(r,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-cd8amd"&&(l.textContent=a),r.forEach(p),this.h()},h(){n(l,"class","ml-3"),n(t,"class","flex")},m(s,r){B(s,t,r),X(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),J(e)}}}function Ye(f){let t,e,c,l,a="Email Belongs To Another User",i;return e=new Q({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),z(e.$$.fragment),c=_(),l=u("p"),l.textContent=a,this.h()},l(s){t=d(s,"DIV",{class:!0});var r=k(t);F(e.$$.fragment,r),c=v(r),l=d(r,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-1sem3xv"&&(l.textContent=a),r.forEach(p),this.h()},h(){n(l,"class","ml-3"),n(t,"class","flex")},m(s,r){B(s,t,r),X(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),J(e)}}}function ht(f){let t,e,c,l,a="Nickname Length Ok",i;return e=new Q({props:{icon:Ie,height:24,class:"scale-125",color:"oklch(var(--su))"}}),{c(){t=u("div"),z(e.$$.fragment),c=_(),l=u("p"),l.textContent=a,this.h()},l(s){t=d(s,"DIV",{class:!0});var r=k(t);F(e.$$.fragment,r),c=v(r),l=d(r,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-3ucmxq"&&(l.textContent=a),r.forEach(p),this.h()},h(){n(l,"class","ml-3"),n(t,"class","flex")},m(s,r){B(s,t,r),X(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),J(e)}}}function _t(f){let t,e,c,l,a="Nickname Needs To Be At Least 3 Characters Long",i;return e=new Q({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),z(e.$$.fragment),c=_(),l=u("p"),l.textContent=a,this.h()},l(s){t=d(s,"DIV",{class:!0});var r=k(t);F(e.$$.fragment,r),c=v(r),l=d(r,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-kkm5ji"&&(l.textContent=a),r.forEach(p),this.h()},h(){n(l,"class","ml-3"),n(t,"class","flex")},m(s,r){B(s,t,r),X(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),J(e)}}}function vt(f){let t,e,c,l,a="Password Length Ok",i;return e=new Q({props:{icon:Ie,height:24,class:"scale-125",color:"oklch(var(--su))"}}),{c(){t=u("div"),z(e.$$.fragment),c=_(),l=u("p"),l.textContent=a,this.h()},l(s){t=d(s,"DIV",{class:!0});var r=k(t);F(e.$$.fragment,r),c=v(r),l=d(r,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-1953dfb"&&(l.textContent=a),r.forEach(p),this.h()},h(){n(l,"class","ml-3"),n(t,"class","flex")},m(s,r){B(s,t,r),X(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),J(e)}}}function gt(f){let t,e,c,l,a="Password Too Short (min. 8 characters)",i;return e=new Q({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),z(e.$$.fragment),c=_(),l=u("p"),l.textContent=a,this.h()},l(s){t=d(s,"DIV",{class:!0});var r=k(t);F(e.$$.fragment,r),c=v(r),l=d(r,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-19yyt80"&&(l.textContent=a),r.forEach(p),this.h()},h(){n(l,"class","ml-3"),n(t,"class","flex")},m(s,r){B(s,t,r),X(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),J(e)}}}function kt(f){let t,e,c,l,a="Passwords Match",i;return e=new Q({props:{icon:Ie,height:24,class:"scale-125",color:"oklch(var(--su))"}}),{c(){t=u("div"),z(e.$$.fragment),c=_(),l=u("p"),l.textContent=a,this.h()},l(s){t=d(s,"DIV",{class:!0});var r=k(t);F(e.$$.fragment,r),c=v(r),l=d(r,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-1ff6dtd"&&(l.textContent=a),r.forEach(p),this.h()},h(){n(l,"class","ml-3"),n(t,"class","flex")},m(s,r){B(s,t,r),X(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),J(e)}}}function bt(f){let t,e,c,l,a="Passwords Do Not Match",i;return e=new Q({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),z(e.$$.fragment),c=_(),l=u("p"),l.textContent=a,this.h()},l(s){t=d(s,"DIV",{class:!0});var r=k(t);F(e.$$.fragment,r),c=v(r),l=d(r,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-10dwgxn"&&(l.textContent=a),r.forEach(p),this.h()},h(){n(l,"class","ml-3"),n(t,"class","flex")},m(s,r){B(s,t,r),X(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),J(e)}}}function wt(f){let t,e,c,l="Signup",a,i,s,r='<span class="label-text">Email</span>',g,b,H,O,P,ve='<span class="label-text">Nickname</span>',de,L,j,W,Y,He='<span class="label-text">Introduce yourself</span>',Te,G,xe,K,ee,Oe='<span class="label-text">Password (min. 8 characters)</span>',Ve,U,Pe,te,le,Be='<span class="label-text">Confirm Password</span>',Le,R,De,ge,D,E,ke,be,N,y,we,A,I,Me,S,T,$e,me,Ne,ne,Ue='<button class="btn btn-primary btn-sm">Create Account</button>',Ae,ie,Re='<a class="btn btn-neutral btn-sm mt-2" href="/login">Back</a>',Ce,Se,je,x=(f[1].emailValid!==null||f[1].emailNotTaken!==null||f[1].passwordMin8!==null||f[1].passwordsMatch!==null)&&We();const Ge=[pt,mt],oe=[];function qe(m,V){return m[1].emailValid===!1?0:m[1].emailValid===!0?1:-1}~(D=qe(f))&&(E=oe[D]=Ge[D](f));let $=f[1].emailNotTaken===!1&&Ye();const Ze=[_t,ht],ce=[];function ze(m,V){return m[1].nicknameMin3===!1?0:m[1].nicknameMin3===!0?1:-1}~(N=ze(f))&&(y=ce[N]=Ze[N](f));const Fe=[gt,vt],fe=[];function Xe(m,V){return m[1].passwordMin8===!1?0:m[1].passwordMin8===!0?1:-1}~(A=Xe(f))&&(I=fe[A]=Fe[A](f));const Je=[bt,kt],ue=[];function Qe(m,V){return m[1].passwordsMatch===!1?0:m[1].passwordsMatch===!0?1:-1}return~(S=Qe(f))&&(T=ue[S]=Je[S](f)),{c(){t=u("form"),e=u("div"),c=u("h2"),c.textContent=l,a=_(),i=u("div"),s=u("label"),s.innerHTML=r,g=_(),b=u("input"),H=_(),O=u("div"),P=u("label"),P.innerHTML=ve,de=_(),L=u("input"),j=_(),W=u("div"),Y=u("label"),Y.innerHTML=He,Te=_(),G=u("textarea"),xe=_(),K=u("div"),ee=u("label"),ee.innerHTML=Oe,Ve=_(),U=u("input"),Pe=_(),te=u("div"),le=u("label"),le.innerHTML=Be,Le=_(),R=u("input"),De=_(),x&&x.c(),ge=_(),E&&E.c(),ke=_(),$&&$.c(),be=_(),y&&y.c(),we=_(),I&&I.c(),Me=_(),T&&T.c(),$e=_(),me=u("div"),Ne=_(),ne=u("div"),ne.innerHTML=Ue,Ae=_(),ie=u("div"),ie.innerHTML=Re,this.h()},l(m){t=d(m,"FORM",{class:!0});var V=k(t);e=d(V,"DIV",{class:!0});var h=k(e);c=d(h,"H2",{class:!0,"data-svelte-h":!0}),C(c)!=="svelte-ymhdoa"&&(c.textContent=l),a=v(h),i=d(h,"DIV",{class:!0});var se=k(i);s=d(se,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),C(s)!=="svelte-efmmh6"&&(s.innerHTML=r),g=v(se),b=d(se,"INPUT",{type:!0,placeholder:!0,class:!0,id:!0,"data-testid":!0}),se.forEach(p),H=v(h),O=d(h,"DIV",{class:!0});var re=k(O);P=d(re,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),C(P)!=="svelte-dgrrtc"&&(P.innerHTML=ve),de=v(re),L=d(re,"INPUT",{type:!0,placeholder:!0,class:!0,id:!0}),re.forEach(p),j=v(h),W=d(h,"DIV",{class:!0});var ae=k(W);Y=d(ae,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),C(Y)!=="svelte-1vct8la"&&(Y.innerHTML=He),Te=v(ae),G=d(ae,"TEXTAREA",{placeholder:!0,class:!0,id:!0}),k(G).forEach(p),ae.forEach(p),xe=v(h),K=d(h,"DIV",{class:!0});var Ee=k(K);ee=d(Ee,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),C(ee)!=="svelte-t8iu3x"&&(ee.innerHTML=Oe),Ve=v(Ee),U=d(Ee,"INPUT",{type:!0,placeholder:!0,class:!0,id:!0}),Ee.forEach(p),Pe=v(h),te=d(h,"DIV",{class:!0});var ye=k(te);le=d(ye,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),C(le)!=="svelte-euftcr"&&(le.innerHTML=Be),Le=v(ye),R=d(ye,"INPUT",{type:!0,placeholder:!0,class:!0,id:!0}),ye.forEach(p),De=v(h),x&&x.l(h),ge=v(h),E&&E.l(h),ke=v(h),$&&$.l(h),be=v(h),y&&y.l(h),we=v(h),I&&I.l(h),Me=v(h),T&&T.l(h),$e=v(h),me=d(h,"DIV",{class:!0}),k(me).forEach(p),Ne=v(h),ne=d(h,"DIV",{class:!0,"data-svelte-h":!0}),C(ne)!=="svelte-1ta665b"&&(ne.innerHTML=Ue),Ae=v(h),ie=d(h,"DIV",{class:!0,"data-svelte-h":!0}),C(ie)!=="svelte-1amvf8o"&&(ie.innerHTML=Re),h.forEach(p),V.forEach(p),this.h()},h(){n(c,"class","card-title"),n(s,"class","label"),n(s,"for","email"),n(b,"type","text"),n(b,"placeholder","email"),n(b,"class","input input-bordered"),n(b,"id","email"),n(b,"data-testid","email"),n(i,"class","form-control"),n(P,"class","label"),n(P,"for","nickname"),n(L,"type","text"),n(L,"placeholder","nickname"),n(L,"class","input input-bordered"),n(L,"id","nickname"),n(O,"class","form-control"),n(Y,"class","label"),n(Y,"for","description"),n(G,"placeholder","description"),n(G,"class","textarea textarea-bordered"),n(G,"id","description"),n(W,"class","form-control"),n(ee,"class","label"),n(ee,"for","password"),n(U,"type","password"),n(U,"placeholder","password"),n(U,"class","input input-bordered"),n(U,"id","password"),n(K,"class","form-control"),n(le,"class","label"),n(le,"for","confirm-password"),n(R,"type","password"),n(R,"placeholder","confirm password"),n(R,"class","input input-bordered"),n(R,"id","confirm-password"),n(te,"class","form-control"),n(me,"class","divider my-1"),n(ne,"class","form-control"),n(ie,"class","form-control"),n(e,"class","card-body"),n(t,"class","card flex-shrink-0 w-full max-w-sm shadow-2xl bg-base-100")},m(m,V){B(m,t,V),o(t,e),o(e,c),o(e,a),o(e,i),o(i,s),o(i,g),o(i,b),q(b,f[0].email),o(e,H),o(e,O),o(O,P),o(O,de),o(O,L),q(L,f[0].nickname),o(e,j),o(e,W),o(W,Y),o(W,Te),o(W,G),q(G,f[0].description),o(e,xe),o(e,K),o(K,ee),o(K,Ve),o(K,U),q(U,f[0].password),o(e,Pe),o(e,te),o(te,le),o(te,Le),o(te,R),q(R,f[0].confirmPassword),o(e,De),x&&x.m(e,null),o(e,ge),~D&&oe[D].m(e,null),o(e,ke),$&&$.m(e,null),o(e,be),~N&&ce[N].m(e,null),o(e,we),~A&&fe[A].m(e,null),o(e,Me),~S&&ue[S].m(e,null),o(e,$e),o(e,me),o(e,Ne),o(e,ne),o(e,Ae),o(e,ie),Ce=!0,Se||(je=[Z(b,"input",f[3]),Z(b,"input",f[4]),Z(L,"input",f[5]),Z(L,"input",f[6]),Z(G,"input",f[7]),Z(U,"input",f[8]),Z(U,"input",f[9]),Z(R,"input",f[10]),Z(R,"input",f[11]),Z(t,"submit",rt(f[2]))],Se=!0)},p(m,[V]){V&1&&b.value!==m[0].email&&q(b,m[0].email),V&1&&L.value!==m[0].nickname&&q(L,m[0].nickname),V&1&&q(G,m[0].description),V&1&&U.value!==m[0].password&&q(U,m[0].password),V&1&&R.value!==m[0].confirmPassword&&q(R,m[0].confirmPassword),m[1].emailValid!==null||m[1].emailNotTaken!==null||m[1].passwordMin8!==null||m[1].passwordsMatch!==null?x||(x=We(),x.c(),x.m(e,ge)):x&&(x.d(1),x=null);let h=D;D=qe(m),D!==h&&(E&&(pe(),M(oe[h],1,1,()=>{oe[h]=null}),he()),~D?(E=oe[D],E||(E=oe[D]=Ge[D](m),E.c()),w(E,1),E.m(e,ke)):E=null),m[1].emailNotTaken===!1?$?V&2&&w($,1):($=Ye(),$.c(),w($,1),$.m(e,be)):$&&(pe(),M($,1,1,()=>{$=null}),he());let se=N;N=ze(m),N!==se&&(y&&(pe(),M(ce[se],1,1,()=>{ce[se]=null}),he()),~N?(y=ce[N],y||(y=ce[N]=Ze[N](m),y.c()),w(y,1),y.m(e,we)):y=null);let re=A;A=Xe(m),A!==re&&(I&&(pe(),M(fe[re],1,1,()=>{fe[re]=null}),he()),~A?(I=fe[A],I||(I=fe[A]=Fe[A](m),I.c()),w(I,1),I.m(e,Me)):I=null);let ae=S;S=Qe(m),S!==ae&&(T&&(pe(),M(ue[ae],1,1,()=>{ue[ae]=null}),he()),~S?(T=ue[S],T||(T=ue[S]=Je[S](m),T.c()),w(T,1),T.m(e,$e)):T=null)},i(m){Ce||(w(E),w($),w(y),w(I),w(T),Ce=!0)},o(m){M(E),M($),M(y),M(I),M(T),Ce=!1},d(m){m&&p(t),x&&x.d(),~D&&oe[D].d(),$&&$.d(),~N&&ce[N].d(),~A&&fe[A].d(),~S&&ue[S].d(),Se=!1,at(je)}}}const Ke=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;function Mt(f,t,e){let c;nt(()=>(c=setTimeout(()=>ut("/signup"),dt),()=>clearTimeout(c)));let l={email:"",nickname:"",description:"",password:"",confirmPassword:""},a={emailValid:null,emailNotTaken:null,passwordMin8:null,passwordsMatch:null,nicknameMin3:null};const i=()=>{let j=!0;return Ke.test(l.email)||(j=!1,e(1,a.emailValid=!1,a)),l.password.length<8&&(j=!1,e(1,a.passwordMin8=!1,a)),l.password!==l.confirmPassword&&(j=!1,e(1,a.passwordsMatch=!1,a)),l.nickname.length<3&&(j=!1,e(1,a.nicknameMin3=!1,a)),j},s=async()=>{if(!i())return;await ct(l.email,l.nickname,l.description,l.password)?(fetch("/api/stats/landing/registration-completed",{method:"POST",body:JSON.stringify({email:l.email}),headers:{"Content-Type":"application/json"}}),ft.verify()):e(1,a.emailNotTaken=!1,a)};function r(){l.email=this.value,e(0,l)}const g=()=>{a.emailValid===null&&e(1,a.emailValid=!1,a),e(1,a.emailNotTaken=null,a)};function b(){l.nickname=this.value,e(0,l)}const H=()=>{a.nicknameMin3===null&&e(1,a.nicknameMin3=!1,a)};function O(){l.description=this.value,e(0,l)}function P(){l.password=this.value,e(0,l)}const ve=()=>{a.passwordMin8===null&&e(1,a.passwordMin8=!1,a)};function de(){l.confirmPassword=this.value,e(0,l)}const L=()=>{a.passwordsMatch===null&&e(1,a.passwordsMatch=!1,a)};return f.$$.update=()=>{f.$$.dirty&3&&(a.emailValid!==null&&e(1,a.emailValid=Ke.test(l.email),a),a.nicknameMin3!==null&&e(1,a.nicknameMin3=l.nickname.length>=3,a),a.passwordMin8!==null&&e(1,a.passwordMin8=l.password.length>=8,a),a.passwordsMatch!==null&&e(1,a.passwordsMatch=l.password===l.confirmPassword,a))},[l,a,s,r,g,b,H,O,P,ve,de,L]}class $t extends lt{constructor(t){super(),st(this,t,Mt,wt,et,{})}}function Ct(f,t,e){const c=f.slice();return c[0]=t[e],c}function Et(f){let t;return{c(){t=u("div"),this.h()},l(e){t=d(e,"DIV",{class:!0}),k(t).forEach(p),this.h()},h(){n(t,"class","tri svelte-1t7p7q4")},m(e,c){B(e,t,c)},p:tt,d(e){e&&p(t)}}}function yt(f){let t,e,c,l,a,i,s=ot(Array(200)),r=[];for(let g=0;g<s.length;g+=1)r[g]=Et(Ct(f,s,g));return a=new $t({}),{c(){t=u("div"),e=u("div");for(let g=0;g<r.length;g+=1)r[g].c();c=_(),l=u("div"),z(a.$$.fragment),this.h()},l(g){t=d(g,"DIV",{class:!0});var b=k(t);e=d(b,"DIV",{class:!0});var H=k(e);for(let P=0;P<r.length;P+=1)r[P].l(H);H.forEach(p),c=v(b),l=d(b,"DIV",{class:!0});var O=k(l);F(a.$$.fragment,O),O.forEach(p),b.forEach(p),this.h()},h(){n(e,"class","wrap svelte-1t7p7q4"),n(l,"class","h-full flex items-center justify-center"),n(t,"class","grow relative")},m(g,b){B(g,t,b),o(t,e);for(let H=0;H<r.length;H+=1)r[H]&&r[H].m(e,null);o(t,c),o(t,l),X(a,l,null),i=!0},p:tt,i(g){i||(w(a.$$.fragment,g),i=!0)},o(g){M(a.$$.fragment,g),i=!1},d(g){g&&p(t),it(r,g),J(a)}}}class St extends lt{constructor(t){super(),st(this,t,null,yt,et,{})}}export{St as component};

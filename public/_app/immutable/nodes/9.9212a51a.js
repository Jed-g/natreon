import{s as se,f as d,a as S,g as f,h as E,d as h,c as V,A as N,j as v,I as w,i as Q,x as r,B as Y,l as ve,m as _e,C as $e,N as Oe,Q as Ue,y as W,o as He,Y as pe,Z as we,J as Ne,n as Te,p as Me,q as ke,P as ye}from"../chunks/scheduler.89cb64c0.js";import{S as ne,i as le,b as z,d as F,m as G,a as q,t as Z,e as J,h as Le,c as xe,g as je}from"../chunks/index.ef04b1b2.js";import{L as Qe}from"../chunks/LogoutButton.cb0b4036.js";import{I as be}from"../chunks/Icon.c8856f65.js";import{e as Se,u as Pe,d as Be}from"../chunks/spread.5150fef6.js";import{U as me,a as Ve}from"../chunks/index.b510b619.js";var L=(n=>(n.OVERVIEW="",n.USERS="users",n.REVIEWS="reviews",n.QA="qa",n.MAILING_LIST="mailing-list",n))(L||{});const We=({params:n})=>({slug:n.slug});function ze(){return Object.values(L).map(n=>({slug:n}))}const Dt=Object.freeze(Object.defineProperty({__proto__:null,entries:ze,load:We},Symbol.toStringTag,{value:"Module"}));function Ge(n){let e,s,t,l,a,o,_,p,c,u,i,C,$,R="Admin Dashboard",A,D,y="Admin Dashboard",M,m,g,U,H;return m=new Qe({}),{c(){e=d("div"),s=d("div"),t=d("button"),l=d("div"),a=S(),o=d("div"),_=d("div"),p=S(),c=d("div"),u=S(),i=d("div"),C=S(),$=d("h1"),$.textContent=R,A=S(),D=d("h1"),D.textContent=y,M=S(),z(m.$$.fragment),this.h()},l(b){e=f(b,"DIV",{class:!0});var k=E(e);s=f(k,"DIV",{class:!0});var O=E(s);t=f(O,"BUTTON",{class:!0});var x=E(t);l=f(x,"DIV",{class:!0}),E(l).forEach(h),a=V(x),o=f(x,"DIV",{class:!0});var ee=E(o);_=f(ee,"DIV",{class:!0}),E(_).forEach(h),p=V(ee),c=f(ee,"DIV",{class:!0}),E(c).forEach(h),ee.forEach(h),u=V(x),i=f(x,"DIV",{class:!0}),E(i).forEach(h),x.forEach(h),O.forEach(h),C=V(k),$=f(k,"H1",{class:!0,"data-svelte-h":!0}),N($)!=="svelte-pzyf2g"&&($.textContent=R),A=V(k),D=f(k,"H1",{class:!0,"data-svelte-h":!0}),N(D)!=="svelte-tx25fy"&&(D.textContent=y),M=V(k),F(m.$$.fragment,k),k.forEach(h),this.h()},h(){v(l,"class","h-1 w-7 rounded bg-base-content transition-all"),w(l,"w-0",!n[0]),w(l,"opacity-0",!n[0]),w(l,"opacity-100",n[0]),v(_,"class","absolute h-1 w-7 -translate-x-1/2 -translate-y-1/2 rounded bg-base-content transition-all"),w(_,"rotate-45",!n[0]),v(c,"class","absolute h-1 w-7 -translate-x-1/2 -translate-y-1/2 rounded bg-base-content transition-all"),w(c,"-rotate-45",!n[0]),v(o,"class","relative"),v(i,"class","h-1 w-7 rounded bg-base-content transition-all"),w(i,"w-0",!n[0]),w(i,"opacity-0",!n[0]),w(i,"opacity-100",n[0]),v(t,"class","btn-ghost btn-square btn flex-col"),v(s,"class","px-1 md:hidden"),v($,"class","select-none px-4 hidden md:block"),v(D,"class","select-none md:hidden absolute left-1/2 -translate-x-1/2"),v(e,"class","navbar bg-base-100 justify-between")},m(b,k){Q(b,e,k),r(e,s),r(s,t),r(t,l),r(t,a),r(t,o),r(o,_),r(o,p),r(o,c),r(t,u),r(t,i),r(e,C),r(e,$),r(e,A),r(e,D),r(e,M),G(m,e,null),g=!0,U||(H=Y(t,"click",n[1]),U=!0)},p(b,[k]){(!g||k&1)&&w(l,"w-0",!b[0]),(!g||k&1)&&w(l,"opacity-0",!b[0]),(!g||k&1)&&w(l,"opacity-100",b[0]),(!g||k&1)&&w(_,"rotate-45",!b[0]),(!g||k&1)&&w(c,"-rotate-45",!b[0]),(!g||k&1)&&w(i,"w-0",!b[0]),(!g||k&1)&&w(i,"opacity-0",!b[0]),(!g||k&1)&&w(i,"opacity-100",b[0])},i(b){g||(q(m.$$.fragment,b),g=!0)},o(b){Z(m.$$.fragment,b),g=!1},d(b){b&&h(e),J(m),U=!1,H()}}}function qe(n,e,s){let{menuClosed:t}=e;const l=()=>s(0,t=!t);return n.$$set=a=>{"menuClosed"in a&&s(0,t=a.menuClosed)},[t,l]}class Ze extends ne{constructor(e){super(),le(this,e,qe,Ge,se,{menuClosed:0})}}const Je={width:24,height:24,body:'<path fill="currentColor" d="M10 20v-6h4v6h5v-8h3L12 3L2 12h3v8h5Z"/>'},Ye={width:24,height:24,body:'<path fill="currentColor" d="M12 5.5A3.5 3.5 0 0 1 15.5 9a3.5 3.5 0 0 1-3.5 3.5A3.5 3.5 0 0 1 8.5 9A3.5 3.5 0 0 1 12 5.5M5 8c.56 0 1.08.15 1.53.42c-.15 1.43.27 2.85 1.13 3.96C7.16 13.34 6.16 14 5 14a3 3 0 0 1-3-3a3 3 0 0 1 3-3m14 0a3 3 0 0 1 3 3a3 3 0 0 1-3 3c-1.16 0-2.16-.66-2.66-1.62a5.536 5.536 0 0 0 1.13-3.96c.45-.27.97-.42 1.53-.42M5.5 18.25c0-2.07 2.91-3.75 6.5-3.75s6.5 1.68 6.5 3.75V20h-13v-1.75M0 20v-1.5c0-1.39 1.89-2.56 4.45-2.9c-.59.68-.95 1.62-.95 2.65V20H0m24 0h-3.5v-1.75c0-1.03-.36-1.97-.95-2.65c2.56.34 4.45 1.51 4.45 2.9V20Z"/>'},Fe={width:24,height:24,body:'<path fill="currentColor" d="M18 14h-7.5l2-2H18M6 14v-2.5l6.88-6.86c.19-.19.51-.19.71 0l1.76 1.77c.2.2.2.51 0 .71L8.47 14M20 2H4a2 2 0 0 0-2 2v18l4-4h14a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z"/>'},Ke={width:24,height:24,body:'<path fill="currentColor" d="M4 2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6.1l-3.7 3.71c-.2.19-.45.29-.7.29H9a1 1 0 0 1-1-1v-3H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m8.19 3.5c-.89 0-1.6.18-2.14.54c-.55.36-.83.96-.78 1.65h1.97c0-.28.1-.49.26-.63c.2-.14.42-.21.69-.21c.31 0 .58.08.76.26c.18.17.27.39.27.69c0 .28-.08.53-.22.74c-.17.22-.38.4-.64.54c-.52.32-.86.6-1.07.84c-.19.24-.29.58-.29 1.08h2c0-.28.05-.5.14-.68c.09-.17.26-.32.52-.47c.46-.21.84-.49 1.13-.85c.29-.37.44-.76.44-1.2c0-.7-.27-1.26-.81-1.68c-.54-.41-1.29-.62-2.23-.62M11 12v2h2v-2h-2Z"/>'},Xe={width:24,height:24,body:'<path fill="currentColor" d="M21 8V7l-3 2l-3-2v1l3 2m4-7H2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2M8 6a3 3 0 0 1 3 3a3 3 0 0 1-3 3a3 3 0 0 1-3-3a3 3 0 0 1 3-3m6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1m8-5h-8V6h8"/>'};function et(n){let e,s,t,l,a,o,_,p,c,u,i,C,$,R,A,D,y,M,m,g,U,H,b,k,O,x,ee,ae,K,P,B,te,X,j,ue,ge;return l=new be({props:{icon:Je,height:24,class:"scale-125 mr-2"}}),i=new be({props:{icon:Ye,height:24,class:"scale-125 mr-2"}}),M=new be({props:{icon:Fe,height:24,class:"scale-125 mr-2"}}),O=new be({props:{icon:Ke,height:24,class:"scale-125 mr-2"}}),te=new be({props:{icon:Xe,height:24,class:"scale-125 mr-2"}}),{c(){e=d("ul"),s=d("li"),t=d("a"),z(l.$$.fragment),a=ve("Overview"),o=S(),_=d("div"),p=S(),c=d("li"),u=d("a"),z(i.$$.fragment),C=ve("Users"),$=S(),R=d("div"),A=S(),D=d("li"),y=d("a"),z(M.$$.fragment),m=ve("Reviews"),g=S(),U=d("div"),H=S(),b=d("li"),k=d("a"),z(O.$$.fragment),x=ve("QA"),ee=S(),ae=d("div"),K=S(),P=d("li"),B=d("a"),z(te.$$.fragment),X=ve("Mailing List"),this.h()},l(I){e=f(I,"UL",{class:!0});var T=E(e);s=f(T,"LI",{});var re=E(s);t=f(re,"A",{href:!0});var ie=E(t);F(l.$$.fragment,ie),a=_e(ie,"Overview"),ie.forEach(h),re.forEach(h),o=V(T),_=f(T,"DIV",{class:!0}),E(_).forEach(h),p=V(T),c=f(T,"LI",{});var de=E(c);u=f(de,"A",{href:!0});var oe=E(u);F(i.$$.fragment,oe),C=_e(oe,"Users"),oe.forEach(h),de.forEach(h),$=V(T),R=f(T,"DIV",{class:!0}),E(R).forEach(h),A=V(T),D=f(T,"LI",{});var fe=E(D);y=f(fe,"A",{href:!0});var ce=E(y);F(M.$$.fragment,ce),m=_e(ce,"Reviews"),ce.forEach(h),fe.forEach(h),g=V(T),U=f(T,"DIV",{class:!0}),E(U).forEach(h),H=V(T),b=f(T,"LI",{});var he=E(b);k=f(he,"A",{href:!0});var Ce=E(k);F(O.$$.fragment,Ce),x=_e(Ce,"QA"),Ce.forEach(h),he.forEach(h),ee=V(T),ae=f(T,"DIV",{class:!0}),E(ae).forEach(h),K=V(T),P=f(T,"LI",{});var Ie=E(P);B=f(Ie,"A",{href:!0});var Ee=E(B);F(te.$$.fragment,Ee),X=_e(Ee,"Mailing List"),Ee.forEach(h),Ie.forEach(h),T.forEach(h),this.h()},h(){v(t,"href",`/admin${L.OVERVIEW?"/"+L.OVERVIEW:""}`),w(t,"font-semibold",!n[0]),w(t,"active",!n[0]),v(_,"class","my-1"),v(u,"href",`/admin${L.USERS?"/"+L.USERS:""}`),w(u,"font-semibold",n[0]===L.USERS),w(u,"active",n[0]===L.USERS),v(R,"class","my-1"),v(y,"href",`/admin${L.REVIEWS?"/"+L.REVIEWS:""}`),w(y,"font-semibold",n[0]===L.REVIEWS),w(y,"active",n[0]===L.REVIEWS),v(U,"class","my-1"),v(k,"href",`/admin${L.QA?"/"+L.QA:""}`),w(k,"font-semibold",n[0]===L.QA),w(k,"active",n[0]===L.QA),v(ae,"class","my-1"),v(B,"href",`/admin${L.MAILING_LIST?"/"+L.MAILING_LIST:""}`),w(B,"font-semibold",n[0]===L.MAILING_LIST),w(B,"active",n[0]===L.MAILING_LIST),v(e,"class","menu menu-lg p-4 min-h-full text-base-content")},m(I,T){Q(I,e,T),r(e,s),r(s,t),G(l,t,null),r(t,a),r(e,o),r(e,_),r(e,p),r(e,c),r(c,u),G(i,u,null),r(u,C),r(e,$),r(e,R),r(e,A),r(e,D),r(D,y),G(M,y,null),r(y,m),r(e,g),r(e,U),r(e,H),r(e,b),r(b,k),G(O,k,null),r(k,x),r(e,ee),r(e,ae),r(e,K),r(e,P),r(P,B),G(te,B,null),r(B,X),j=!0,ue||(ge=[Y(t,"click",n[2]),Y(u,"click",n[3]),Y(y,"click",n[4]),Y(k,"click",n[5]),Y(B,"click",n[6])],ue=!0)},p(I,[T]){(!j||T&1)&&w(t,"font-semibold",!I[0]),(!j||T&1)&&w(t,"active",!I[0]),(!j||T&1)&&w(u,"font-semibold",I[0]===L.USERS),(!j||T&1)&&w(u,"active",I[0]===L.USERS),(!j||T&1)&&w(y,"font-semibold",I[0]===L.REVIEWS),(!j||T&1)&&w(y,"active",I[0]===L.REVIEWS),(!j||T&1)&&w(k,"font-semibold",I[0]===L.QA),(!j||T&1)&&w(k,"active",I[0]===L.QA),(!j||T&1)&&w(B,"font-semibold",I[0]===L.MAILING_LIST),(!j||T&1)&&w(B,"active",I[0]===L.MAILING_LIST)},i(I){j||(q(l.$$.fragment,I),q(i.$$.fragment,I),q(M.$$.fragment,I),q(O.$$.fragment,I),q(te.$$.fragment,I),j=!0)},o(I){Z(l.$$.fragment,I),Z(i.$$.fragment,I),Z(M.$$.fragment,I),Z(O.$$.fragment,I),Z(te.$$.fragment,I),j=!1},d(I){I&&h(e),J(l),J(i),J(M),J(O),J(te),ue=!1,$e(ge)}}}function tt(n,e,s){let{slug:t}=e;const l=Oe(),a=()=>l("sideMenuItemClicked"),o=()=>l("sideMenuItemClicked"),_=()=>l("sideMenuItemClicked"),p=()=>l("sideMenuItemClicked"),c=()=>l("sideMenuItemClicked");return n.$$set=u=>{"slug"in u&&s(0,t=u.slug)},[t,l,a,o,_,p,c]}class Ae extends ne{constructor(e){super(),le(this,e,tt,et,se,{slug:0})}}function st(n){let e,s,t;return s=new Ae({props:{slug:n[0]}}),s.$on("sideMenuItemClicked",n[1]),{c(){e=d("div"),z(s.$$.fragment),this.h()},l(l){e=f(l,"DIV",{class:!0});var a=E(e);F(s.$$.fragment,a),a.forEach(h),this.h()},h(){v(e,"class","hidden w-64 flex-col bg-base-100 md:flex shrink-0")},m(l,a){Q(l,e,a),G(s,e,null),t=!0},p(l,[a]){const o={};a&1&&(o.slug=l[0]),s.$set(o)},i(l){t||(q(s.$$.fragment,l),t=!0)},o(l){Z(s.$$.fragment,l),t=!1},d(l){l&&h(e),J(s)}}}function nt(n,e,s){let{slug:t}=e;function l(a){Ue.call(this,n,a)}return n.$$set=a=>{"slug"in a&&s(0,t=a.slug)},[t,l]}class lt extends ne{constructor(e){super(),le(this,e,nt,st,se,{slug:0})}}function at(n){let e,s,t;return s=new Ae({props:{slug:n[1]}}),s.$on("sideMenuItemClicked",n[2]),{c(){e=d("div"),z(s.$$.fragment),this.h()},l(l){e=f(l,"DIV",{class:!0});var a=E(e);F(s.$$.fragment,a),a.forEach(h),this.h()},h(){v(e,"class","absolute left-0 z-20 flex h-full w-64 flex-col bg-base-100 transition-all md:hidden shrink-0 svelte-v8wrex"),w(e,"menuClosed",n[0])},m(l,a){Q(l,e,a),G(s,e,null),t=!0},p(l,[a]){const o={};a&2&&(o.slug=l[1]),s.$set(o),(!t||a&1)&&w(e,"menuClosed",l[0])},i(l){t||(q(s.$$.fragment,l),t=!0)},o(l){Z(s.$$.fragment,l),t=!1},d(l){l&&h(e),J(s)}}}function rt(n,e,s){let{menuClosed:t}=e,{slug:l}=e;function a(o){Ue.call(this,n,o)}return n.$$set=o=>{"menuClosed"in o&&s(0,t=o.menuClosed),"slug"in o&&s(1,l=o.slug)},[t,l,a]}class it extends ne{constructor(e){super(),le(this,e,rt,at,se,{menuClosed:0,slug:1})}}function ot(n){let e,s,t,l;return e=new lt({props:{slug:n[1]}}),e.$on("sideMenuItemClicked",n[2]),t=new it({props:{menuClosed:n[0],slug:n[1]}}),t.$on("sideMenuItemClicked",n[2]),{c(){z(e.$$.fragment),s=S(),z(t.$$.fragment)},l(a){F(e.$$.fragment,a),s=V(a),F(t.$$.fragment,a)},m(a,o){G(e,a,o),Q(a,s,o),G(t,a,o),l=!0},p(a,[o]){const _={};o&2&&(_.slug=a[1]),e.$set(_);const p={};o&1&&(p.menuClosed=a[0]),o&2&&(p.slug=a[1]),t.$set(p)},i(a){l||(q(e.$$.fragment,a),q(t.$$.fragment,a),l=!0)},o(a){Z(e.$$.fragment,a),Z(t.$$.fragment,a),l=!1},d(a){a&&h(s),J(e,a),J(t,a)}}}function ct(n,e,s){let{menuClosed:t}=e,{slug:l}=e;const a=()=>s(0,t=!0);return n.$$set=o=>{"menuClosed"in o&&s(0,t=o.menuClosed),"slug"in o&&s(1,l=o.slug)},[t,l,a]}class ut extends ne{constructor(e){super(),le(this,e,ct,ot,se,{menuClosed:0,slug:1})}}function dt(n){let e,s='<div class="card h-full w-full flex bg-base-100 shadow-xl p-6"><div class="flex"><h1 class="text-2xl">Overview</h1></div> <div class="divider my-2"></div></div>';return{c(){e=d("div"),e.innerHTML=s,this.h()},l(t){e=f(t,"DIV",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-s2t9u2"&&(e.innerHTML=s),this.h()},h(){v(e,"class","relative grow m-6")},m(t,l){Q(t,e,l)},p:W,i:W,o:W,d(t){t&&h(e)}}}class ft extends ne{constructor(e){super(),le(this,e,null,dt,se,{})}}function Re(n,e,s){const t=n.slice();return t[15]=e[s].id,t[16]=e[s].email,t[17]=e[s].userType,t}function ht(n){let e,s,t,l="<tr><th>Email</th> <th>User Type</th> <th></th></tr>",a,o,_=[],p=new Map,c=Se(n[1]);const u=i=>i[15];for(let i=0;i<c.length;i+=1){let C=Re(n,c,i),$=u(C);p.set($,_[i]=De($,C))}return{c(){e=d("div"),s=d("table"),t=d("thead"),t.innerHTML=l,a=S(),o=d("tbody");for(let i=0;i<_.length;i+=1)_[i].c();this.h()},l(i){e=f(i,"DIV",{class:!0});var C=E(e);s=f(C,"TABLE",{class:!0});var $=E(s);t=f($,"THEAD",{"data-svelte-h":!0}),N(t)!=="svelte-1hnhc4r"&&(t.innerHTML=l),a=V($),o=f($,"TBODY",{});var R=E(o);for(let A=0;A<_.length;A+=1)_[A].l(R);R.forEach(h),$.forEach(h),C.forEach(h),this.h()},h(){v(s,"class","table table-zebra"),v(e,"class","overflow-x-auto grow")},m(i,C){Q(i,e,C),r(e,s),r(s,t),r(s,a),r(s,o);for(let $=0;$<_.length;$+=1)_[$]&&_[$].m(o,null)},p(i,C){C&206&&(c=Se(i[1]),_=Pe(_,C,u,1,i,c,p,o,Be,De,null,Re))},d(i){i&&h(e);for(let C=0;C<_.length;C+=1)_[C].d()}}}function mt(n){let e,s,t,l="<h2>Edit User</h2>",a,o,_,p,c,u,i,C='<span class="label-text">Email</span>',$,R,A,D,y,M='<span class="label-text">User Type</span>',m,g,U,H="CUSTOMER",b,k="REPORTER",O,x="ADMIN",ee,ae,K,P,B="Cancel",te,X,j="Update",ue,ge;return{c(){e=d("div"),s=d("div"),t=d("div"),t.innerHTML=l,a=S(),o=d("div"),_=S(),p=d("form"),c=d("div"),u=d("div"),i=d("label"),i.innerHTML=C,$=S(),R=d("input"),A=S(),D=d("div"),y=d("label"),y.innerHTML=M,m=S(),g=d("select"),U=d("option"),U.textContent=H,b=d("option"),b.textContent=k,O=d("option"),O.textContent=x,ae=S(),K=d("div"),P=d("button"),P.textContent=B,te=S(),X=d("button"),X.textContent=j,this.h()},l(I){e=f(I,"DIV",{class:!0});var T=E(e);s=f(T,"DIV",{class:!0});var re=E(s);t=f(re,"DIV",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-hizuom"&&(t.innerHTML=l),a=V(re),o=f(re,"DIV",{class:!0}),E(o).forEach(h),_=V(re),p=f(re,"FORM",{class:!0});var ie=E(p);c=f(ie,"DIV",{class:!0});var de=E(c);u=f(de,"DIV",{class:!0});var oe=E(u);i=f(oe,"LABEL",{class:!0,"data-svelte-h":!0}),N(i)!=="svelte-19h6odq"&&(i.innerHTML=C),$=V(oe),R=f(oe,"INPUT",{type:!0,placeholder:!0,class:!0}),oe.forEach(h),A=V(de),D=f(de,"DIV",{class:!0});var fe=E(D);y=f(fe,"LABEL",{class:!0,"data-svelte-h":!0}),N(y)!=="svelte-cmzwsl"&&(y.innerHTML=M),m=V(fe),g=f(fe,"SELECT",{class:!0});var ce=E(g);U=f(ce,"OPTION",{"data-svelte-h":!0}),N(U)!=="svelte-1albkzk"&&(U.textContent=H),b=f(ce,"OPTION",{"data-svelte-h":!0}),N(b)!=="svelte-x3ne0d"&&(b.textContent=k),O=f(ce,"OPTION",{"data-svelte-h":!0}),N(O)!=="svelte-px4ewr"&&(O.textContent=x),ce.forEach(h),fe.forEach(h),de.forEach(h),ae=V(ie),K=f(ie,"DIV",{class:!0});var he=E(K);P=f(he,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),N(P)!=="svelte-1sgk0ie"&&(P.textContent=B),te=V(he),X=f(he,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),N(X)!=="svelte-m9xsm6"&&(X.textContent=j),he.forEach(h),ie.forEach(h),re.forEach(h),T.forEach(h),this.h()},h(){v(t,"class","flex justify-center"),v(o,"class","divider my-2"),v(i,"class","label"),v(R,"type","email"),v(R,"placeholder","Enter email..."),v(R,"class","input input-bordered w-full"),v(u,"class","form-control w-full"),v(y,"class","label"),U.__value="CUSTOMER",pe(U,U.__value),b.__value="REPORTER",pe(b,b.__value),O.__value="ADMIN",pe(O,O.__value),v(g,"class","select select-bordered w-full"),v(D,"class","form-control w-full"),v(c,"class","flex flex-col grow"),v(P,"type","button"),v(P,"class","btn"),v(X,"type","submit"),v(X,"class","btn btn-primary"),v(K,"class","flex justify-between"),v(p,"class","flex flex-col grow"),v(s,"class","relative card w-3/4 h-3/4 dims flex bg-base-200 shadow-xl p-6 flex-col svelte-18lwdn1"),v(e,"class","relative grow flex items-center justify-center")},m(I,T){Q(I,e,T),r(e,s),r(s,t),r(s,a),r(s,o),r(s,_),r(s,p),r(p,c),r(c,u),r(u,i),r(u,$),r(u,R),pe(R,n[2].email),r(c,A),r(c,D),r(D,y),r(D,m),r(D,g),r(g,U),r(g,b),r(g,O),we(g,n[6](n[2].userType).toUpperCase()),r(p,ae),r(p,K),r(K,P),r(K,te),r(K,X),ue||(ge=[Y(R,"input",n[8]),Y(g,"change",n[9]),Y(P,"click",n[10]),Y(p,"submit",Ne(n[11]))],ue=!0)},p(I,T){T&4&&R.value!==I[2].email&&pe(R,I[2].email),T&4&&ee!==(ee=I[6](I[2].userType).toUpperCase())&&we(g,I[6](I[2].userType).toUpperCase())},d(I){I&&h(e),ue=!1,$e(ge)}}}function vt(n){let e,s='<span class="loading loading-ring loading-lg"></span>';return{c(){e=d("div"),e.innerHTML=s,this.h()},l(t){e=f(t,"DIV",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-oeracv"&&(e.innerHTML=s),this.h()},h(){v(e,"class","grow flex items-center justify-center")},m(t,l){Q(t,e,l)},p:W,d(t){t&&h(e)}}}function De(n,e){let s,t,l=e[16]+"",a,o,_,p=e[6](e[17]).toUpperCase()+"",c,u,i,C,$="Edit",R,A,D="Delete",y,M,m;function g(){return e[12](e[15],e[16],e[17])}function U(){return e[13](e[15])}return{key:n,first:null,c(){s=d("tr"),t=d("td"),a=ve(l),o=S(),_=d("td"),c=ve(p),u=S(),i=d("td"),C=d("button"),C.textContent=$,R=S(),A=d("button"),A.textContent=D,y=S(),this.h()},l(H){s=f(H,"TR",{});var b=E(s);t=f(b,"TD",{});var k=E(t);a=_e(k,l),k.forEach(h),o=V(b),_=f(b,"TD",{});var O=E(_);c=_e(O,p),O.forEach(h),u=V(b),i=f(b,"TD",{class:!0});var x=E(i);C=f(x,"BUTTON",{class:!0,"data-svelte-h":!0}),N(C)!=="svelte-ir4h8j"&&(C.textContent=$),R=V(x),A=f(x,"BUTTON",{class:!0,"data-svelte-h":!0}),N(A)!=="svelte-h7whhc"&&(A.textContent=D),x.forEach(h),y=V(b),b.forEach(h),this.h()},h(){v(C,"class","btn btn-primary mr-4"),v(A,"class","btn btn-error"),v(i,"class","flex items-center justify-center"),this.first=s},m(H,b){Q(H,s,b),r(s,t),r(t,a),r(s,o),r(s,_),r(_,c),r(s,u),r(s,i),r(i,C),r(i,R),r(i,A),r(s,y),M||(m=[Y(C,"click",g),Y(A,"click",U)],M=!0)},p(H,b){e=H,b&2&&l!==(l=e[16]+"")&&Te(a,l),b&2&&p!==(p=e[6](e[17]).toUpperCase()+"")&&Te(c,p)},d(H){H&&h(s),M=!1,$e(m)}}}function _t(n){let e,s,t,l='<h1 class="text-2xl">User Management</h1>',a,o,_;function p(i,C){return i[0]?vt:i[2]!==null?mt:ht}let c=p(n),u=c(n);return{c(){e=d("div"),s=d("div"),t=d("div"),t.innerHTML=l,a=S(),o=d("div"),_=S(),u.c(),this.h()},l(i){e=f(i,"DIV",{class:!0});var C=E(e);s=f(C,"DIV",{class:!0});var $=E(s);t=f($,"DIV",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-dlv6z4"&&(t.innerHTML=l),a=V($),o=f($,"DIV",{class:!0}),E(o).forEach(h),_=V($),u.l($),$.forEach(h),C.forEach(h),this.h()},h(){v(t,"class","flex"),v(o,"class","divider my-2"),v(s,"class","relative card flex bg-base-100 shadow-xl p-6 flex-col h-full w-full overflow-x-auto"),v(e,"class","relative p-6 h-full w-full")},m(i,C){Q(i,e,C),r(e,s),r(s,t),r(s,a),r(s,o),r(s,_),u.m(s,null)},p(i,[C]){c===(c=p(i))&&u?u.p(i,C):(u.d(1),u=c(i),u&&(u.c(),u.m(s,null)))},i:W,o:W,d(i){i&&h(e),u.d()}}}function gt(n,e,s){const t=async M=>await(await fetch("/api/admin/users",{method:"DELETE",body:JSON.stringify({id:M}),headers:{"Content-Type":"application/json"}})).json(),l=async(M,m,g)=>await(await fetch("/api/admin/users",{method:"POST",body:JSON.stringify({id:M,email:m,user_type:o(g)}),headers:{"Content-Type":"application/json"}})).json(),a=M=>{switch(M){case"customer":return me.CUSTOMER;case"admin":return me.ADMIN;case"reporter":return me.REPORTER;default:return me.CUSTOMER}},o=M=>{switch(M){case me.CUSTOMER:return"customer";case me.ADMIN:return"admin";case me.REPORTER:return"reporter";default:return"customer"}},_=async()=>(await(await fetch("/api/admin/users")).json()).users;let p=!0,c,u=null;const i=async()=>{s(0,p=!0),s(1,c=(await _()).map(({id:M,email:m,user_type:g})=>({id:M,email:m,userType:a(g)}))),s(0,p=!1)};He(i);function C(){u.email=this.value,s(2,u)}return[p,c,u,t,l,a,o,i,C,M=>{u!==null&&s(2,u.userType=a(M.currentTarget.value.toLowerCase()),u)},()=>s(2,u=null),async()=>{u!==null&&(await l(u.id,u.email,u.userType),Ve.verify(),s(2,u=null),i())},(M,m,g)=>s(2,u={id:M,email:m,userType:g}),async M=>{await t(M),Ve.verify(),i()}]}class pt extends ne{constructor(e){super(),le(this,e,gt,_t,se,{})}}function bt(n){let e,s="Reviews";return{c(){e=d("h1"),e.textContent=s},l(t){e=f(t,"H1",{"data-svelte-h":!0}),N(e)!=="svelte-7342pt"&&(e.textContent=s)},m(t,l){Q(t,e,l)},p:W,i:W,o:W,d(t){t&&h(e)}}}class Ct extends ne{constructor(e){super(),le(this,e,null,bt,se,{})}}function Et(n){let e,s="QA";return{c(){e=d("h1"),e.textContent=s},l(t){e=f(t,"H1",{"data-svelte-h":!0}),N(e)!=="svelte-105je56"&&(e.textContent=s)},m(t,l){Q(t,e,l)},p:W,i:W,o:W,d(t){t&&h(e)}}}class $t extends ne{constructor(e){super(),le(this,e,null,Et,se,{})}}function It(n){let e,s="Mailing List";return{c(){e=d("h1"),e.textContent=s},l(t){e=f(t,"H1",{"data-svelte-h":!0}),N(e)!=="svelte-1esildf"&&(e.textContent=s)},m(t,l){Q(t,e,l)},p:W,i:W,o:W,d(t){t&&h(e)}}}class wt extends ne{constructor(e){super(),le(this,e,null,It,se,{})}}function Tt(n){let e,s,t,l,a,o,_,p,c,u,i,C;function $(m){n[3](m)}let R={};n[1]!==void 0&&(R.menuClosed=n[1]),e=new Ze({props:R}),Me.push(()=>Le(e,"menuClosed",$));function A(m){n[4](m)}let D={slug:n[0].slug};n[1]!==void 0&&(D.menuClosed=n[1]),a=new ut({props:D}),Me.push(()=>Le(a,"menuClosed",A));var y=n[2];function M(m,g){return{}}return y&&(c=ke(y,M())),{c(){z(e.$$.fragment),t=S(),l=d("div"),z(a.$$.fragment),_=S(),p=d("div"),c&&z(c.$$.fragment),this.h()},l(m){F(e.$$.fragment,m),t=V(m),l=f(m,"DIV",{class:!0});var g=E(l);F(a.$$.fragment,g),_=V(g),p=f(g,"DIV",{class:!0});var U=E(p);c&&F(c.$$.fragment,U),U.forEach(h),g.forEach(h),this.h()},h(){v(p,"class","relative flex grow bg-base-200 md:brightness-100 overflow-hidden"),w(p,"brightness-50",!n[1]),v(l,"class","relative flex grow")},m(m,g){G(e,m,g),Q(m,t,g),Q(m,l,g),G(a,l,null),r(l,_),r(l,p),c&&G(c,p,null),u=!0,i||(C=Y(p,"click",n[5]),i=!0)},p(m,[g]){const U={};!s&&g&2&&(s=!0,U.menuClosed=m[1],ye(()=>s=!1)),e.$set(U);const H={};if(g&1&&(H.slug=m[0].slug),!o&&g&2&&(o=!0,H.menuClosed=m[1],ye(()=>o=!1)),a.$set(H),g&4&&y!==(y=m[2])){if(c){je();const b=c;Z(b.$$.fragment,1,0,()=>{J(b,1)}),xe()}y?(c=ke(y,M()),z(c.$$.fragment),q(c.$$.fragment,1),G(c,p,null)):c=null}(!u||g&2)&&w(p,"brightness-50",!m[1])},i(m){u||(q(e.$$.fragment,m),q(a.$$.fragment,m),c&&q(c.$$.fragment,m),u=!0)},o(m){Z(e.$$.fragment,m),Z(a.$$.fragment,m),c&&Z(c.$$.fragment,m),u=!1},d(m){m&&(h(t),h(l)),J(e,m),J(a),c&&J(c),i=!1,C()}}}function Mt(n,e,s){let{data:t}=e,l=!0,a=null;function o(c){l=c,s(1,l)}function _(c){l=c,s(1,l)}const p=()=>s(1,l=!0);return n.$$set=c=>{"data"in c&&s(0,t=c.data)},n.$$.update=()=>{if(n.$$.dirty&1)switch(t.slug){case L.USERS:s(2,a=pt);break;case L.REVIEWS:s(2,a=Ct);break;case L.QA:s(2,a=$t);break;case L.MAILING_LIST:s(2,a=wt);break;default:s(2,a=ft);break}},[t,l,a,o,_,p]}class Ut extends ne{constructor(e){super(),le(this,e,Mt,Tt,se,{data:0})}}export{Ut as component,Dt as universal};

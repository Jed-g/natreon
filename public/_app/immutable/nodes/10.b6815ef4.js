import{s as et,f as u,a as _,g as d,h as k,A as C,c as v,d as p,j as a,i as B,x as o,Y as Z,B as z,Z as rt,C as nt,o as at,y as tt,P as it}from"../chunks/scheduler.ef5aa3da.js";import{S as lt,i as st,g as pe,t as M,c as he,a as w,b as F,d as q,m as X,e as J}from"../chunks/index.7d1d894a.js";import{e as ot}from"../chunks/spread.e8bb49a5.js";import{s as ct,a as ft}from"../chunks/index.111f123f.js";import{I as Q}from"../chunks/Icon.94fb4e69.js";import{d as xe}from"../chunks/checkbox-marked.a0053e7f.js";import{d as _e}from"../chunks/close-box.75461ac6.js";import{p as ut}from"../chunks/index.b7a59e8c.js";import{a as dt}from"../chunks/index.e6a189c6.js";function We(f){let t;return{c(){t=u("div"),this.h()},l(e){t=d(e,"DIV",{class:!0}),k(t).forEach(p),this.h()},h(){a(t,"class","divider my-1")},m(e,c){B(e,t,c)},d(e){e&&p(t)}}}function mt(f){let t,e,c,l,n="Email Valid",i;return e=new Q({props:{icon:xe,height:24,class:"scale-125",color:"oklch(var(--su))"}}),{c(){t=u("div"),F(e.$$.fragment),c=_(),l=u("p"),l.textContent=n,this.h()},l(s){t=d(s,"DIV",{class:!0});var r=k(t);q(e.$$.fragment,r),c=v(r),l=d(r,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-1jeogiy"&&(l.textContent=n),r.forEach(p),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,r){B(s,t,r),X(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),J(e)}}}function pt(f){let t,e,c,l,n="Email Not Valid",i;return e=new Q({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),F(e.$$.fragment),c=_(),l=u("p"),l.textContent=n,this.h()},l(s){t=d(s,"DIV",{class:!0});var r=k(t);q(e.$$.fragment,r),c=v(r),l=d(r,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-cd8amd"&&(l.textContent=n),r.forEach(p),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,r){B(s,t,r),X(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),J(e)}}}function Ye(f){let t,e,c,l,n="Email Belongs To Another User",i;return e=new Q({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),F(e.$$.fragment),c=_(),l=u("p"),l.textContent=n,this.h()},l(s){t=d(s,"DIV",{class:!0});var r=k(t);q(e.$$.fragment,r),c=v(r),l=d(r,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-1sem3xv"&&(l.textContent=n),r.forEach(p),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,r){B(s,t,r),X(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),J(e)}}}function ht(f){let t,e,c,l,n="Nickname Length Ok",i;return e=new Q({props:{icon:xe,height:24,class:"scale-125",color:"oklch(var(--su))"}}),{c(){t=u("div"),F(e.$$.fragment),c=_(),l=u("p"),l.textContent=n,this.h()},l(s){t=d(s,"DIV",{class:!0});var r=k(t);q(e.$$.fragment,r),c=v(r),l=d(r,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-3ucmxq"&&(l.textContent=n),r.forEach(p),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,r){B(s,t,r),X(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),J(e)}}}function _t(f){let t,e,c,l,n="Nickname Needs To Be At Least 3 Characters Long",i;return e=new Q({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),F(e.$$.fragment),c=_(),l=u("p"),l.textContent=n,this.h()},l(s){t=d(s,"DIV",{class:!0});var r=k(t);q(e.$$.fragment,r),c=v(r),l=d(r,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-kkm5ji"&&(l.textContent=n),r.forEach(p),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,r){B(s,t,r),X(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),J(e)}}}function vt(f){let t,e,c,l,n="Password Length Ok",i;return e=new Q({props:{icon:xe,height:24,class:"scale-125",color:"oklch(var(--su))"}}),{c(){t=u("div"),F(e.$$.fragment),c=_(),l=u("p"),l.textContent=n,this.h()},l(s){t=d(s,"DIV",{class:!0});var r=k(t);q(e.$$.fragment,r),c=v(r),l=d(r,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-1953dfb"&&(l.textContent=n),r.forEach(p),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,r){B(s,t,r),X(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),J(e)}}}function gt(f){let t,e,c,l,n="Password Too Short (min. 8 characters)",i;return e=new Q({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),F(e.$$.fragment),c=_(),l=u("p"),l.textContent=n,this.h()},l(s){t=d(s,"DIV",{class:!0});var r=k(t);q(e.$$.fragment,r),c=v(r),l=d(r,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-19yyt80"&&(l.textContent=n),r.forEach(p),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,r){B(s,t,r),X(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),J(e)}}}function kt(f){let t,e,c,l,n="Passwords Match",i;return e=new Q({props:{icon:xe,height:24,class:"scale-125",color:"oklch(var(--su))"}}),{c(){t=u("div"),F(e.$$.fragment),c=_(),l=u("p"),l.textContent=n,this.h()},l(s){t=d(s,"DIV",{class:!0});var r=k(t);q(e.$$.fragment,r),c=v(r),l=d(r,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-1ff6dtd"&&(l.textContent=n),r.forEach(p),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,r){B(s,t,r),X(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),J(e)}}}function bt(f){let t,e,c,l,n="Passwords Do Not Match",i;return e=new Q({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),F(e.$$.fragment),c=_(),l=u("p"),l.textContent=n,this.h()},l(s){t=d(s,"DIV",{class:!0});var r=k(t);q(e.$$.fragment,r),c=v(r),l=d(r,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-10dwgxn"&&(l.textContent=n),r.forEach(p),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,r){B(s,t,r),X(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),J(e)}}}function wt(f){let t,e,c,l="Signup",n,i,s,r='<span class="label-text">Email</span>',g,b,H,O,P,ve='<span class="label-text">Nickname</span>',de,L,j,W,Y,He='<span class="label-text">Description</span>',ye,G,Ie,K,ee,Oe='<span class="label-text">Password (min. 8 characters)</span>',Ve,U,Pe,te,le,Be='<span class="label-text">Confirm Password</span>',Le,R,De,ge,D,E,ke,be,N,T,we,A,x,Me,S,y,$e,me,Ne,ae,Ue='<button class="btn btn-primary btn-sm">Create Account</button>',Ae,ie,Re='<a class="btn btn-neutral btn-sm mt-2" href="/login">Back</a>',Ce,Se,je,I=(f[1].emailValid!==null||f[1].emailNotTaken!==null||f[1].passwordMin8!==null||f[1].passwordsMatch!==null)&&We();const Ge=[pt,mt],oe=[];function Ze(m,V){return m[1].emailValid===!1?0:m[1].emailValid===!0?1:-1}~(D=Ze(f))&&(E=oe[D]=Ge[D](f));let $=f[1].emailNotTaken===!1&&Ye();const ze=[_t,ht],ce=[];function Fe(m,V){return m[1].nicknameMin3===!1?0:m[1].nicknameMin3===!0?1:-1}~(N=Fe(f))&&(T=ce[N]=ze[N](f));const qe=[gt,vt],fe=[];function Xe(m,V){return m[1].passwordMin8===!1?0:m[1].passwordMin8===!0?1:-1}~(A=Xe(f))&&(x=fe[A]=qe[A](f));const Je=[bt,kt],ue=[];function Qe(m,V){return m[1].passwordsMatch===!1?0:m[1].passwordsMatch===!0?1:-1}return~(S=Qe(f))&&(y=ue[S]=Je[S](f)),{c(){t=u("form"),e=u("div"),c=u("h2"),c.textContent=l,n=_(),i=u("div"),s=u("label"),s.innerHTML=r,g=_(),b=u("input"),H=_(),O=u("div"),P=u("label"),P.innerHTML=ve,de=_(),L=u("input"),j=_(),W=u("div"),Y=u("label"),Y.innerHTML=He,ye=_(),G=u("textarea"),Ie=_(),K=u("div"),ee=u("label"),ee.innerHTML=Oe,Ve=_(),U=u("input"),Pe=_(),te=u("div"),le=u("label"),le.innerHTML=Be,Le=_(),R=u("input"),De=_(),I&&I.c(),ge=_(),E&&E.c(),ke=_(),$&&$.c(),be=_(),T&&T.c(),we=_(),x&&x.c(),Me=_(),y&&y.c(),$e=_(),me=u("div"),Ne=_(),ae=u("div"),ae.innerHTML=Ue,Ae=_(),ie=u("div"),ie.innerHTML=Re,this.h()},l(m){t=d(m,"FORM",{class:!0});var V=k(t);e=d(V,"DIV",{class:!0});var h=k(e);c=d(h,"H2",{class:!0,"data-svelte-h":!0}),C(c)!=="svelte-ymhdoa"&&(c.textContent=l),n=v(h),i=d(h,"DIV",{class:!0});var se=k(i);s=d(se,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),C(s)!=="svelte-efmmh6"&&(s.innerHTML=r),g=v(se),b=d(se,"INPUT",{type:!0,placeholder:!0,class:!0,id:!0,"data-testid":!0}),se.forEach(p),H=v(h),O=d(h,"DIV",{class:!0});var re=k(O);P=d(re,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),C(P)!=="svelte-dgrrtc"&&(P.innerHTML=ve),de=v(re),L=d(re,"INPUT",{type:!0,placeholder:!0,class:!0,id:!0}),re.forEach(p),j=v(h),W=d(h,"DIV",{class:!0});var ne=k(W);Y=d(ne,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),C(Y)!=="svelte-12ctmti"&&(Y.innerHTML=He),ye=v(ne),G=d(ne,"TEXTAREA",{placeholder:!0,class:!0,id:!0}),k(G).forEach(p),ne.forEach(p),Ie=v(h),K=d(h,"DIV",{class:!0});var Ee=k(K);ee=d(Ee,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),C(ee)!=="svelte-t8iu3x"&&(ee.innerHTML=Oe),Ve=v(Ee),U=d(Ee,"INPUT",{type:!0,placeholder:!0,class:!0,id:!0}),Ee.forEach(p),Pe=v(h),te=d(h,"DIV",{class:!0});var Te=k(te);le=d(Te,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),C(le)!=="svelte-euftcr"&&(le.innerHTML=Be),Le=v(Te),R=d(Te,"INPUT",{type:!0,placeholder:!0,class:!0,id:!0}),Te.forEach(p),De=v(h),I&&I.l(h),ge=v(h),E&&E.l(h),ke=v(h),$&&$.l(h),be=v(h),T&&T.l(h),we=v(h),x&&x.l(h),Me=v(h),y&&y.l(h),$e=v(h),me=d(h,"DIV",{class:!0}),k(me).forEach(p),Ne=v(h),ae=d(h,"DIV",{class:!0,"data-svelte-h":!0}),C(ae)!=="svelte-1ta665b"&&(ae.innerHTML=Ue),Ae=v(h),ie=d(h,"DIV",{class:!0,"data-svelte-h":!0}),C(ie)!=="svelte-1amvf8o"&&(ie.innerHTML=Re),h.forEach(p),V.forEach(p),this.h()},h(){a(c,"class","card-title"),a(s,"class","label"),a(s,"for","email"),a(b,"type","text"),a(b,"placeholder","email"),a(b,"class","input input-bordered"),a(b,"id","email"),a(b,"data-testid","email"),a(i,"class","form-control"),a(P,"class","label"),a(P,"for","nickname"),a(L,"type","text"),a(L,"placeholder","nickname"),a(L,"class","input input-bordered"),a(L,"id","nickname"),a(O,"class","form-control"),a(Y,"class","label"),a(Y,"for","description"),a(G,"placeholder","description"),a(G,"class","textarea textarea-bordered"),a(G,"id","description"),a(W,"class","form-control"),a(ee,"class","label"),a(ee,"for","password"),a(U,"type","password"),a(U,"placeholder","password"),a(U,"class","input input-bordered"),a(U,"id","password"),a(K,"class","form-control"),a(le,"class","label"),a(le,"for","confirm-password"),a(R,"type","password"),a(R,"placeholder","confirm password"),a(R,"class","input input-bordered"),a(R,"id","confirm-password"),a(te,"class","form-control"),a(me,"class","divider my-1"),a(ae,"class","form-control"),a(ie,"class","form-control"),a(e,"class","card-body"),a(t,"class","card flex-shrink-0 w-full max-w-sm shadow-2xl bg-base-100")},m(m,V){B(m,t,V),o(t,e),o(e,c),o(e,n),o(e,i),o(i,s),o(i,g),o(i,b),Z(b,f[0].email),o(e,H),o(e,O),o(O,P),o(O,de),o(O,L),Z(L,f[0].nickname),o(e,j),o(e,W),o(W,Y),o(W,ye),o(W,G),Z(G,f[0].description),o(e,Ie),o(e,K),o(K,ee),o(K,Ve),o(K,U),Z(U,f[0].password),o(e,Pe),o(e,te),o(te,le),o(te,Le),o(te,R),Z(R,f[0].confirmPassword),o(e,De),I&&I.m(e,null),o(e,ge),~D&&oe[D].m(e,null),o(e,ke),$&&$.m(e,null),o(e,be),~N&&ce[N].m(e,null),o(e,we),~A&&fe[A].m(e,null),o(e,Me),~S&&ue[S].m(e,null),o(e,$e),o(e,me),o(e,Ne),o(e,ae),o(e,Ae),o(e,ie),Ce=!0,Se||(je=[z(b,"input",f[3]),z(b,"input",f[4]),z(L,"input",f[5]),z(L,"input",f[6]),z(G,"input",f[7]),z(U,"input",f[8]),z(U,"input",f[9]),z(R,"input",f[10]),z(R,"input",f[11]),z(t,"submit",rt(f[2]))],Se=!0)},p(m,[V]){V&1&&b.value!==m[0].email&&Z(b,m[0].email),V&1&&L.value!==m[0].nickname&&Z(L,m[0].nickname),V&1&&Z(G,m[0].description),V&1&&U.value!==m[0].password&&Z(U,m[0].password),V&1&&R.value!==m[0].confirmPassword&&Z(R,m[0].confirmPassword),m[1].emailValid!==null||m[1].emailNotTaken!==null||m[1].passwordMin8!==null||m[1].passwordsMatch!==null?I||(I=We(),I.c(),I.m(e,ge)):I&&(I.d(1),I=null);let h=D;D=Ze(m),D!==h&&(E&&(pe(),M(oe[h],1,1,()=>{oe[h]=null}),he()),~D?(E=oe[D],E||(E=oe[D]=Ge[D](m),E.c()),w(E,1),E.m(e,ke)):E=null),m[1].emailNotTaken===!1?$?V&2&&w($,1):($=Ye(),$.c(),w($,1),$.m(e,be)):$&&(pe(),M($,1,1,()=>{$=null}),he());let se=N;N=Fe(m),N!==se&&(T&&(pe(),M(ce[se],1,1,()=>{ce[se]=null}),he()),~N?(T=ce[N],T||(T=ce[N]=ze[N](m),T.c()),w(T,1),T.m(e,we)):T=null);let re=A;A=Xe(m),A!==re&&(x&&(pe(),M(fe[re],1,1,()=>{fe[re]=null}),he()),~A?(x=fe[A],x||(x=fe[A]=qe[A](m),x.c()),w(x,1),x.m(e,Me)):x=null);let ne=S;S=Qe(m),S!==ne&&(y&&(pe(),M(ue[ne],1,1,()=>{ue[ne]=null}),he()),~S?(y=ue[S],y||(y=ue[S]=Je[S](m),y.c()),w(y,1),y.m(e,$e)):y=null)},i(m){Ce||(w(E),w($),w(T),w(x),w(y),Ce=!0)},o(m){M(E),M($),M(T),M(x),M(y),Ce=!1},d(m){m&&p(t),I&&I.d(),~D&&oe[D].d(),$&&$.d(),~N&&ce[N].d(),~A&&fe[A].d(),~S&&ue[S].d(),Se=!1,nt(je)}}}const Ke=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;function Mt(f,t,e){let c;at(()=>(c=setTimeout(()=>ut("/signup"),dt),()=>clearTimeout(c)));let l={email:"",nickname:"",description:"",password:"",confirmPassword:""},n={emailValid:null,emailNotTaken:null,passwordMin8:null,passwordsMatch:null,nicknameMin3:null};const i=()=>{let j=!0;return Ke.test(l.email)||(j=!1,e(1,n.emailValid=!1,n)),l.password.length<8&&(j=!1,e(1,n.passwordMin8=!1,n)),l.password!==l.confirmPassword&&(j=!1,e(1,n.passwordsMatch=!1,n)),l.nickname.length<3&&(j=!1,e(1,n.nicknameMin3=!1,n)),j},s=async()=>{if(!i())return;await ct(l.email,l.nickname,l.description,l.password)?(fetch("/api/stats/landing/registration-completed",{method:"POST",body:JSON.stringify({email:l.email}),headers:{"Content-Type":"application/json"}}),ft.verify()):e(1,n.emailNotTaken=!1,n)};function r(){l.email=this.value,e(0,l)}const g=()=>{n.emailValid===null&&e(1,n.emailValid=!1,n),e(1,n.emailNotTaken=null,n)};function b(){l.nickname=this.value,e(0,l)}const H=()=>{n.nicknameMin3===null&&e(1,n.nicknameMin3=!1,n)};function O(){l.description=this.value,e(0,l)}function P(){l.password=this.value,e(0,l)}const ve=()=>{n.passwordMin8===null&&e(1,n.passwordMin8=!1,n)};function de(){l.confirmPassword=this.value,e(0,l)}const L=()=>{n.passwordsMatch===null&&e(1,n.passwordsMatch=!1,n)};return f.$$.update=()=>{f.$$.dirty&3&&(n.emailValid!==null&&e(1,n.emailValid=Ke.test(l.email),n),n.nicknameMin3!==null&&e(1,n.nicknameMin3=l.nickname.length>=3,n),n.passwordMin8!==null&&e(1,n.passwordMin8=l.password.length>=8,n),n.passwordsMatch!==null&&e(1,n.passwordsMatch=l.password===l.confirmPassword,n))},[l,n,s,r,g,b,H,O,P,ve,de,L]}class $t extends lt{constructor(t){super(),st(this,t,Mt,wt,et,{})}}function Ct(f,t,e){const c=f.slice();return c[0]=t[e],c}function Et(f){let t;return{c(){t=u("div"),this.h()},l(e){t=d(e,"DIV",{class:!0}),k(t).forEach(p),this.h()},h(){a(t,"class","tri svelte-1kjisr1")},m(e,c){B(e,t,c)},p:tt,d(e){e&&p(t)}}}function Tt(f){let t,e,c,l,n,i,s=ot(Array(200)),r=[];for(let g=0;g<s.length;g+=1)r[g]=Et(Ct(f,s,g));return n=new $t({}),{c(){t=u("div"),e=u("div");for(let g=0;g<r.length;g+=1)r[g].c();c=_(),l=u("div"),F(n.$$.fragment),this.h()},l(g){t=d(g,"DIV",{class:!0});var b=k(t);e=d(b,"DIV",{class:!0});var H=k(e);for(let P=0;P<r.length;P+=1)r[P].l(H);H.forEach(p),c=v(b),l=d(b,"DIV",{class:!0});var O=k(l);q(n.$$.fragment,O),O.forEach(p),b.forEach(p),this.h()},h(){a(e,"class","wrap svelte-1kjisr1"),a(l,"class","h-full flex items-center justify-center"),a(t,"class","grow relative")},m(g,b){B(g,t,b),o(t,e);for(let H=0;H<r.length;H+=1)r[H]&&r[H].m(e,null);o(t,c),o(t,l),X(n,l,null),i=!0},p:tt,i(g){i||(w(n.$$.fragment,g),i=!0)},o(g){M(n.$$.fragment,g),i=!1},d(g){g&&p(t),it(r,g),J(n)}}}class St extends lt{constructor(t){super(),st(this,t,null,Tt,et,{})}}export{St as component};

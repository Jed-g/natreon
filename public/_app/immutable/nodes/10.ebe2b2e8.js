import{s as Ne,f as d,a as v,g as h,h as k,A as N,c as g,d as m,j as o,i as O,x as c,P as te,B as Y,Q as Oe,C as Re,o as Ue,y as Se,R as Be}from"../chunks/scheduler.fa2c1182.js";import{S as Ae,i as He,g as fe,t as M,c as ue,a as $,b as Z,d as z,m as F,e as Q}from"../chunks/index.488748fd.js";import{e as Ge}from"../chunks/each.9917cb24.js";import{s as je,a as Ze}from"../chunks/index.e0160b1b.js";import{I as ee}from"../chunks/Icon.4e55cced.js";import{d as de}from"../chunks/close-box.75461ac6.js";import{p as ze,a as Fe}from"../chunks/index.b8c1d675.js";const be={width:24,height:24,body:'<path fill="currentColor" d="m10 17l-5-5l1.41-1.42L10 14.17l7.59-7.59L19 8m0-5H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/>'};function Pe(f){let t;return{c(){t=d("div"),this.h()},l(e){t=h(e,"DIV",{class:!0}),k(t).forEach(m),this.h()},h(){o(t,"class","divider my-1")},m(e,i){O(e,t,i)},d(e){e&&m(t)}}}function Qe(f){let t,e,i,l,r="Email Valid",n;return e=new ee({props:{icon:be,height:24,class:"scale-125",color:"oklch(var(--su))"}}),{c(){t=d("div"),Z(e.$$.fragment),i=v(),l=d("p"),l.textContent=r,this.h()},l(s){t=h(s,"DIV",{class:!0});var a=k(t);z(e.$$.fragment,a),i=g(a),l=h(a,"P",{class:!0,"data-svelte-h":!0}),N(l)!=="svelte-1jeogiy"&&(l.textContent=r),a.forEach(m),this.h()},h(){o(l,"class","ml-3"),o(t,"class","flex")},m(s,a){O(s,t,a),F(e,t,null),c(t,i),c(t,l),n=!0},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){M(e.$$.fragment,s),n=!1},d(s){s&&m(t),Q(e)}}}function qe(f){let t,e,i,l,r="Email Not Valid",n;return e=new ee({props:{icon:de,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=d("div"),Z(e.$$.fragment),i=v(),l=d("p"),l.textContent=r,this.h()},l(s){t=h(s,"DIV",{class:!0});var a=k(t);z(e.$$.fragment,a),i=g(a),l=h(a,"P",{class:!0,"data-svelte-h":!0}),N(l)!=="svelte-cd8amd"&&(l.textContent=r),a.forEach(m),this.h()},h(){o(l,"class","ml-3"),o(t,"class","flex")},m(s,a){O(s,t,a),F(e,t,null),c(t,i),c(t,l),n=!0},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){M(e.$$.fragment,s),n=!1},d(s){s&&m(t),Q(e)}}}function De(f){let t,e,i,l,r="Email Belongs To Another User",n;return e=new ee({props:{icon:de,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=d("div"),Z(e.$$.fragment),i=v(),l=d("p"),l.textContent=r,this.h()},l(s){t=h(s,"DIV",{class:!0});var a=k(t);z(e.$$.fragment,a),i=g(a),l=h(a,"P",{class:!0,"data-svelte-h":!0}),N(l)!=="svelte-1sem3xv"&&(l.textContent=r),a.forEach(m),this.h()},h(){o(l,"class","ml-3"),o(t,"class","flex")},m(s,a){O(s,t,a),F(e,t,null),c(t,i),c(t,l),n=!0},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){M(e.$$.fragment,s),n=!1},d(s){s&&m(t),Q(e)}}}function Je(f){let t,e,i,l,r="Password Length Ok",n;return e=new ee({props:{icon:be,height:24,class:"scale-125",color:"oklch(var(--su))"}}),{c(){t=d("div"),Z(e.$$.fragment),i=v(),l=d("p"),l.textContent=r,this.h()},l(s){t=h(s,"DIV",{class:!0});var a=k(t);z(e.$$.fragment,a),i=g(a),l=h(a,"P",{class:!0,"data-svelte-h":!0}),N(l)!=="svelte-1953dfb"&&(l.textContent=r),a.forEach(m),this.h()},h(){o(l,"class","ml-3"),o(t,"class","flex")},m(s,a){O(s,t,a),F(e,t,null),c(t,i),c(t,l),n=!0},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){M(e.$$.fragment,s),n=!1},d(s){s&&m(t),Q(e)}}}function We(f){let t,e,i,l,r="Password Too Short (min. 8 characters)",n;return e=new ee({props:{icon:de,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=d("div"),Z(e.$$.fragment),i=v(),l=d("p"),l.textContent=r,this.h()},l(s){t=h(s,"DIV",{class:!0});var a=k(t);z(e.$$.fragment,a),i=g(a),l=h(a,"P",{class:!0,"data-svelte-h":!0}),N(l)!=="svelte-19yyt80"&&(l.textContent=r),a.forEach(m),this.h()},h(){o(l,"class","ml-3"),o(t,"class","flex")},m(s,a){O(s,t,a),F(e,t,null),c(t,i),c(t,l),n=!0},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){M(e.$$.fragment,s),n=!1},d(s){s&&m(t),Q(e)}}}function Xe(f){let t,e,i,l,r="Passwords Match",n;return e=new ee({props:{icon:be,height:24,class:"scale-125",color:"oklch(var(--su))"}}),{c(){t=d("div"),Z(e.$$.fragment),i=v(),l=d("p"),l.textContent=r,this.h()},l(s){t=h(s,"DIV",{class:!0});var a=k(t);z(e.$$.fragment,a),i=g(a),l=h(a,"P",{class:!0,"data-svelte-h":!0}),N(l)!=="svelte-1ff6dtd"&&(l.textContent=r),a.forEach(m),this.h()},h(){o(l,"class","ml-3"),o(t,"class","flex")},m(s,a){O(s,t,a),F(e,t,null),c(t,i),c(t,l),n=!0},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){M(e.$$.fragment,s),n=!1},d(s){s&&m(t),Q(e)}}}function Ke(f){let t,e,i,l,r="Passwords Do Not Match",n;return e=new ee({props:{icon:de,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=d("div"),Z(e.$$.fragment),i=v(),l=d("p"),l.textContent=r,this.h()},l(s){t=h(s,"DIV",{class:!0});var a=k(t);z(e.$$.fragment,a),i=g(a),l=h(a,"P",{class:!0,"data-svelte-h":!0}),N(l)!=="svelte-10dwgxn"&&(l.textContent=r),a.forEach(m),this.h()},h(){o(l,"class","ml-3"),o(t,"class","flex")},m(s,a){O(s,t,a),F(e,t,null),c(t,i),c(t,l),n=!0},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){M(e.$$.fragment,s),n=!1},d(s){s&&m(t),Q(e)}}}function Ye(f){let t,e,i,l="Signup",r,n,s,a='<span class="label-text">Email</span>',_,w,D,L,V,R='<span class="label-text">Password (min. 8 characters)</span>',he,S,me,U,B,ke='<span class="label-text">Confirm Password</span>',pe,A,_e,se,T,y,ae,re,x,C,ne,P,E,ie,le,ve,q,$e='<button class="btn btn-primary btn-sm">Create Account</button>',ge,J,Me='<a class="btn btn-neutral btn-sm mt-2" href="/login">Back</a>',oe,we,ye,I=(f[1].emailValid!==null||f[1].emailNotTaken!==null||f[1].passwordMin8!==null||f[1].passwordsMatch!==null)&&Pe();const Ce=[qe,Qe],W=[];function Ee(u,H){return u[1].emailValid===!1?0:u[1].emailValid===!0?1:-1}~(T=Ee(f))&&(y=W[T]=Ce[T](f));let b=f[1].emailNotTaken===!1&&De();const Ie=[We,Je],X=[];function Ve(u,H){return u[1].passwordMin8===!1?0:u[1].passwordMin8===!0?1:-1}~(x=Ve(f))&&(C=X[x]=Ie[x](f));const Te=[Ke,Xe],K=[];function xe(u,H){return u[1].passwordsMatch===!1?0:u[1].passwordsMatch===!0?1:-1}return~(P=xe(f))&&(E=K[P]=Te[P](f)),{c(){t=d("form"),e=d("div"),i=d("h2"),i.textContent=l,r=v(),n=d("div"),s=d("label"),s.innerHTML=a,_=v(),w=d("input"),D=v(),L=d("div"),V=d("label"),V.innerHTML=R,he=v(),S=d("input"),me=v(),U=d("div"),B=d("label"),B.innerHTML=ke,pe=v(),A=d("input"),_e=v(),I&&I.c(),se=v(),y&&y.c(),ae=v(),b&&b.c(),re=v(),C&&C.c(),ne=v(),E&&E.c(),ie=v(),le=d("div"),ve=v(),q=d("div"),q.innerHTML=$e,ge=v(),J=d("div"),J.innerHTML=Me,this.h()},l(u){t=h(u,"FORM",{class:!0});var H=k(t);e=h(H,"DIV",{class:!0});var p=k(e);i=h(p,"H2",{class:!0,"data-svelte-h":!0}),N(i)!=="svelte-ymhdoa"&&(i.textContent=l),r=g(p),n=h(p,"DIV",{class:!0});var G=k(n);s=h(G,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),N(s)!=="svelte-efmmh6"&&(s.innerHTML=a),_=g(G),w=h(G,"INPUT",{type:!0,placeholder:!0,class:!0,id:!0}),G.forEach(m),D=g(p),L=h(p,"DIV",{class:!0});var j=k(L);V=h(j,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),N(V)!=="svelte-t8iu3x"&&(V.innerHTML=R),he=g(j),S=h(j,"INPUT",{type:!0,placeholder:!0,class:!0,id:!0}),j.forEach(m),me=g(p),U=h(p,"DIV",{class:!0});var ce=k(U);B=h(ce,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),N(B)!=="svelte-euftcr"&&(B.innerHTML=ke),pe=g(ce),A=h(ce,"INPUT",{type:!0,placeholder:!0,class:!0,id:!0}),ce.forEach(m),_e=g(p),I&&I.l(p),se=g(p),y&&y.l(p),ae=g(p),b&&b.l(p),re=g(p),C&&C.l(p),ne=g(p),E&&E.l(p),ie=g(p),le=h(p,"DIV",{class:!0}),k(le).forEach(m),ve=g(p),q=h(p,"DIV",{class:!0,"data-svelte-h":!0}),N(q)!=="svelte-1ta665b"&&(q.innerHTML=$e),ge=g(p),J=h(p,"DIV",{class:!0,"data-svelte-h":!0}),N(J)!=="svelte-1amvf8o"&&(J.innerHTML=Me),p.forEach(m),H.forEach(m),this.h()},h(){o(i,"class","card-title"),o(s,"class","label"),o(s,"for","email"),o(w,"type","text"),o(w,"placeholder","email"),o(w,"class","input input-bordered"),o(w,"id","email"),o(n,"class","form-control"),o(V,"class","label"),o(V,"for","password"),o(S,"type","password"),o(S,"placeholder","password"),o(S,"class","input input-bordered"),o(S,"id","password"),o(L,"class","form-control"),o(B,"class","label"),o(B,"for","confirm-password"),o(A,"type","password"),o(A,"placeholder","confirm password"),o(A,"class","input input-bordered"),o(A,"id","confirm-password"),o(U,"class","form-control"),o(le,"class","divider my-1"),o(q,"class","form-control"),o(J,"class","form-control"),o(e,"class","card-body"),o(t,"class","card flex-shrink-0 w-full max-w-sm shadow-2xl bg-base-100")},m(u,H){O(u,t,H),c(t,e),c(e,i),c(e,r),c(e,n),c(n,s),c(n,_),c(n,w),te(w,f[0].email),c(e,D),c(e,L),c(L,V),c(L,he),c(L,S),te(S,f[0].password),c(e,me),c(e,U),c(U,B),c(U,pe),c(U,A),te(A,f[0].confirmPassword),c(e,_e),I&&I.m(e,null),c(e,se),~T&&W[T].m(e,null),c(e,ae),b&&b.m(e,null),c(e,re),~x&&X[x].m(e,null),c(e,ne),~P&&K[P].m(e,null),c(e,ie),c(e,le),c(e,ve),c(e,q),c(e,ge),c(e,J),oe=!0,we||(ye=[Y(w,"input",f[3]),Y(w,"input",f[4]),Y(S,"input",f[5]),Y(S,"input",f[6]),Y(A,"input",f[7]),Y(A,"input",f[8]),Y(t,"submit",Oe(f[2]))],we=!0)},p(u,[H]){H&1&&w.value!==u[0].email&&te(w,u[0].email),H&1&&S.value!==u[0].password&&te(S,u[0].password),H&1&&A.value!==u[0].confirmPassword&&te(A,u[0].confirmPassword),u[1].emailValid!==null||u[1].emailNotTaken!==null||u[1].passwordMin8!==null||u[1].passwordsMatch!==null?I||(I=Pe(),I.c(),I.m(e,se)):I&&(I.d(1),I=null);let p=T;T=Ee(u),T!==p&&(y&&(fe(),M(W[p],1,1,()=>{W[p]=null}),ue()),~T?(y=W[T],y||(y=W[T]=Ce[T](u),y.c()),$(y,1),y.m(e,ae)):y=null),u[1].emailNotTaken===!1?b?H&2&&$(b,1):(b=De(),b.c(),$(b,1),b.m(e,re)):b&&(fe(),M(b,1,1,()=>{b=null}),ue());let G=x;x=Ve(u),x!==G&&(C&&(fe(),M(X[G],1,1,()=>{X[G]=null}),ue()),~x?(C=X[x],C||(C=X[x]=Ie[x](u),C.c()),$(C,1),C.m(e,ne)):C=null);let j=P;P=xe(u),P!==j&&(E&&(fe(),M(K[j],1,1,()=>{K[j]=null}),ue()),~P?(E=K[P],E||(E=K[P]=Te[P](u),E.c()),$(E,1),E.m(e,ie)):E=null)},i(u){oe||($(y),$(b),$(C),$(E),oe=!0)},o(u){M(y),M(b),M(C),M(E),oe=!1},d(u){u&&m(t),I&&I.d(),~T&&W[T].d(),b&&b.d(),~x&&X[x].d(),~P&&K[P].d(),we=!1,Re(ye)}}}const Le=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;function et(f,t,e){let i;Ue(()=>(i=setTimeout(()=>ze("/signup"),Fe),()=>clearTimeout(i)));let l={email:"",password:"",confirmPassword:""},r={emailValid:null,emailNotTaken:null,passwordMin8:null,passwordsMatch:null};const n=()=>{let R=!0;return Le.test(l.email)||(R=!1,e(1,r.emailValid=!1,r)),l.password.length<8&&(R=!1,e(1,r.passwordMin8=!1,r)),l.password!==l.confirmPassword&&(R=!1,e(1,r.passwordsMatch=!1,r)),R},s=async()=>{if(!n())return;await je(l.email,l.password)?(fetch("/api/stats/landing/registration-completed",{method:"POST",body:JSON.stringify({email:l.email}),headers:{"Content-Type":"application/json"}}),Ze.verify()):e(1,r.emailNotTaken=!1,r)};function a(){l.email=this.value,e(0,l)}const _=()=>{r.emailValid===null&&e(1,r.emailValid=!1,r),e(1,r.emailNotTaken=null,r)};function w(){l.password=this.value,e(0,l)}const D=()=>{r.passwordMin8===null&&e(1,r.passwordMin8=!1,r)};function L(){l.confirmPassword=this.value,e(0,l)}const V=()=>{r.passwordsMatch===null&&e(1,r.passwordsMatch=!1,r)};return f.$$.update=()=>{f.$$.dirty&3&&(r.emailValid!==null&&e(1,r.emailValid=Le.test(l.email),r),r.passwordMin8!==null&&e(1,r.passwordMin8=l.password.length>=8,r),r.passwordsMatch!==null&&e(1,r.passwordsMatch=l.password===l.confirmPassword,r))},[l,r,s,a,_,w,D,L,V]}class tt extends Ae{constructor(t){super(),He(this,t,et,Ye,Ne,{})}}function lt(f,t,e){const i=f.slice();return i[0]=t[e],i}function st(f){let t;return{c(){t=d("div"),this.h()},l(e){t=h(e,"DIV",{class:!0}),k(t).forEach(m),this.h()},h(){o(t,"class","tri svelte-garchn")},m(e,i){O(e,t,i)},p:Se,d(e){e&&m(t)}}}function at(f){let t,e,i,l,r,n,s=Ge(Array(200)),a=[];for(let _=0;_<s.length;_+=1)a[_]=st(lt(f,s,_));return r=new tt({}),{c(){t=d("div"),e=d("div");for(let _=0;_<a.length;_+=1)a[_].c();i=v(),l=d("div"),Z(r.$$.fragment),this.h()},l(_){t=h(_,"DIV",{class:!0});var w=k(t);e=h(w,"DIV",{class:!0});var D=k(e);for(let V=0;V<a.length;V+=1)a[V].l(D);D.forEach(m),i=g(w),l=h(w,"DIV",{class:!0});var L=k(l);z(r.$$.fragment,L),L.forEach(m),w.forEach(m),this.h()},h(){o(e,"class","wrap svelte-garchn"),o(l,"class","h-full flex items-center justify-center"),o(t,"class","grow relative")},m(_,w){O(_,t,w),c(t,e);for(let D=0;D<a.length;D+=1)a[D]&&a[D].m(e,null);c(t,i),c(t,l),F(r,l,null),n=!0},p:Se,i(_){n||($(r.$$.fragment,_),n=!0)},o(_){M(r.$$.fragment,_),n=!1},d(_){_&&m(t),Be(a,_),Q(r)}}}class dt extends Ae{constructor(t){super(),He(this,t,null,at,Ne,{})}}export{dt as component};

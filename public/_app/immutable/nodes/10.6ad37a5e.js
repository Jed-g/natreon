import{s as et,f as u,a as _,g as d,h as k,A as C,c as v,d as p,j as a,i as B,x as o,Q as z,B as F,R as nt,C as rt,o as at,y as tt,S as it}from"../chunks/scheduler.b2ba2f20.js";import{S as lt,i as st,g as pe,t as M,c as he,a as w,b as Z,d as q,m as Q,e as X}from"../chunks/index.4e73caa3.js";import{e as ot}from"../chunks/each.3a9df130.js";import{s as ct,a as ft}from"../chunks/index.4e6d79c5.js";import{I as J}from"../chunks/Icon.038c191f.js";import{d as xe}from"../chunks/checkbox-marked.a0053e7f.js";import{d as _e}from"../chunks/close-box.75461ac6.js";import{p as ut,a as dt}from"../chunks/index.17f77d2b.js";function We(f){let t;return{c(){t=u("div"),this.h()},l(e){t=d(e,"DIV",{class:!0}),k(t).forEach(p),this.h()},h(){a(t,"class","divider my-1")},m(e,c){B(e,t,c)},d(e){e&&p(t)}}}function mt(f){let t,e,c,l,r="Email Valid",i;return e=new J({props:{icon:xe,height:24,class:"scale-125",color:"oklch(var(--su))"}}),{c(){t=u("div"),Z(e.$$.fragment),c=_(),l=u("p"),l.textContent=r,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=k(t);q(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-1jeogiy"&&(l.textContent=r),n.forEach(p),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),X(e)}}}function pt(f){let t,e,c,l,r="Email Not Valid",i;return e=new J({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),Z(e.$$.fragment),c=_(),l=u("p"),l.textContent=r,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=k(t);q(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-cd8amd"&&(l.textContent=r),n.forEach(p),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),X(e)}}}function Ke(f){let t,e,c,l,r="Email Belongs To Another User",i;return e=new J({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),Z(e.$$.fragment),c=_(),l=u("p"),l.textContent=r,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=k(t);q(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-1sem3xv"&&(l.textContent=r),n.forEach(p),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),X(e)}}}function ht(f){let t,e,c,l,r="Nickname Length Ok",i;return e=new J({props:{icon:xe,height:24,class:"scale-125",color:"oklch(var(--su))"}}),{c(){t=u("div"),Z(e.$$.fragment),c=_(),l=u("p"),l.textContent=r,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=k(t);q(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-3ucmxq"&&(l.textContent=r),n.forEach(p),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),X(e)}}}function _t(f){let t,e,c,l,r="Nickname Needs To Be At Least 3 Characters Long",i;return e=new J({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),Z(e.$$.fragment),c=_(),l=u("p"),l.textContent=r,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=k(t);q(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-kkm5ji"&&(l.textContent=r),n.forEach(p),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),X(e)}}}function vt(f){let t,e,c,l,r="Password Length Ok",i;return e=new J({props:{icon:xe,height:24,class:"scale-125",color:"oklch(var(--su))"}}),{c(){t=u("div"),Z(e.$$.fragment),c=_(),l=u("p"),l.textContent=r,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=k(t);q(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-1953dfb"&&(l.textContent=r),n.forEach(p),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),X(e)}}}function gt(f){let t,e,c,l,r="Password Too Short (min. 8 characters)",i;return e=new J({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),Z(e.$$.fragment),c=_(),l=u("p"),l.textContent=r,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=k(t);q(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-19yyt80"&&(l.textContent=r),n.forEach(p),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),X(e)}}}function kt(f){let t,e,c,l,r="Passwords Match",i;return e=new J({props:{icon:xe,height:24,class:"scale-125",color:"oklch(var(--su))"}}),{c(){t=u("div"),Z(e.$$.fragment),c=_(),l=u("p"),l.textContent=r,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=k(t);q(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-1ff6dtd"&&(l.textContent=r),n.forEach(p),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),X(e)}}}function bt(f){let t,e,c,l,r="Passwords Do Not Match",i;return e=new J({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),Z(e.$$.fragment),c=_(),l=u("p"),l.textContent=r,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=k(t);q(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-10dwgxn"&&(l.textContent=r),n.forEach(p),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),X(e)}}}function wt(f){let t,e,c,l="Signup",r,i,s,n='<span class="label-text">Email</span>',g,b,H,O,P,ve='<span class="label-text">Nickname</span>',de,L,j,W,K,He='<span class="label-text">Description</span>',ye,G,Ie,Y,ee,Oe='<span class="label-text">Password (min. 8 characters)</span>',Ve,R,Pe,te,le,Be='<span class="label-text">Confirm Password</span>',Le,U,De,ge,D,E,ke,be,N,T,we,A,x,Me,S,y,$e,me,Ne,ae,Re='<button class="btn btn-primary btn-sm">Create Account</button>',Ae,ie,Ue='<a class="btn btn-neutral btn-sm mt-2" href="/login">Back</a>',Ce,Se,je,I=(f[1].emailValid!==null||f[1].emailNotTaken!==null||f[1].passwordMin8!==null||f[1].passwordsMatch!==null)&&We();const Ge=[pt,mt],oe=[];function ze(m,V){return m[1].emailValid===!1?0:m[1].emailValid===!0?1:-1}~(D=ze(f))&&(E=oe[D]=Ge[D](f));let $=f[1].emailNotTaken===!1&&Ke();const Fe=[_t,ht],ce=[];function Ze(m,V){return m[1].nicknameMin3===!1?0:m[1].nicknameMin3===!0?1:-1}~(N=Ze(f))&&(T=ce[N]=Fe[N](f));const qe=[gt,vt],fe=[];function Qe(m,V){return m[1].passwordMin8===!1?0:m[1].passwordMin8===!0?1:-1}~(A=Qe(f))&&(x=fe[A]=qe[A](f));const Xe=[bt,kt],ue=[];function Je(m,V){return m[1].passwordsMatch===!1?0:m[1].passwordsMatch===!0?1:-1}return~(S=Je(f))&&(y=ue[S]=Xe[S](f)),{c(){t=u("form"),e=u("div"),c=u("h2"),c.textContent=l,r=_(),i=u("div"),s=u("label"),s.innerHTML=n,g=_(),b=u("input"),H=_(),O=u("div"),P=u("label"),P.innerHTML=ve,de=_(),L=u("input"),j=_(),W=u("div"),K=u("label"),K.innerHTML=He,ye=_(),G=u("textarea"),Ie=_(),Y=u("div"),ee=u("label"),ee.innerHTML=Oe,Ve=_(),R=u("input"),Pe=_(),te=u("div"),le=u("label"),le.innerHTML=Be,Le=_(),U=u("input"),De=_(),I&&I.c(),ge=_(),E&&E.c(),ke=_(),$&&$.c(),be=_(),T&&T.c(),we=_(),x&&x.c(),Me=_(),y&&y.c(),$e=_(),me=u("div"),Ne=_(),ae=u("div"),ae.innerHTML=Re,Ae=_(),ie=u("div"),ie.innerHTML=Ue,this.h()},l(m){t=d(m,"FORM",{class:!0});var V=k(t);e=d(V,"DIV",{class:!0});var h=k(e);c=d(h,"H2",{class:!0,"data-svelte-h":!0}),C(c)!=="svelte-ymhdoa"&&(c.textContent=l),r=v(h),i=d(h,"DIV",{class:!0});var se=k(i);s=d(se,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),C(s)!=="svelte-efmmh6"&&(s.innerHTML=n),g=v(se),b=d(se,"INPUT",{type:!0,placeholder:!0,class:!0,id:!0}),se.forEach(p),H=v(h),O=d(h,"DIV",{class:!0});var ne=k(O);P=d(ne,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),C(P)!=="svelte-dgrrtc"&&(P.innerHTML=ve),de=v(ne),L=d(ne,"INPUT",{type:!0,placeholder:!0,class:!0,id:!0}),ne.forEach(p),j=v(h),W=d(h,"DIV",{class:!0});var re=k(W);K=d(re,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),C(K)!=="svelte-12ctmti"&&(K.innerHTML=He),ye=v(re),G=d(re,"TEXTAREA",{placeholder:!0,class:!0,id:!0}),k(G).forEach(p),re.forEach(p),Ie=v(h),Y=d(h,"DIV",{class:!0});var Ee=k(Y);ee=d(Ee,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),C(ee)!=="svelte-t8iu3x"&&(ee.innerHTML=Oe),Ve=v(Ee),R=d(Ee,"INPUT",{type:!0,placeholder:!0,class:!0,id:!0}),Ee.forEach(p),Pe=v(h),te=d(h,"DIV",{class:!0});var Te=k(te);le=d(Te,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),C(le)!=="svelte-euftcr"&&(le.innerHTML=Be),Le=v(Te),U=d(Te,"INPUT",{type:!0,placeholder:!0,class:!0,id:!0}),Te.forEach(p),De=v(h),I&&I.l(h),ge=v(h),E&&E.l(h),ke=v(h),$&&$.l(h),be=v(h),T&&T.l(h),we=v(h),x&&x.l(h),Me=v(h),y&&y.l(h),$e=v(h),me=d(h,"DIV",{class:!0}),k(me).forEach(p),Ne=v(h),ae=d(h,"DIV",{class:!0,"data-svelte-h":!0}),C(ae)!=="svelte-1ta665b"&&(ae.innerHTML=Re),Ae=v(h),ie=d(h,"DIV",{class:!0,"data-svelte-h":!0}),C(ie)!=="svelte-1amvf8o"&&(ie.innerHTML=Ue),h.forEach(p),V.forEach(p),this.h()},h(){a(c,"class","card-title"),a(s,"class","label"),a(s,"for","email"),a(b,"type","text"),a(b,"placeholder","email"),a(b,"class","input input-bordered"),a(b,"id","email"),a(i,"class","form-control"),a(P,"class","label"),a(P,"for","nickname"),a(L,"type","text"),a(L,"placeholder","nickname"),a(L,"class","input input-bordered"),a(L,"id","nickname"),a(O,"class","form-control"),a(K,"class","label"),a(K,"for","description"),a(G,"placeholder","description"),a(G,"class","textarea textarea-bordered"),a(G,"id","description"),a(W,"class","form-control"),a(ee,"class","label"),a(ee,"for","password"),a(R,"type","password"),a(R,"placeholder","password"),a(R,"class","input input-bordered"),a(R,"id","password"),a(Y,"class","form-control"),a(le,"class","label"),a(le,"for","confirm-password"),a(U,"type","password"),a(U,"placeholder","confirm password"),a(U,"class","input input-bordered"),a(U,"id","confirm-password"),a(te,"class","form-control"),a(me,"class","divider my-1"),a(ae,"class","form-control"),a(ie,"class","form-control"),a(e,"class","card-body"),a(t,"class","card flex-shrink-0 w-full max-w-sm shadow-2xl bg-base-100")},m(m,V){B(m,t,V),o(t,e),o(e,c),o(e,r),o(e,i),o(i,s),o(i,g),o(i,b),z(b,f[0].email),o(e,H),o(e,O),o(O,P),o(O,de),o(O,L),z(L,f[0].nickname),o(e,j),o(e,W),o(W,K),o(W,ye),o(W,G),z(G,f[0].description),o(e,Ie),o(e,Y),o(Y,ee),o(Y,Ve),o(Y,R),z(R,f[0].password),o(e,Pe),o(e,te),o(te,le),o(te,Le),o(te,U),z(U,f[0].confirmPassword),o(e,De),I&&I.m(e,null),o(e,ge),~D&&oe[D].m(e,null),o(e,ke),$&&$.m(e,null),o(e,be),~N&&ce[N].m(e,null),o(e,we),~A&&fe[A].m(e,null),o(e,Me),~S&&ue[S].m(e,null),o(e,$e),o(e,me),o(e,Ne),o(e,ae),o(e,Ae),o(e,ie),Ce=!0,Se||(je=[F(b,"input",f[3]),F(b,"input",f[4]),F(L,"input",f[5]),F(L,"input",f[6]),F(G,"input",f[7]),F(R,"input",f[8]),F(R,"input",f[9]),F(U,"input",f[10]),F(U,"input",f[11]),F(t,"submit",nt(f[2]))],Se=!0)},p(m,[V]){V&1&&b.value!==m[0].email&&z(b,m[0].email),V&1&&L.value!==m[0].nickname&&z(L,m[0].nickname),V&1&&z(G,m[0].description),V&1&&R.value!==m[0].password&&z(R,m[0].password),V&1&&U.value!==m[0].confirmPassword&&z(U,m[0].confirmPassword),m[1].emailValid!==null||m[1].emailNotTaken!==null||m[1].passwordMin8!==null||m[1].passwordsMatch!==null?I||(I=We(),I.c(),I.m(e,ge)):I&&(I.d(1),I=null);let h=D;D=ze(m),D!==h&&(E&&(pe(),M(oe[h],1,1,()=>{oe[h]=null}),he()),~D?(E=oe[D],E||(E=oe[D]=Ge[D](m),E.c()),w(E,1),E.m(e,ke)):E=null),m[1].emailNotTaken===!1?$?V&2&&w($,1):($=Ke(),$.c(),w($,1),$.m(e,be)):$&&(pe(),M($,1,1,()=>{$=null}),he());let se=N;N=Ze(m),N!==se&&(T&&(pe(),M(ce[se],1,1,()=>{ce[se]=null}),he()),~N?(T=ce[N],T||(T=ce[N]=Fe[N](m),T.c()),w(T,1),T.m(e,we)):T=null);let ne=A;A=Qe(m),A!==ne&&(x&&(pe(),M(fe[ne],1,1,()=>{fe[ne]=null}),he()),~A?(x=fe[A],x||(x=fe[A]=qe[A](m),x.c()),w(x,1),x.m(e,Me)):x=null);let re=S;S=Je(m),S!==re&&(y&&(pe(),M(ue[re],1,1,()=>{ue[re]=null}),he()),~S?(y=ue[S],y||(y=ue[S]=Xe[S](m),y.c()),w(y,1),y.m(e,$e)):y=null)},i(m){Ce||(w(E),w($),w(T),w(x),w(y),Ce=!0)},o(m){M(E),M($),M(T),M(x),M(y),Ce=!1},d(m){m&&p(t),I&&I.d(),~D&&oe[D].d(),$&&$.d(),~N&&ce[N].d(),~A&&fe[A].d(),~S&&ue[S].d(),Se=!1,rt(je)}}}const Ye=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;function Mt(f,t,e){let c;at(()=>(c=setTimeout(()=>ut("/signup"),dt),()=>clearTimeout(c)));let l={email:"",nickname:"",description:"",password:"",confirmPassword:""},r={emailValid:null,emailNotTaken:null,passwordMin8:null,passwordsMatch:null,nicknameMin3:null};const i=()=>{let j=!0;return Ye.test(l.email)||(j=!1,e(1,r.emailValid=!1,r)),l.password.length<8&&(j=!1,e(1,r.passwordMin8=!1,r)),l.password!==l.confirmPassword&&(j=!1,e(1,r.passwordsMatch=!1,r)),l.nickname.length<3&&(j=!1,e(1,r.nicknameMin3=!1,r)),j},s=async()=>{if(!i())return;await ct(l.email,l.nickname,l.description,l.password)?(fetch("/api/stats/landing/registration-completed",{method:"POST",body:JSON.stringify({email:l.email}),headers:{"Content-Type":"application/json"}}),ft.verify()):e(1,r.emailNotTaken=!1,r)};function n(){l.email=this.value,e(0,l)}const g=()=>{r.emailValid===null&&e(1,r.emailValid=!1,r),e(1,r.emailNotTaken=null,r)};function b(){l.nickname=this.value,e(0,l)}const H=()=>{r.nicknameMin3===null&&e(1,r.nicknameMin3=!1,r)};function O(){l.description=this.value,e(0,l)}function P(){l.password=this.value,e(0,l)}const ve=()=>{r.passwordMin8===null&&e(1,r.passwordMin8=!1,r)};function de(){l.confirmPassword=this.value,e(0,l)}const L=()=>{r.passwordsMatch===null&&e(1,r.passwordsMatch=!1,r)};return f.$$.update=()=>{f.$$.dirty&3&&(r.emailValid!==null&&e(1,r.emailValid=Ye.test(l.email),r),r.nicknameMin3!==null&&e(1,r.nicknameMin3=l.nickname.length>=3,r),r.passwordMin8!==null&&e(1,r.passwordMin8=l.password.length>=8,r),r.passwordsMatch!==null&&e(1,r.passwordsMatch=l.password===l.confirmPassword,r))},[l,r,s,n,g,b,H,O,P,ve,de,L]}class $t extends lt{constructor(t){super(),st(this,t,Mt,wt,et,{})}}function Ct(f,t,e){const c=f.slice();return c[0]=t[e],c}function Et(f){let t;return{c(){t=u("div"),this.h()},l(e){t=d(e,"DIV",{class:!0}),k(t).forEach(p),this.h()},h(){a(t,"class","tri svelte-11886wf")},m(e,c){B(e,t,c)},p:tt,d(e){e&&p(t)}}}function Tt(f){let t,e,c,l,r,i,s=ot(Array(200)),n=[];for(let g=0;g<s.length;g+=1)n[g]=Et(Ct(f,s,g));return r=new $t({}),{c(){t=u("div"),e=u("div");for(let g=0;g<n.length;g+=1)n[g].c();c=_(),l=u("div"),Z(r.$$.fragment),this.h()},l(g){t=d(g,"DIV",{class:!0});var b=k(t);e=d(b,"DIV",{class:!0});var H=k(e);for(let P=0;P<n.length;P+=1)n[P].l(H);H.forEach(p),c=v(b),l=d(b,"DIV",{class:!0});var O=k(l);q(r.$$.fragment,O),O.forEach(p),b.forEach(p),this.h()},h(){a(e,"class","wrap svelte-11886wf"),a(l,"class","h-full flex items-center justify-center"),a(t,"class","grow relative")},m(g,b){B(g,t,b),o(t,e);for(let H=0;H<n.length;H+=1)n[H]&&n[H].m(e,null);o(t,c),o(t,l),Q(r,l,null),i=!0},p:tt,i(g){i||(w(r.$$.fragment,g),i=!0)},o(g){M(r.$$.fragment,g),i=!1},d(g){g&&p(t),it(n,g),X(r)}}}class At extends lt{constructor(t){super(),st(this,t,null,Tt,et,{})}}export{At as component};

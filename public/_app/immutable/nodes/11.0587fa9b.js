import{s as be,f as v,a as T,g as m,h as b,d as f,c as $,A as j,j as _,S as G,i as R,x as i,B as de,l as le,m as se,C as ct,H as pl,X as nl,y as re,o as ut,F as il,p as yt,U as Vt,P as it,G as Dt,V as vt,n as ce,e as Ne,Q as rl,q as _t,K as Lt}from"../chunks/scheduler.fa2c1182.js";import{S as we,i as Ee,b as K,d as ne,m as ee,a as U,t as F,e as te,g as Ke,c as et,f as bl,j as Mt}from"../chunks/index.488748fd.js";import{L as wl}from"../chunks/LogoutButton.58e8fd6b.js";import{I as je}from"../chunks/Icon.4e55cced.js";import{d as Tt,C as ol,g as El,a as cl,b as $t,c as ul,e as dl,f as fl}from"../chunks/star.b21a40d0.js";import{_ as Ct}from"../chunks/preload-helper.a4192956.js";import{e as De,u as at,d as ot,o as hl}from"../chunks/each.9917cb24.js";import{c as Il,f as kl}from"../chunks/index.95330f13.js";import{a as pt}from"../chunks/index.e0160b1b.js";import{c as gt}from"../chunks/_commonjsHelpers.725317a4.js";var he=(r=>(r.OVERVIEW="",r.USERS="users",r.REVIEWS="reviews",r.QA="questions",r.MAILING_LIST="mailing-list",r))(he||{});const yl=({params:r})=>({slug:r.slug});function Cl(){return Object.values(he).map(r=>({slug:r}))}const Da=Object.freeze(Object.defineProperty({__proto__:null,entries:Cl,load:yl},Symbol.toStringTag,{value:"Module"}));function Dl(r){let e,t,l,a,s,n,u,d,c,o,h,g,E,w="Admin Dashboard",k,D,p="Admin Dashboard",y,I,C,L,M;return I=new wl({}),{c(){e=v("div"),t=v("div"),l=v("button"),a=v("div"),s=T(),n=v("div"),u=v("div"),d=T(),c=v("div"),o=T(),h=v("div"),g=T(),E=v("h1"),E.textContent=w,k=T(),D=v("h1"),D.textContent=p,y=T(),K(I.$$.fragment),this.h()},l(A){e=m(A,"DIV",{class:!0});var V=b(e);t=m(V,"DIV",{class:!0});var x=b(t);l=m(x,"BUTTON",{class:!0});var S=b(l);a=m(S,"DIV",{class:!0}),b(a).forEach(f),s=$(S),n=m(S,"DIV",{class:!0});var H=b(n);u=m(H,"DIV",{class:!0}),b(u).forEach(f),d=$(H),c=m(H,"DIV",{class:!0}),b(c).forEach(f),H.forEach(f),o=$(S),h=m(S,"DIV",{class:!0}),b(h).forEach(f),S.forEach(f),x.forEach(f),g=$(V),E=m(V,"H1",{class:!0,"data-svelte-h":!0}),j(E)!=="svelte-pzyf2g"&&(E.textContent=w),k=$(V),D=m(V,"H1",{class:!0,"data-svelte-h":!0}),j(D)!=="svelte-tx25fy"&&(D.textContent=p),y=$(V),ne(I.$$.fragment,V),V.forEach(f),this.h()},h(){_(a,"class","h-1 w-7 rounded bg-base-content transition-all"),G(a,"w-0",!r[0]),G(a,"opacity-0",!r[0]),G(a,"opacity-100",r[0]),_(u,"class","absolute h-1 w-7 -translate-x-1/2 -translate-y-1/2 rounded bg-base-content transition-all"),G(u,"rotate-45",!r[0]),_(c,"class","absolute h-1 w-7 -translate-x-1/2 -translate-y-1/2 rounded bg-base-content transition-all"),G(c,"-rotate-45",!r[0]),_(n,"class","relative"),_(h,"class","h-1 w-7 rounded bg-base-content transition-all"),G(h,"w-0",!r[0]),G(h,"opacity-0",!r[0]),G(h,"opacity-100",r[0]),_(l,"class","btn-ghost btn-square btn flex-col"),_(t,"class","px-1 md:hidden"),_(E,"class","select-none px-4 hidden md:block"),_(D,"class","select-none md:hidden absolute left-1/2 -translate-x-1/2"),_(e,"class","navbar bg-base-100 justify-between relative")},m(A,V){R(A,e,V),i(e,t),i(t,l),i(l,a),i(l,s),i(l,n),i(n,u),i(n,d),i(n,c),i(l,o),i(l,h),i(e,g),i(e,E),i(e,k),i(e,D),i(e,y),ee(I,e,null),C=!0,L||(M=de(l,"click",r[1]),L=!0)},p(A,[V]){(!C||V&1)&&G(a,"w-0",!A[0]),(!C||V&1)&&G(a,"opacity-0",!A[0]),(!C||V&1)&&G(a,"opacity-100",A[0]),(!C||V&1)&&G(u,"rotate-45",!A[0]),(!C||V&1)&&G(c,"-rotate-45",!A[0]),(!C||V&1)&&G(h,"w-0",!A[0]),(!C||V&1)&&G(h,"opacity-0",!A[0]),(!C||V&1)&&G(h,"opacity-100",A[0])},i(A){C||(U(I.$$.fragment,A),C=!0)},o(A){F(I.$$.fragment,A),C=!1},d(A){A&&f(e),te(I),L=!1,M()}}}function Vl(r,e,t){let{menuClosed:l}=e;const a=()=>t(0,l=!l);return r.$$set=s=>{"menuClosed"in s&&t(0,l=s.menuClosed)},[l,a]}class Tl extends we{constructor(e){super(),Ee(this,e,Vl,Dl,be,{menuClosed:0})}}const $l={width:24,height:24,body:'<path fill="currentColor" d="M10 20v-6h4v6h5v-8h3L12 3L2 12h3v8h5Z"/>'},Al={width:24,height:24,body:'<path fill="currentColor" d="M12 5.5A3.5 3.5 0 0 1 15.5 9a3.5 3.5 0 0 1-3.5 3.5A3.5 3.5 0 0 1 8.5 9A3.5 3.5 0 0 1 12 5.5M5 8c.56 0 1.08.15 1.53.42c-.15 1.43.27 2.85 1.13 3.96C7.16 13.34 6.16 14 5 14a3 3 0 0 1-3-3a3 3 0 0 1 3-3m14 0a3 3 0 0 1 3 3a3 3 0 0 1-3 3c-1.16 0-2.16-.66-2.66-1.62a5.536 5.536 0 0 0 1.13-3.96c.45-.27.97-.42 1.53-.42M5.5 18.25c0-2.07 2.91-3.75 6.5-3.75s6.5 1.68 6.5 3.75V20h-13v-1.75M0 20v-1.5c0-1.39 1.89-2.56 4.45-2.9c-.59.68-.95 1.62-.95 2.65V20H0m24 0h-3.5v-1.75c0-1.03-.36-1.97-.95-2.65c2.56.34 4.45 1.51 4.45 2.9V20Z"/>'},xl={width:24,height:24,body:'<path fill="currentColor" d="M4 2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6.1l-3.7 3.71c-.2.19-.45.29-.7.29H9a1 1 0 0 1-1-1v-3H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m8.19 3.5c-.89 0-1.6.18-2.14.54c-.55.36-.83.96-.78 1.65h1.97c0-.28.1-.49.26-.63c.2-.14.42-.21.69-.21c.31 0 .58.08.76.26c.18.17.27.39.27.69c0 .28-.08.53-.22.74c-.17.22-.38.4-.64.54c-.52.32-.86.6-1.07.84c-.19.24-.29.58-.29 1.08h2c0-.28.05-.5.14-.68c.09-.17.26-.32.52-.47c.46-.21.84-.49 1.13-.85c.29-.37.44-.76.44-1.2c0-.7-.27-1.26-.81-1.68c-.54-.41-1.29-.62-2.23-.62M11 12v2h2v-2h-2Z"/>'},Ll={width:24,height:24,body:'<path fill="currentColor" d="M21 8V7l-3 2l-3-2v1l3 2m4-7H2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2M8 6a3 3 0 0 1 3 3a3 3 0 0 1-3 3a3 3 0 0 1-3-3a3 3 0 0 1 3-3m6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1m8-5h-8V6h8"/>'};function Ml(r){let e,t,l,a,s,n,u,d,c,o,h,g,E,w,k,D,p,y,I,C,L,M,A,V,x,S,H,W,Q,q,X,N,oe,J,z,Z;return a=new je({props:{icon:$l,height:24,class:"scale-125 mr-2"}}),h=new je({props:{icon:Al,height:24,class:"scale-125 mr-2"}}),y=new je({props:{icon:Tt,height:24,class:"scale-125 mr-2"}}),x=new je({props:{icon:xl,height:24,class:"scale-125 mr-2"}}),N=new je({props:{icon:Ll,height:24,class:"scale-125 mr-2"}}),{c(){e=v("ul"),t=v("li"),l=v("a"),K(a.$$.fragment),s=le("Overview"),n=T(),u=v("div"),d=T(),c=v("li"),o=v("a"),K(h.$$.fragment),g=le("Users"),E=T(),w=v("div"),k=T(),D=v("li"),p=v("a"),K(y.$$.fragment),I=le("Reviews"),C=T(),L=v("div"),M=T(),A=v("li"),V=v("a"),K(x.$$.fragment),S=le("QA"),H=T(),W=v("div"),Q=T(),q=v("li"),X=v("a"),K(N.$$.fragment),oe=le("Mailing List"),this.h()},l(O){e=m(O,"UL",{class:!0});var P=b(e);t=m(P,"LI",{});var Ie=b(t);l=m(Ie,"A",{href:!0,"data-testid":!0});var _e=b(l);ne(a.$$.fragment,_e),s=se(_e,"Overview"),_e.forEach(f),Ie.forEach(f),n=$(P),u=m(P,"DIV",{class:!0}),b(u).forEach(f),d=$(P),c=m(P,"LI",{});var fe=b(c);o=m(fe,"A",{href:!0,"data-testid":!0});var $e=b(o);ne(h.$$.fragment,$e),g=se($e,"Users"),$e.forEach(f),fe.forEach(f),E=$(P),w=m(P,"DIV",{class:!0}),b(w).forEach(f),k=$(P),D=m(P,"LI",{});var ie=b(D);p=m(ie,"A",{href:!0,"data-testid":!0});var ve=b(p);ne(y.$$.fragment,ve),I=se(ve,"Reviews"),ve.forEach(f),ie.forEach(f),C=$(P),L=m(P,"DIV",{class:!0}),b(L).forEach(f),M=$(P),A=m(P,"LI",{});var Be=b(A);V=m(Be,"A",{href:!0,"data-testid":!0});var Se=b(V);ne(x.$$.fragment,Se),S=se(Se,"QA"),Se.forEach(f),Be.forEach(f),H=$(P),W=m(P,"DIV",{class:!0}),b(W).forEach(f),Q=$(P),q=m(P,"LI",{});var ye=b(q);X=m(ye,"A",{href:!0,"data-testid":!0});var xe=b(X);ne(N.$$.fragment,xe),oe=se(xe,"Mailing List"),xe.forEach(f),ye.forEach(f),P.forEach(f),this.h()},h(){_(l,"href",`/admin${he.OVERVIEW?"/"+he.OVERVIEW:""}`),_(l,"data-testid","overview-button"),G(l,"font-semibold",!r[0]),G(l,"active",!r[0]),_(u,"class","my-1"),_(o,"href",`/admin${he.USERS?"/"+he.USERS:""}`),_(o,"data-testid","users-button"),G(o,"font-semibold",r[0]===he.USERS),G(o,"active",r[0]===he.USERS),_(w,"class","my-1"),_(p,"href",`/admin${he.REVIEWS?"/"+he.REVIEWS:""}`),_(p,"data-testid","reviews-button"),G(p,"font-semibold",r[0]===he.REVIEWS),G(p,"active",r[0]===he.REVIEWS),_(L,"class","my-1"),_(V,"href",`/admin${he.QA?"/"+he.QA:""}`),_(V,"data-testid","qa-button"),G(V,"font-semibold",r[0]===he.QA),G(V,"active",r[0]===he.QA),_(W,"class","my-1"),_(X,"href",`/admin${he.MAILING_LIST?"/"+he.MAILING_LIST:""}`),_(X,"data-testid","mailing-list-button"),G(X,"font-semibold",r[0]===he.MAILING_LIST),G(X,"active",r[0]===he.MAILING_LIST),_(e,"class","menu menu-lg p-4 min-h-full text-base-content flex-nowrap")},m(O,P){R(O,e,P),i(e,t),i(t,l),ee(a,l,null),i(l,s),i(e,n),i(e,u),i(e,d),i(e,c),i(c,o),ee(h,o,null),i(o,g),i(e,E),i(e,w),i(e,k),i(e,D),i(D,p),ee(y,p,null),i(p,I),i(e,C),i(e,L),i(e,M),i(e,A),i(A,V),ee(x,V,null),i(V,S),i(e,H),i(e,W),i(e,Q),i(e,q),i(q,X),ee(N,X,null),i(X,oe),J=!0,z||(Z=[de(l,"click",r[2]),de(o,"click",r[3]),de(p,"click",r[4]),de(V,"click",r[5]),de(X,"click",r[6])],z=!0)},p(O,[P]){(!J||P&1)&&G(l,"font-semibold",!O[0]),(!J||P&1)&&G(l,"active",!O[0]),(!J||P&1)&&G(o,"font-semibold",O[0]===he.USERS),(!J||P&1)&&G(o,"active",O[0]===he.USERS),(!J||P&1)&&G(p,"font-semibold",O[0]===he.REVIEWS),(!J||P&1)&&G(p,"active",O[0]===he.REVIEWS),(!J||P&1)&&G(V,"font-semibold",O[0]===he.QA),(!J||P&1)&&G(V,"active",O[0]===he.QA),(!J||P&1)&&G(X,"font-semibold",O[0]===he.MAILING_LIST),(!J||P&1)&&G(X,"active",O[0]===he.MAILING_LIST)},i(O){J||(U(a.$$.fragment,O),U(h.$$.fragment,O),U(y.$$.fragment,O),U(x.$$.fragment,O),U(N.$$.fragment,O),J=!0)},o(O){F(a.$$.fragment,O),F(h.$$.fragment,O),F(y.$$.fragment,O),F(x.$$.fragment,O),F(N.$$.fragment,O),J=!1},d(O){O&&f(e),te(a),te(h),te(y),te(x),te(N),z=!1,ct(Z)}}}function Sl(r,e,t){let{slug:l}=e;const a=pl(),s=()=>a("sideMenuItemClicked"),n=()=>a("sideMenuItemClicked"),u=()=>a("sideMenuItemClicked"),d=()=>a("sideMenuItemClicked"),c=()=>a("sideMenuItemClicked");return r.$$set=o=>{"slug"in o&&t(0,l=o.slug)},[l,a,s,n,u,d,c]}class vl extends we{constructor(e){super(),Ee(this,e,Sl,Ml,be,{slug:0})}}function Rl(r){let e,t,l;return t=new vl({props:{slug:r[0]}}),t.$on("sideMenuItemClicked",r[1]),{c(){e=v("div"),K(t.$$.fragment),this.h()},l(a){e=m(a,"DIV",{class:!0});var s=b(e);ne(t.$$.fragment,s),s.forEach(f),this.h()},h(){_(e,"class","hidden w-64 flex-col bg-base-100 md:flex shrink-0")},m(a,s){R(a,e,s),ee(t,e,null),l=!0},p(a,[s]){const n={};s&1&&(n.slug=a[0]),t.$set(n)},i(a){l||(U(t.$$.fragment,a),l=!0)},o(a){F(t.$$.fragment,a),l=!1},d(a){a&&f(e),te(t)}}}function Hl(r,e,t){let{slug:l}=e;function a(s){nl.call(this,r,s)}return r.$$set=s=>{"slug"in s&&t(0,l=s.slug)},[l,a]}class Ol extends we{constructor(e){super(),Ee(this,e,Hl,Rl,be,{slug:0})}}function jl(r){let e,t,l;return t=new vl({props:{slug:r[1]}}),t.$on("sideMenuItemClicked",r[2]),{c(){e=v("div"),K(t.$$.fragment),this.h()},l(a){e=m(a,"DIV",{class:!0});var s=b(e);ne(t.$$.fragment,s),s.forEach(f),this.h()},h(){_(e,"class","absolute left-0 z-20 flex h-full w-64 flex-col bg-base-100 transition-all md:hidden shrink-0 svelte-v8wrex"),G(e,"menuClosed",r[0])},m(a,s){R(a,e,s),ee(t,e,null),l=!0},p(a,[s]){const n={};s&2&&(n.slug=a[1]),t.$set(n),(!l||s&1)&&G(e,"menuClosed",a[0])},i(a){l||(U(t.$$.fragment,a),l=!0)},o(a){F(t.$$.fragment,a),l=!1},d(a){a&&f(e),te(t)}}}function Nl(r,e,t){let{menuClosed:l}=e,{slug:a}=e;function s(n){nl.call(this,r,n)}return r.$$set=n=>{"menuClosed"in n&&t(0,l=n.menuClosed),"slug"in n&&t(1,a=n.slug)},[l,a,s]}class Ul extends we{constructor(e){super(),Ee(this,e,Nl,jl,be,{menuClosed:0,slug:1})}}function Fl(r){let e,t,l,a;return e=new Ol({props:{slug:r[1]}}),e.$on("sideMenuItemClicked",r[2]),l=new Ul({props:{menuClosed:r[0],slug:r[1]}}),l.$on("sideMenuItemClicked",r[2]),{c(){K(e.$$.fragment),t=T(),K(l.$$.fragment)},l(s){ne(e.$$.fragment,s),t=$(s),ne(l.$$.fragment,s)},m(s,n){ee(e,s,n),R(s,t,n),ee(l,s,n),a=!0},p(s,[n]){const u={};n&2&&(u.slug=s[1]),e.$set(u);const d={};n&1&&(d.menuClosed=s[0]),n&2&&(d.slug=s[1]),l.$set(d)},i(s){a||(U(e.$$.fragment,s),U(l.$$.fragment,s),a=!0)},o(s){F(e.$$.fragment,s),F(l.$$.fragment,s),a=!1},d(s){s&&f(t),te(e,s),te(l,s)}}}function Pl(r,e,t){let{menuClosed:l}=e,{slug:a}=e;const s=()=>t(0,l=!0);return r.$$set=n=>{"menuClosed"in n&&t(0,l=n.menuClosed),"slug"in n&&t(1,a=n.slug)},[l,a,s]}class ql extends we{constructor(e){super(),Ee(this,e,Pl,Fl,be,{menuClosed:0,slug:1})}}function Bl(r){let e,t,l,a,s,n="All Visits",u,d="Unique Visits",c,o,h,g="Autorotate",E,w,k,D;return{c(){e=v("div"),t=T(),l=v("div"),a=v("select"),s=v("option"),s.textContent=n,u=v("option"),u.textContent=d,c=T(),o=v("div"),h=v("p"),h.textContent=g,E=T(),w=v("input"),this.h()},l(p){e=m(p,"DIV",{class:!0}),b(e).forEach(f),t=$(p),l=m(p,"DIV",{class:!0});var y=b(l);a=m(y,"SELECT",{class:!0});var I=b(a);s=m(I,"OPTION",{"data-svelte-h":!0}),j(s)!=="svelte-w2ewlg"&&(s.textContent=n),u=m(I,"OPTION",{"data-svelte-h":!0}),j(u)!=="svelte-1l0fgq9"&&(u.textContent=d),I.forEach(f),y.forEach(f),c=$(p),o=m(p,"DIV",{class:!0});var C=b(o);h=m(C,"P",{class:!0,"data-svelte-h":!0}),j(h)!=="svelte-1ae0u45"&&(h.textContent=g),E=$(C),w=m(C,"INPUT",{type:!0,class:!0}),C.forEach(f),this.h()},h(){_(e,"class","absolute w-full h-full"),s.__value=!1,it(s,s.__value),u.__value=!0,it(u,u.__value),_(a,"class","select select-sm max-sm:select-xs select-info w-full max-w-xs"),r[0]===void 0&&Dt(()=>r[11].call(a)),_(l,"class","absolute top-2 left-2"),_(h,"class","mr-2"),_(w,"type","checkbox"),_(w,"class","toggle toggle-info"),_(o,"class","absolute bottom-2 right-2 card flex flex-row")},m(p,y){R(p,e,y),r[10](e),R(p,t,y),R(p,l,y),i(l,a),i(a,s),i(a,u),vt(a,r[0],!0),R(p,c,y),R(p,o,y),i(o,h),i(o,E),i(o,w),w.checked=r[1],k||(D=[de(a,"change",r[11]),de(w,"change",r[12])],k=!0)},p(p,y){y&1&&vt(a,p[0]),y&2&&(w.checked=p[1])},d(p){p&&(f(e),f(t),f(l),f(c),f(o)),r[10](null),k=!1,ct(D)}}}function zl(r){let e,t='<span class="loading loading-ring loading-lg"></span>';return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=m(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-oeracv"&&(e.innerHTML=t),this.h()},h(){_(e,"class","grow flex items-center justify-center")},m(l,a){R(l,e,a)},p:re,d(l){l&&f(e)}}}function Ql(r){let e,t,l="Landing Page Visits By Location",a,s,n,u;function d(h,g){return h[2]?zl:Bl}let c=d(r),o=c(r);return{c(){e=v("div"),t=v("p"),t.textContent=l,a=T(),s=v("div"),o.c(),this.h()},l(h){e=m(h,"DIV",{class:!0});var g=b(e);t=m(g,"P",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-87d2lc"&&(t.textContent=l),a=$(g),s=m(g,"DIV",{class:!0});var E=b(s);o.l(E),E.forEach(f),g.forEach(f),this.h()},h(){_(t,"class","p-4"),_(s,"class","flex grow relative overflow-hidden"),_(e,"class","flex grow card overflow-hidden bg-base-300")},m(h,g){R(h,e,g),i(e,t),i(e,a),i(e,s),o.m(s,null),n||(u=de(window,"resize",r[9]),n=!0)},p(h,[g]){c===(c=d(h))&&o?o.p(h,g):(o.d(1),o=c(h),o&&(o.c(),o.m(s,null)))},i:re,o:re,d(h){h&&f(e),o.d(),n=!1,u()}}}function Gl(r,e,t){let l,a;const s=(y,I)=>{const L={};return y.forEach(([A,V,x])=>{const S=A*Math.PI/180,H=V*Math.PI/180,W=Math.floor(S/(I/6371)),Q=Math.floor(H/(I/6371)),q=`${W},${Q}`;L[q]=(L[q]||0)+x}),Object.entries(L).map(([A,V])=>{const[x,S]=A.split(",").map(Number),H=(x+.5)*I/6371*(180/Math.PI),W=(S+.5)*I/6371*(180/Math.PI);return[H,W,V]})};let n=!1,u=!0,d=!0,c,o,h,g;ut(async()=>{const y=await fetch("/api/admin/stats/globe");if(!y.ok)return;const I=await y.json();t(5,c=I.all),t(6,o=I.unique),t(2,d=!1)});const E=async()=>{const y=await Ct(()=>import("../chunks/star.b21a40d0.js").then(I=>I.am),["../chunks/star.b21a40d0.js","../chunks/scheduler.fa2c1182.js","../chunks/index.488748fd.js","../assets/star.5c000760.css"],import.meta.url);await Ct(()=>import("../chunks/index.8727a9e2.js"),["../chunks/index.8727a9e2.js","../chunks/star.b21a40d0.js","../chunks/scheduler.fa2c1182.js","../chunks/index.488748fd.js","../assets/star.5c000760.css"],import.meta.url),t(3,g=y.init(h,"dark",{locale:"EN"}))};il(()=>g&&g.dispose());const w=()=>g&&g.resize();function k(y){yt[y?"unshift":"push"](()=>{h=y,t(4,h)})}function D(){n=Vt(this),t(0,n)}function p(){u=this.checked,t(1,u)}return r.$$.update=()=>{r.$$.dirty&97&&t(8,l=o&&c&&s(n?o:c,50).map(([y,I,C])=>[y.toFixed(4),I.toFixed(4),Math.log(C+1)])),r.$$.dirty&258&&t(7,a={darkMode:!0,animation:!0,backgroundColor:"#000",globe:{baseTexture:"/world.jpg",heightTexture:"/world_displacement.jpg",displacementScale:.02,displacementQuality:"high",shading:"realistic",environment:"/starfield.jpg",globeRadiusRadius:100,globeOuterRadius:120,realisticMaterial:{roughness:.2,metalness:0},postEffect:{enable:!0,depthOfField:{enable:!1}},temporalSuperSampling:{enable:!0},light:{ambient:{intensity:0},main:{intensity:.1,shadow:!1},ambientCubemap:{texture:"/lake.hdr",exposure:1,diffuseIntensity:.5,specularIntensity:.5}},viewControl:{autoRotate:u,autoRotateSpeed:5,beta:180,alpha:20,distance:200,targetCoord:[-3.5,35]}},visualMap:{show:!1,max:l?Math.max(...l.map(y=>y[2])):1,realtime:!1,inRange:{colorLightness:[.2,.65]},outOfRange:{colorAlpha:0}},series:[{type:"bar3D",coordinateSystem:"globe",data:l,barSize:.6,minHeight:.2,silent:!0,itemStyle:{color:"red"}}]}),r.$$.dirty&136&&g&&g.setOption(a),r.$$.dirty&4&&(d||E())},[n,u,d,g,h,c,o,a,l,w,k,D,p]}class ml extends we{constructor(e){super(),Ee(this,e,Gl,Ql,be,{})}}function Wl(r){let e,t,l,a;return{c(){e=v("div"),t=v("div"),this.h()},l(s){e=m(s,"DIV",{class:!0});var n=b(e);t=m(n,"DIV",{class:!0}),b(t).forEach(f),n.forEach(f),this.h()},h(){_(t,"class","w-full h-full absolute"),_(e,"class","flex grow relative overflow-hidden card")},m(s,n){R(s,e,n),i(e,t),r[5](t),l||(a=de(window,"resize",r[4]),l=!0)},p:re,i:re,o:re,d(s){s&&f(e),r[5](null),l=!1,a()}}}function Yl(r,e,t){let l,{data:a}=e,s,n;ut(async()=>{const o=await Ct(()=>import("../chunks/star.b21a40d0.js").then(h=>h.am),["../chunks/star.b21a40d0.js","../chunks/scheduler.fa2c1182.js","../chunks/index.488748fd.js","../assets/star.5c000760.css"],import.meta.url);await Ct(()=>import("../chunks/index.8727a9e2.js"),["../chunks/index.8727a9e2.js","../chunks/star.b21a40d0.js","../chunks/scheduler.fa2c1182.js","../chunks/index.488748fd.js","../assets/star.5c000760.css"],import.meta.url),t(0,n=o.init(s,"dark",{locale:"EN"}))}),il(()=>n&&n.dispose());const d=()=>n&&n.resize();function c(o){yt[o?"unshift":"push"](()=>{s=o,t(1,s)})}return r.$$set=o=>{"data"in o&&t(2,a=o.data)},r.$$.update=()=>{r.$$.dirty&4&&t(3,l={tooltip:{trigger:"item",formatter:o=>`
				<b>${o.seriesName}</b><br />
				Time spent (s): ${o.data[2]}<br />
				Date: ${o.data[1]}<br />
				Country: ${o.data[0]}<br /><br />
				Signed Up: <b>${o.data[3]?"YES":"NO"}</b><br />
				`},backgroundColor:"transparent",animation:!0,grid3D:{},xAxis3D:{type:"category",name:"Date",nameTextStyle:{fontSize:16,color:"#fff",align:"center"},nameGap:40,axisLabel:{textStyle:{color:"#aad8e6"}}},yAxis3D:{type:"category",name:"Country",nameTextStyle:{fontSize:16,color:"#fff",verticalAlign:"middle"},nameGap:30,axisLabel:{textStyle:{color:"#aad8e6"}}},zAxis3D:{type:"value",name:"Time spent (s)",nameTextStyle:{fontSize:16,color:"#fff",verticalAlign:"top"},nameGap:25,axisLabel:{textStyle:{color:"#aad8e6",formatter:(o,h)=>h===0?"":o}}},dataset:{dimensions:["Country","Date","Time spent (s)","Signed Up",{name:"Time spent (s)",type:"ordinal"}],source:a},series:[{name:"Landing Page Visit",type:"scatter3D",symbolSize:6,encode:{x:"Date",y:"Country",z:"Time spent (s)"},itemStyle:{color:o=>o.data[3]?"#FF4683":"#00b3f0"}}]}),r.$$.dirty&9&&n&&n.setOption(l)},[n,s,a,l,d,c]}class Xl extends we{constructor(e){super(),Ee(this,e,Yl,Wl,be,{data:2})}}function St(r,e,t){const l=r.slice();return l[8]=e[t],l}function Rt(r,e){let t,l=e[8]+"",a,s;return{key:r,first:null,c(){t=v("option"),a=le(l),this.h()},l(n){t=m(n,"OPTION",{});var u=b(t);a=se(u,l),u.forEach(f),this.h()},h(){t.__value=s=e[8],it(t,t.__value),this.first=t},m(n,u){R(n,t,u),i(t,a)},p(n,u){e=n,u&8&&l!==(l=e[8]+"")&&ce(a,l),u&8&&s!==(s=e[8])&&(t.__value=s,it(t,t.__value))},d(n){n&&f(t)}}}function Jl(r){let e,t,l,a,s,n="All Countries",u=[],d=new Map,c,o,h,g,E="Only With Signup Outcome",w,k,D,p,y,I,C,L,M=De(r[3]);const A=V=>V[8];for(let V=0;V<M.length;V+=1){let x=St(r,M,V),S=A(x);d.set(S,u[V]=Rt(S,x))}return y=new ol({props:{options:r[2]}}),{c(){e=v("div"),t=v("div"),l=v("div"),a=v("select"),s=v("option"),s.textContent=n;for(let V=0;V<u.length;V+=1)u[V].c();c=T(),o=v("div"),h=v("label"),g=v("span"),g.textContent=E,w=T(),k=v("input"),D=T(),p=v("div"),K(y.$$.fragment),this.h()},l(V){e=m(V,"DIV",{class:!0});var x=b(e);t=m(x,"DIV",{class:!0});var S=b(t);l=m(S,"DIV",{});var H=b(l);a=m(H,"SELECT",{class:!0});var W=b(a);s=m(W,"OPTION",{"data-svelte-h":!0}),j(s)!=="svelte-19stldw"&&(s.textContent=n);for(let N=0;N<u.length;N+=1)u[N].l(W);W.forEach(f),H.forEach(f),c=$(S),o=m(S,"DIV",{class:!0});var Q=b(o);h=m(Q,"LABEL",{class:!0});var q=b(h);g=m(q,"SPAN",{class:!0,"data-svelte-h":!0}),j(g)!=="svelte-1i1x04x"&&(g.textContent=E),w=$(q),k=m(q,"INPUT",{type:!0,class:!0}),q.forEach(f),Q.forEach(f),S.forEach(f),D=$(x),p=m(x,"DIV",{class:!0});var X=b(p);ne(y.$$.fragment,X),X.forEach(f),x.forEach(f),this.h()},h(){s.__value=!1,it(s,s.__value),_(a,"class","select select-sm max-sm:select-xs select-info w-full max-w-xs"),r[1]===void 0&&Dt(()=>r[6].call(a)),_(g,"class","label-text mr-2 max-sm:text-xs text-right"),_(k,"type","checkbox"),_(k,"class","checkbox checkbox-info max-sm:checkbox-xs"),_(h,"class","cursor-pointer label"),_(o,"class","form-control"),_(t,"class","flex justify-between p-4 items-center"),_(p,"class","relative overflow-hidden grow flex"),_(e,"class","flex grow flex-col card")},m(V,x){R(V,e,x),i(e,t),i(t,l),i(l,a),i(a,s);for(let S=0;S<u.length;S+=1)u[S]&&u[S].m(a,null);vt(a,r[1],!0),i(t,c),i(t,o),i(o,h),i(h,g),i(h,w),i(h,k),k.checked=r[0],i(e,D),i(e,p),ee(y,p,null),I=!0,C||(L=[de(a,"change",r[6]),de(k,"change",r[7])],C=!0)},p(V,[x]){x&8&&(M=De(V[3]),u=at(u,x,A,1,V,M,d,a,ot,Rt,null,St)),x&10&&vt(a,V[1]),x&1&&(k.checked=V[0]);const S={};x&4&&(S.options=V[2]),y.$set(S)},i(V){I||(U(y.$$.fragment,V),I=!0)},o(V){F(y.$$.fragment,V),I=!1},d(V){V&&f(e);for(let x=0;x<u.length;x+=1)u[x].d();te(y),C=!1,ct(L)}}}function Zl(r,e,t){let l,a,s,{data:n}=e,u=!1,d=!1;function c(){d=Vt(this),t(1,d),t(3,a),t(4,n)}function o(){u=this.checked,t(0,u)}return r.$$set=h=>{"data"in h&&t(4,n=h.data)},r.$$.update=()=>{r.$$.dirty&19&&t(5,l=Object.entries(n.reduce((h,g)=>{if(u&&!g[3]||d&&g[0]!==d)return h;const E=g[1];return h[E]||(h[E]=0),h[E]++,h},{}))),r.$$.dirty&16&&t(3,a=Array.from(new Set(n.map(h=>h[0]))).sort()),r.$$.dirty&32&&t(2,s={animation:!1,tooltip:{trigger:"axis",position:h=>[h[0],"10%"]},toolbox:{feature:{restore:{}}},xAxis:{type:"category",boundaryGap:!1,data:l.map(h=>h[0]),axisLabel:{color:"#FFFFFF"}},yAxis:{type:"value",boundaryGap:[0,"100%"],name:"No. of Visits",nameTextStyle:{color:"#FFFFFF"},axisLabel:{color:"#FFFFFF"}},dataZoom:[{type:"inside",start:0,end:100},{start:0,end:100}],series:[{name:"No. of Visits",type:"line",symbol:"none",sampling:"lttb",itemStyle:{color:"rgb(255, 70, 131)"},areaStyle:{color:new El.LinearGradient(0,0,0,1,[{offset:0,color:"rgb(255, 158, 68)"},{offset:1,color:"rgb(255, 70, 131)"}])},data:l}]})},[u,d,s,a,n,l,c,o]}class Kl extends we{constructor(e){super(),Ee(this,e,Zl,Jl,be,{data:4})}}function es(r){let e,t,l,a,s,n;return t=new Xl({props:{data:r[1]?r[4]:r[3]}}),s=new Kl({props:{data:r[1]?r[4]:r[3]}}),{c(){e=v("div"),K(t.$$.fragment),l=T(),a=v("div"),K(s.$$.fragment),this.h()},l(u){e=m(u,"DIV",{class:!0});var d=b(e);ne(t.$$.fragment,d),d.forEach(f),l=$(u),a=m(u,"DIV",{class:!0});var c=b(a);ne(s.$$.fragment,c),c.forEach(f),this.h()},h(){_(e,"class","grow flex card overflow-hidden bg-base-300 basis-1/2"),_(a,"class","grow flex card overflow-hidden bg-base-300 basis-1/2")},m(u,d){R(u,e,d),ee(t,e,null),R(u,l,d),R(u,a,d),ee(s,a,null),n=!0},p(u,d){const c={};d&26&&(c.data=u[1]?u[4]:u[3]),t.$set(c);const o={};d&26&&(o.data=u[1]?u[4]:u[3]),s.$set(o)},i(u){n||(U(t.$$.fragment,u),U(s.$$.fragment,u),n=!0)},o(u){F(t.$$.fragment,u),F(s.$$.fragment,u),n=!1},d(u){u&&(f(e),f(l),f(a)),te(t),te(s)}}}function ts(r){let e,t='<span class="loading loading-ring loading-lg"></span>',l,a,s='<span class="loading loading-ring loading-lg"></span>';return{c(){e=v("div"),e.innerHTML=t,l=T(),a=v("div"),a.innerHTML=s,this.h()},l(n){e=m(n,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-10yviux"&&(e.innerHTML=t),l=$(n),a=m(n,"DIV",{class:!0,"data-svelte-h":!0}),j(a)!=="svelte-10yviux"&&(a.innerHTML=s),this.h()},h(){_(e,"class","grow flex items-center justify-center bg-base-300 basis-1/2"),_(a,"class","grow flex items-center justify-center bg-base-300 basis-1/2")},m(n,u){R(n,e,u),R(n,l,u),R(n,a,u)},p:re,i:re,o:re,d(n){n&&(f(e),f(l),f(a))}}}function ls(r){let e,t,l,a="Landing Page Visits",s,n,u,d,c="All Visits",o,h="Unique Visits",g,E,w,k,D,p,y;const I=[ts,es],C=[];function L(M,A){return M[2]?0:1}return w=L(r),k=C[w]=I[w](r),{c(){e=v("div"),t=v("div"),l=v("p"),l.textContent=a,s=T(),n=v("div"),u=v("select"),d=v("option"),d.textContent=c,o=v("option"),o.textContent=h,g=T(),E=v("div"),k.c(),this.h()},l(M){e=m(M,"DIV",{class:!0});var A=b(e);t=m(A,"DIV",{class:!0});var V=b(t);l=m(V,"P",{"data-svelte-h":!0}),j(l)!=="svelte-vea0hu"&&(l.textContent=a),s=$(V),n=m(V,"DIV",{});var x=b(n);u=m(x,"SELECT",{class:!0});var S=b(u);d=m(S,"OPTION",{"data-svelte-h":!0}),j(d)!=="svelte-w2ewlg"&&(d.textContent=c),o=m(S,"OPTION",{"data-svelte-h":!0}),j(o)!=="svelte-1l0fgq9"&&(o.textContent=h),S.forEach(f),x.forEach(f),V.forEach(f),g=$(A),E=m(A,"DIV",{class:!0});var H=b(E);k.l(H),H.forEach(f),A.forEach(f),this.h()},h(){d.__value=!1,it(d,d.__value),o.__value=!0,it(o,o.__value),_(u,"class","select select-sm max-sm:select-xs select-info w-full max-w-xs"),r[1]===void 0&&Dt(()=>r[5].call(u)),_(t,"class","flex bg-base-300 justify-between items-center p-4 card flex-row"),_(E,"class","flex grow gap-6 mt-6 max-sm:flex-col"),G(E,"flex-col",r[0]),_(e,"class","grow flex flex-col")},m(M,A){R(M,e,A),i(e,t),i(t,l),i(t,s),i(t,n),i(n,u),i(u,d),i(u,o),vt(u,r[1],!0),i(e,g),i(e,E),C[w].m(E,null),D=!0,p||(y=de(u,"change",r[5]),p=!0)},p(M,[A]){A&2&&vt(u,M[1]);let V=w;w=L(M),w===V?C[w].p(M,A):(Ke(),F(C[V],1,1,()=>{C[V]=null}),et(),k=C[w],k?k.p(M,A):(k=C[w]=I[w](M),k.c()),U(k,1),k.m(E,null)),(!D||A&1)&&G(E,"flex-col",M[0])},i(M){D||(U(k),D=!0)},o(M){F(k),D=!1},d(M){M&&f(e),C[w].d(),p=!1,y()}}}function ss(r,e,t){let l=!1,{mobileView:a=!1}=e,s=!0,n,u;const d=o=>{const h=new Date(o),g=String(h.getDate()).padStart(2,"0"),E=String(h.getMonth()+1).padStart(2,"0"),w=h.getFullYear();return`${g}/${E}/${w}`};ut(async()=>{const o=await fetch("/api/admin/stats/all-visits");if(!o.ok)return;const h=await o.json(),g=h.all,E=h.unique;t(3,n=g.map(w=>[w[0],d(w[1]),w[2],w[3]])),t(4,u=E.map(w=>[w[0],d(w[1]),w[2],w[3]])),t(2,s=!1)});function c(){l=Vt(this),t(1,l)}return r.$$set=o=>{"mobileView"in o&&t(0,a=o.mobileView)},[a,l,s,n,u,c]}class as extends we{constructor(e){super(),Ee(this,e,ss,ls,be,{mobileView:0})}}function ns(r){let e,t;return e=new ol({props:{options:r[2]}}),{c(){K(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,a){ee(e,l,a),t=!0},p(l,a){const s={};a&4&&(s.options=l[2]),e.$set(s)},i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){F(e.$$.fragment,l),t=!1},d(l){te(e,l)}}}function is(r){let e,t='<span class="loading loading-ring loading-lg"></span>';return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=m(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-mw3q05"&&(e.innerHTML=t),this.h()},h(){_(e,"class","grow flex items-center justify-center"),G(e,"h-72",r[0])},m(l,a){R(l,e,a)},p(l,a){a&1&&G(e,"h-72",l[0])},i:re,o:re,d(l){l&&f(e)}}}function rs(r){let e,t,l="Registration Funnel For Unique Sessions",a,s,n,u,d;const c=[is,ns],o=[];function h(g,E){return g[1]?0:1}return n=h(r),u=o[n]=c[n](r),{c(){e=v("div"),t=v("p"),t.textContent=l,a=T(),s=v("div"),u.c(),this.h()},l(g){e=m(g,"DIV",{class:!0});var E=b(e);t=m(E,"P",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-gvudd"&&(t.textContent=l),a=$(E),s=m(E,"DIV",{class:!0});var w=b(s);u.l(w),w.forEach(f),E.forEach(f),this.h()},h(){_(t,"class","p-4"),G(t,"text-xs",r[0]),_(s,"class","relative overflow-hidden grow flex"),_(e,"class","flex grow card bg-base-300")},m(g,E){R(g,e,E),i(e,t),i(e,a),i(e,s),o[n].m(s,null),d=!0},p(g,[E]){(!d||E&1)&&G(t,"text-xs",g[0]);let w=n;n=h(g),n===w?o[n].p(g,E):(Ke(),F(o[w],1,1,()=>{o[w]=null}),et(),u=o[n],u?u.p(g,E):(u=o[n]=c[n](g),u.c()),U(u,1),u.m(s,null))},i(g){d||(U(u),d=!0)},o(g){F(u),d=!1},d(g){g&&f(e),o[n].d()}}}function os(r,e,t){let l,a,s,{mobileView:n=!1}=e,u=!0;ut(async()=>{const c=await fetch("/api/admin/stats/route-visits");if(!c.ok)return;const o=await c.json();t(3,s=o.routes_visited),o.registrations,a=o.total_unique_visits,t(1,u=!1)});const d=c=>a===0?0:Math.floor(c*100/a);return r.$$set=c=>{"mobileView"in c&&t(0,n=c.mobileView)},r.$$.update=()=>{r.$$.dirty&9&&t(2,l={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}%"},series:[{name:"Expected",type:"funnel",label:{formatter:"{b}",color:"#fff"},labelLine:{show:!1},itemStyle:{opacity:.6},tooltip:{show:!1},left:"5%",width:n?"65%":"80%",top:"0%",bottom:"7%",sort:"none",data:[{value:100,name:"Home"},{value:90,name:"Solution"},{value:80,name:"Features"},{value:70,name:"Pricing"},{value:60,name:"Register Interest"},{value:50,name:"Reviews"},{value:40,name:"Questions"},{value:30,name:"Login"},{value:20,name:"Signup"},{value:10,name:"Completed Signup"}]},{name:"Unique Session Interactions",type:"funnel",left:"5%",width:n?"65%":"80%",top:"0%",bottom:"7%",label:{position:"inside",formatter:"{c}%",color:"#fff"},labelLine:{show:!1},itemStyle:{opacity:.5,borderColor:"#fff",borderWidth:2},tooltip:{show:!0},sort:"none",data:[{value:d((s==null?void 0:s.home)??0),name:"Viewed Home"},{value:d((s==null?void 0:s.solution)??0),name:"Viewed Solution"},{value:d((s==null?void 0:s.features)??0),name:"Viewed Features"},{value:d((s==null?void 0:s.pricing)??0),name:"Viewed Pricing"},{value:d(s&&(s["register-interest"]??0)),name:"Viewed Register Interest"},{value:d((s==null?void 0:s.reviews)??0),name:"Viewed Reviews"},{value:d((s==null?void 0:s.questions)??0),name:"Viewed Questions"},{value:d((s==null?void 0:s.login)??0),name:"Viewed Login"},{value:d((s==null?void 0:s.signup)??0),name:"Viewed Signup"},{value:d((s==null?void 0:s.totalRegistrations)??0),name:"Completed Signup"}],z:100}]})},[n,u,l,s]}class _l extends we{constructor(e){super(),Ee(this,e,os,rs,be,{mobileView:0})}}function cs(r){let e,t,l,a="Total Customers",s,n,u,d,c,o,h,g,E,w="Mailing List Signups",k,D,p,y,I,C,L,M,A,V="No. of Reviews",x,S,H,W,Q,q,X,N,oe,J="Average Review",z,Z,O=r[2].toFixed(1)+"",P,Ie,_e,fe,$e,ie,ve,Be="Questions Asked",Se,ye,xe,Xe,Ue,Ve,tt,me,ke,dt="Questions Answered",lt,Ce,ze,st,Le,Me,Fe,ge,ae;o=new je({props:{icon:cl,height:24,class:"scale-125"}}),C=new je({props:{icon:$t,height:24,class:"scale-125"}}),q=new je({props:{icon:ul,height:24,class:"scale-125"}}),fe=new je({props:{icon:dl,height:24,class:"scale-125"}}),Ve=new je({props:{icon:fl,height:24,class:"scale-125"}}),Me=new je({props:{icon:Tt,height:24,class:"scale-125"}});let Y=r[1]&&Ht(r);return{c(){e=v("div"),t=v("div"),l=v("div"),l.textContent=a,s=T(),n=v("div"),u=le(r[7]),d=T(),c=v("div"),K(o.$$.fragment),h=T(),g=v("div"),E=v("div"),E.textContent=w,k=T(),D=v("div"),p=le(r[6]),y=T(),I=v("div"),K(C.$$.fragment),L=T(),M=v("div"),A=v("div"),A.textContent=V,x=T(),S=v("div"),H=le(r[3]),W=T(),Q=v("div"),K(q.$$.fragment),X=T(),N=v("div"),oe=v("div"),oe.textContent=J,z=T(),Z=v("div"),P=le(O),Ie=T(),_e=v("div"),K(fe.$$.fragment),$e=T(),ie=v("div"),ve=v("div"),ve.textContent=Be,Se=T(),ye=v("div"),xe=le(r[4]),Xe=T(),Ue=v("div"),K(Ve.$$.fragment),tt=T(),me=v("div"),ke=v("div"),ke.textContent=dt,lt=T(),Ce=v("div"),ze=le(r[5]),st=T(),Le=v("div"),K(Me.$$.fragment),Fe=T(),Y&&Y.c(),ge=Ne(),this.h()},l(B){e=m(B,"DIV",{class:!0});var ue=b(e);t=m(ue,"DIV",{class:!0});var Qe=b(t);l=m(Qe,"DIV",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-1ed4a7p"&&(l.textContent=a),s=$(Qe),n=m(Qe,"DIV",{class:!0});var qe=b(n);u=se(qe,r[7]),qe.forEach(f),d=$(Qe),c=m(Qe,"DIV",{class:!0});var rt=b(c);ne(o.$$.fragment,rt),rt.forEach(f),Qe.forEach(f),h=$(ue),g=m(ue,"DIV",{class:!0});var Re=b(g);E=m(Re,"DIV",{class:!0,"data-svelte-h":!0}),j(E)!=="svelte-xrqtig"&&(E.textContent=w),k=$(Re),D=m(Re,"DIV",{class:!0});var He=b(D);p=se(He,r[6]),He.forEach(f),y=$(Re),I=m(Re,"DIV",{class:!0});var ft=b(I);ne(C.$$.fragment,ft),ft.forEach(f),Re.forEach(f),L=$(ue),M=m(ue,"DIV",{class:!0});var Ge=b(M);A=m(Ge,"DIV",{class:!0,"data-svelte-h":!0}),j(A)!=="svelte-tlxl9z"&&(A.textContent=V),x=$(Ge),S=m(Ge,"DIV",{class:!0});var Oe=b(S);H=se(Oe,r[3]),Oe.forEach(f),W=$(Ge),Q=m(Ge,"DIV",{class:!0});var ht=b(Q);ne(q.$$.fragment,ht),ht.forEach(f),Ge.forEach(f),X=$(ue),N=m(ue,"DIV",{class:!0});var We=b(N);oe=m(We,"DIV",{class:!0,"data-svelte-h":!0}),j(oe)!=="svelte-10xtzhz"&&(oe.textContent=J),z=$(We),Z=m(We,"DIV",{class:!0});var Je=b(Z);P=se(Je,O),Je.forEach(f),Ie=$(We),_e=m(We,"DIV",{class:!0});var Te=b(_e);ne(fe.$$.fragment,Te),Te.forEach(f),We.forEach(f),$e=$(ue),ie=m(ue,"DIV",{class:!0});var pe=b(ie);ve=m(pe,"DIV",{class:!0,"data-svelte-h":!0}),j(ve)!=="svelte-5iu6mr"&&(ve.textContent=Be),Se=$(pe),ye=m(pe,"DIV",{class:!0});var Pe=b(ye);xe=se(Pe,r[4]),Pe.forEach(f),Xe=$(pe),Ue=m(pe,"DIV",{class:!0});var Ze=b(Ue);ne(Ve.$$.fragment,Ze),Ze.forEach(f),pe.forEach(f),tt=$(ue),me=m(ue,"DIV",{class:!0});var Ae=b(me);ke=m(Ae,"DIV",{class:!0,"data-svelte-h":!0}),j(ke)!=="svelte-tlrs4e"&&(ke.textContent=dt),lt=$(Ae),Ce=m(Ae,"DIV",{class:!0});var Ye=b(Ce);ze=se(Ye,r[5]),Ye.forEach(f),st=$(Ae),Le=m(Ae,"DIV",{class:!0});var mt=b(Le);ne(Me.$$.fragment,mt),mt.forEach(f),Ae.forEach(f),ue.forEach(f),Fe=$(B),Y&&Y.l(B),ge=Ne(),this.h()},h(){_(l,"class","stat-title"),_(n,"class","stat-value"),_(c,"class","stat-figure text-secondary"),_(t,"class","stat card bg-base-300"),_(E,"class","stat-title"),_(D,"class","stat-value"),_(I,"class","stat-figure text-secondary"),_(g,"class","stat card bg-base-300"),_(A,"class","stat-title"),_(S,"class","stat-value"),_(Q,"class","stat-figure text-secondary"),_(M,"class","stat card bg-base-300"),_(oe,"class","stat-title"),_(Z,"class","stat-value"),_(_e,"class","stat-figure text-secondary"),_(N,"class","stat card bg-base-300"),_(ve,"class","stat-title"),_(ye,"class","stat-value"),_(Ue,"class","stat-figure text-secondary"),_(ie,"class","stat card bg-base-300"),_(ke,"class","stat-title"),_(Ce,"class","stat-value"),_(Le,"class","stat-figure text-secondary"),_(me,"class","stat card bg-base-300"),_(e,"class","sm:grid hidden grid-cols-2 lg:grid-cols-3 gap-4 items-stretch grow mb-6")},m(B,ue){R(B,e,ue),i(e,t),i(t,l),i(t,s),i(t,n),i(n,u),i(t,d),i(t,c),ee(o,c,null),i(e,h),i(e,g),i(g,E),i(g,k),i(g,D),i(D,p),i(g,y),i(g,I),ee(C,I,null),i(e,L),i(e,M),i(M,A),i(M,x),i(M,S),i(S,H),i(M,W),i(M,Q),ee(q,Q,null),i(e,X),i(e,N),i(N,oe),i(N,z),i(N,Z),i(Z,P),i(N,Ie),i(N,_e),ee(fe,_e,null),i(e,$e),i(e,ie),i(ie,ve),i(ie,Se),i(ie,ye),i(ye,xe),i(ie,Xe),i(ie,Ue),ee(Ve,Ue,null),i(e,tt),i(e,me),i(me,ke),i(me,lt),i(me,Ce),i(Ce,ze),i(me,st),i(me,Le),ee(Me,Le,null),R(B,Fe,ue),Y&&Y.m(B,ue),R(B,ge,ue),ae=!0},p(B,ue){(!ae||ue&128)&&ce(u,B[7]),(!ae||ue&64)&&ce(p,B[6]),(!ae||ue&8)&&ce(H,B[3]),(!ae||ue&4)&&O!==(O=B[2].toFixed(1)+"")&&ce(P,O),(!ae||ue&16)&&ce(xe,B[4]),(!ae||ue&32)&&ce(ze,B[5]),B[1]?Y?(Y.p(B,ue),ue&2&&U(Y,1)):(Y=Ht(B),Y.c(),U(Y,1),Y.m(ge.parentNode,ge)):Y&&(Ke(),F(Y,1,1,()=>{Y=null}),et())},i(B){ae||(U(o.$$.fragment,B),U(C.$$.fragment,B),U(q.$$.fragment,B),U(fe.$$.fragment,B),U(Ve.$$.fragment,B),U(Me.$$.fragment,B),U(Y),ae=!0)},o(B){F(o.$$.fragment,B),F(C.$$.fragment,B),F(q.$$.fragment,B),F(fe.$$.fragment,B),F(Ve.$$.fragment,B),F(Me.$$.fragment,B),F(Y),ae=!1},d(B){B&&(f(e),f(Fe),f(ge)),te(o),te(C),te(q),te(fe),te(Ve),te(Me),Y&&Y.d(B)}}}function us(r){let e,t,l='<span class="loading loading-ring loading-lg"></span>',a=r[1]&&Ot();return{c(){a&&a.c(),e=T(),t=v("div"),t.innerHTML=l,this.h()},l(s){a&&a.l(s),e=$(s),t=m(s,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1xub2lv"&&(t.innerHTML=l),this.h()},h(){_(t,"class","grow sm:flex items-center justify-center card bg-base-300 p-6 hidden mb-6")},m(s,n){a&&a.m(s,n),R(s,e,n),R(s,t,n)},p(s,n){s[1]?a||(a=Ot(),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null)},i:re,o:re,d(s){s&&(f(e),f(t)),a&&a.d(s)}}}function Ht(r){let e,t,l,a="Total Customers",s,n,u,d,c,o,h,g,E,w="Mailing List Signups",k,D,p,y,I,C,L,M,A,V="No. of Reviews",x,S,H,W,Q,q,X,N,oe,J="Average Review",z,Z,O=r[2].toFixed(1)+"",P,Ie,_e,fe,$e,ie,ve,Be="Questions Asked",Se,ye,xe,Xe,Ue,Ve,tt,me,ke,dt="Questions Answered",lt,Ce,ze,st,Le,Me,Fe,ge;return o=new je({props:{icon:cl,height:24,class:"scale-125"}}),C=new je({props:{icon:$t,height:24,class:"scale-125"}}),q=new je({props:{icon:ul,height:24,class:"scale-125"}}),fe=new je({props:{icon:dl,height:24,class:"scale-125"}}),Ve=new je({props:{icon:fl,height:24,class:"scale-125"}}),Me=new je({props:{icon:Tt,height:24,class:"scale-125"}}),{c(){e=v("div"),t=v("div"),l=v("div"),l.textContent=a,s=T(),n=v("div"),u=le(r[7]),d=T(),c=v("div"),K(o.$$.fragment),h=T(),g=v("div"),E=v("div"),E.textContent=w,k=T(),D=v("div"),p=le(r[6]),y=T(),I=v("div"),K(C.$$.fragment),L=T(),M=v("div"),A=v("div"),A.textContent=V,x=T(),S=v("div"),H=le(r[3]),W=T(),Q=v("div"),K(q.$$.fragment),X=T(),N=v("div"),oe=v("div"),oe.textContent=J,z=T(),Z=v("div"),P=le(O),Ie=T(),_e=v("div"),K(fe.$$.fragment),$e=T(),ie=v("div"),ve=v("div"),ve.textContent=Be,Se=T(),ye=v("div"),xe=le(r[4]),Xe=T(),Ue=v("div"),K(Ve.$$.fragment),tt=T(),me=v("div"),ke=v("div"),ke.textContent=dt,lt=T(),Ce=v("div"),ze=le(r[5]),st=T(),Le=v("div"),K(Me.$$.fragment),this.h()},l(ae){e=m(ae,"DIV",{class:!0});var Y=b(e);t=m(Y,"DIV",{class:!0});var B=b(t);l=m(B,"DIV",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-1ed4a7p"&&(l.textContent=a),s=$(B),n=m(B,"DIV",{class:!0});var ue=b(n);u=se(ue,r[7]),ue.forEach(f),d=$(B),c=m(B,"DIV",{class:!0});var Qe=b(c);ne(o.$$.fragment,Qe),Qe.forEach(f),B.forEach(f),h=$(Y),g=m(Y,"DIV",{class:!0});var qe=b(g);E=m(qe,"DIV",{class:!0,"data-svelte-h":!0}),j(E)!=="svelte-xrqtig"&&(E.textContent=w),k=$(qe),D=m(qe,"DIV",{class:!0});var rt=b(D);p=se(rt,r[6]),rt.forEach(f),y=$(qe),I=m(qe,"DIV",{class:!0});var Re=b(I);ne(C.$$.fragment,Re),Re.forEach(f),qe.forEach(f),L=$(Y),M=m(Y,"DIV",{class:!0});var He=b(M);A=m(He,"DIV",{class:!0,"data-svelte-h":!0}),j(A)!=="svelte-tlxl9z"&&(A.textContent=V),x=$(He),S=m(He,"DIV",{class:!0});var ft=b(S);H=se(ft,r[3]),ft.forEach(f),W=$(He),Q=m(He,"DIV",{class:!0});var Ge=b(Q);ne(q.$$.fragment,Ge),Ge.forEach(f),He.forEach(f),X=$(Y),N=m(Y,"DIV",{class:!0});var Oe=b(N);oe=m(Oe,"DIV",{class:!0,"data-svelte-h":!0}),j(oe)!=="svelte-10xtzhz"&&(oe.textContent=J),z=$(Oe),Z=m(Oe,"DIV",{class:!0});var ht=b(Z);P=se(ht,O),ht.forEach(f),Ie=$(Oe),_e=m(Oe,"DIV",{class:!0});var We=b(_e);ne(fe.$$.fragment,We),We.forEach(f),Oe.forEach(f),$e=$(Y),ie=m(Y,"DIV",{class:!0});var Je=b(ie);ve=m(Je,"DIV",{class:!0,"data-svelte-h":!0}),j(ve)!=="svelte-5iu6mr"&&(ve.textContent=Be),Se=$(Je),ye=m(Je,"DIV",{class:!0});var Te=b(ye);xe=se(Te,r[4]),Te.forEach(f),Xe=$(Je),Ue=m(Je,"DIV",{class:!0});var pe=b(Ue);ne(Ve.$$.fragment,pe),pe.forEach(f),Je.forEach(f),tt=$(Y),me=m(Y,"DIV",{class:!0});var Pe=b(me);ke=m(Pe,"DIV",{class:!0,"data-svelte-h":!0}),j(ke)!=="svelte-tlrs4e"&&(ke.textContent=dt),lt=$(Pe),Ce=m(Pe,"DIV",{class:!0});var Ze=b(Ce);ze=se(Ze,r[5]),Ze.forEach(f),st=$(Pe),Le=m(Pe,"DIV",{class:!0});var Ae=b(Le);ne(Me.$$.fragment,Ae),Ae.forEach(f),Pe.forEach(f),Y.forEach(f),this.h()},h(){_(l,"class","stat-title"),_(n,"class","stat-value"),_(c,"class","stat-figure text-secondary"),_(t,"class","stat card bg-base-300"),_(E,"class","stat-title"),_(D,"class","stat-value"),_(I,"class","stat-figure text-secondary"),_(g,"class","stat card bg-base-300"),_(A,"class","stat-title"),_(S,"class","stat-value"),_(Q,"class","stat-figure text-secondary"),_(M,"class","stat card bg-base-300"),_(oe,"class","stat-title"),_(Z,"class","stat-value"),_(_e,"class","stat-figure text-secondary"),_(N,"class","stat card bg-base-300"),_(ve,"class","stat-title"),_(ye,"class","stat-value"),_(Ue,"class","stat-figure text-secondary"),_(ie,"class","stat card bg-base-300"),_(ke,"class","stat-title"),_(Ce,"class","stat-value"),_(Le,"class","stat-figure text-secondary"),_(me,"class","stat card bg-base-300"),_(e,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 items-stretch grow sm:hidden mb-6")},m(ae,Y){R(ae,e,Y),i(e,t),i(t,l),i(t,s),i(t,n),i(n,u),i(t,d),i(t,c),ee(o,c,null),i(e,h),i(e,g),i(g,E),i(g,k),i(g,D),i(D,p),i(g,y),i(g,I),ee(C,I,null),i(e,L),i(e,M),i(M,A),i(M,x),i(M,S),i(S,H),i(M,W),i(M,Q),ee(q,Q,null),i(e,X),i(e,N),i(N,oe),i(N,z),i(N,Z),i(Z,P),i(N,Ie),i(N,_e),ee(fe,_e,null),i(e,$e),i(e,ie),i(ie,ve),i(ie,Se),i(ie,ye),i(ye,xe),i(ie,Xe),i(ie,Ue),ee(Ve,Ue,null),i(e,tt),i(e,me),i(me,ke),i(me,lt),i(me,Ce),i(Ce,ze),i(me,st),i(me,Le),ee(Me,Le,null),ge=!0},p(ae,Y){(!ge||Y&128)&&ce(u,ae[7]),(!ge||Y&64)&&ce(p,ae[6]),(!ge||Y&8)&&ce(H,ae[3]),(!ge||Y&4)&&O!==(O=ae[2].toFixed(1)+"")&&ce(P,O),(!ge||Y&16)&&ce(xe,ae[4]),(!ge||Y&32)&&ce(ze,ae[5])},i(ae){ge||(U(o.$$.fragment,ae),U(C.$$.fragment,ae),U(q.$$.fragment,ae),U(fe.$$.fragment,ae),U(Ve.$$.fragment,ae),U(Me.$$.fragment,ae),ae&&(Fe||Dt(()=>{Fe=bl(e,kl,{duration:800,easing:Il}),Fe.start()})),ge=!0)},o(ae){F(o.$$.fragment,ae),F(C.$$.fragment,ae),F(q.$$.fragment,ae),F(fe.$$.fragment,ae),F(Ve.$$.fragment,ae),F(Me.$$.fragment,ae),ge=!1},d(ae){ae&&f(e),te(o),te(C),te(q),te(fe),te(Ve),te(Me)}}}function Ot(r){let e,t='<span class="loading loading-ring loading-lg"></span>';return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=m(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-hp38pn"&&(e.innerHTML=t),this.h()},h(){_(e,"class","grow flex items-center justify-center card bg-base-300 p-6 sm:hidden mb-6")},m(l,a){R(l,e,a)},d(l){l&&f(e)}}}function ds(r){let e,t,l,a=r[1]?"Hide":"Show",s,n,u,d,c,o,h,g;const E=[us,cs],w=[];function k(D,p){return D[0]?0:1}return d=k(r),c=w[d]=E[d](r),{c(){e=v("div"),t=v("div"),l=v("button"),s=le(a),n=le(" System Details"),u=T(),c.c(),this.h()},l(D){e=m(D,"DIV",{class:!0});var p=b(e);t=m(p,"DIV",{class:!0});var y=b(t);l=m(y,"BUTTON",{class:!0});var I=b(l);s=se(I,a),n=se(I," System Details"),I.forEach(f),y.forEach(f),u=$(p),c.l(p),p.forEach(f),this.h()},h(){_(l,"class","btn btn-xs btn-primary"),_(t,"class","sm:hidden flex justify-end grow mb-4"),_(e,"class","flex grow flex-col")},m(D,p){R(D,e,p),i(e,t),i(t,l),i(l,s),i(l,n),i(e,u),w[d].m(e,null),o=!0,h||(g=de(l,"click",r[8]),h=!0)},p(D,[p]){(!o||p&2)&&a!==(a=D[1]?"Hide":"Show")&&ce(s,a);let y=d;d=k(D),d===y?w[d].p(D,p):(Ke(),F(w[y],1,1,()=>{w[y]=null}),et(),c=w[d],c?c.p(D,p):(c=w[d]=E[d](D),c.c()),U(c,1),c.m(e,null))},i(D){o||(U(c),o=!0)},o(D){F(c),o=!1},d(D){D&&f(e),w[d].d(),h=!1,g()}}}function fs(r,e,t){let l=!0,a=!1,s,n,u,d,c,o;return ut(async()=>{const g=await fetch("/api/admin/stats/overall-details");if(!g.ok)return;const E=await g.json();t(4,u=E.questions_asked),t(5,d=E.questions_answered),t(6,c=E.mailing_list_signups),t(7,o=E.customer_users_in_system),t(3,n=E.total_reviews),t(2,s=parseFloat(E.average_review_rating)),t(0,l=!1)}),[l,a,s,n,u,d,c,o,()=>t(1,a=!a)]}class hs extends we{constructor(e){super(),Ee(this,e,fs,ds,be,{})}}function vs(r){let e,t,l,a,s,n,u;const d=[_s,ms],c=[];function o(h,g){return h[2]?0:1}return e=o(r),t=c[e]=d[e](r),n=new as({props:{mobileView:r[1]}}),{c(){t.c(),l=T(),a=v("div"),s=v("div"),K(n.$$.fragment),this.h()},l(h){t.l(h),l=$(h),a=m(h,"DIV",{class:!0});var g=b(a);s=m(g,"DIV",{class:!0});var E=b(s);ne(n.$$.fragment,E),E.forEach(f),g.forEach(f),this.h()},h(){_(s,"class","height-details grow flex svelte-1ed3mt5"),G(s,"height-details-mobile",r[1]),_(a,"class","flex")},m(h,g){c[e].m(h,g),R(h,l,g),R(h,a,g),i(a,s),ee(n,s,null),u=!0},p(h,g){let E=e;e=o(h),e===E?c[e].p(h,g):(Ke(),F(c[E],1,1,()=>{c[E]=null}),et(),t=c[e],t?t.p(h,g):(t=c[e]=d[e](h),t.c()),U(t,1),t.m(l.parentNode,l));const w={};g&2&&(w.mobileView=h[1]),n.$set(w),(!u||g&2)&&G(s,"height-details-mobile",h[1])},i(h){u||(U(t),U(n.$$.fragment,h),u=!0)},o(h){F(t),F(n.$$.fragment,h),u=!1},d(h){h&&(f(l),f(a)),c[e].d(h),te(n)}}}function ms(r){let e,t,l,a,s,n,u,d,c,o,h,g;return a=new ml({}),h=new _l({props:{mobileView:r[2]}}),{c(){e=v("div"),t=v("div"),l=v("div"),K(a.$$.fragment),s=T(),n=v("div"),u=T(),d=v("div"),c=T(),o=v("div"),K(h.$$.fragment),this.h()},l(E){e=m(E,"DIV",{class:!0});var w=b(e);t=m(w,"DIV",{class:!0});var k=b(t);l=m(k,"DIV",{class:!0});var D=b(l);ne(a.$$.fragment,D),D.forEach(f),s=$(k),n=m(k,"DIV",{class:!0}),b(n).forEach(f),u=$(k),d=m(k,"DIV",{class:!0}),b(d).forEach(f),c=$(k),o=m(k,"DIV",{class:!0});var p=b(o);ne(h.$$.fragment,p),p.forEach(f),k.forEach(f),w.forEach(f),this.h()},h(){_(l,"class","h-96 flex grow sm:basis-1/2"),_(n,"class","max-sm:hidden w-6"),_(d,"class","h-6 sm:hidden"),_(o,"class","h-96 flex grow sm:basis-1/2"),_(t,"class","grow flex justify-between max-sm:flex-col"),_(e,"class","flex mb-6")},m(E,w){R(E,e,w),i(e,t),i(t,l),ee(a,l,null),i(t,s),i(t,n),i(t,u),i(t,d),i(t,c),i(t,o),ee(h,o,null),g=!0},p(E,w){const k={};w&4&&(k.mobileView=E[2]),h.$set(k)},i(E){g||(U(a.$$.fragment,E),U(h.$$.fragment,E),g=!0)},o(E){F(a.$$.fragment,E),F(h.$$.fragment,E),g=!1},d(E){E&&f(e),te(a),te(h)}}}function _s(r){let e,t,l,a,s,n,u,d,c,o;return a=new ml({}),c=new _l({props:{mobileView:r[2]}}),{c(){e=v("div"),t=v("div"),l=v("div"),K(a.$$.fragment),s=T(),n=v("div"),u=T(),d=v("div"),K(c.$$.fragment),this.h()},l(h){e=m(h,"DIV",{class:!0});var g=b(e);t=m(g,"DIV",{class:!0});var E=b(t);l=m(E,"DIV",{class:!0});var w=b(l);ne(a.$$.fragment,w),w.forEach(f),s=$(E),n=m(E,"DIV",{class:!0}),b(n).forEach(f),u=$(E),d=m(E,"DIV",{class:!0});var k=b(d);ne(c.$$.fragment,k),k.forEach(f),E.forEach(f),g.forEach(f),this.h()},h(){_(l,"class","h-96 flex grow"),_(n,"class","h-6"),_(d,"class","h-96 flex grow"),_(t,"class","grow flex flex-col"),_(e,"class","flex mb-6")},m(h,g){R(h,e,g),i(e,t),i(t,l),ee(a,l,null),i(t,s),i(t,n),i(t,u),i(t,d),ee(c,d,null),o=!0},p(h,g){const E={};g&4&&(E.mobileView=h[2]),c.$set(E)},i(h){o||(U(a.$$.fragment,h),U(c.$$.fragment,h),o=!0)},o(h){F(a.$$.fragment,h),F(c.$$.fragment,h),o=!1},d(h){h&&f(e),te(a),te(c)}}}function gs(r){let e,t,l,a='<h1 class="text-2xl">Overview</h1>',s,n,u,d,c,o,h,g,E;c=new hs({});let w=!r[3]&&vs(r);return{c(){e=v("div"),t=v("div"),l=v("div"),l.innerHTML=a,s=T(),n=v("div"),u=T(),d=v("div"),K(c.$$.fragment),o=T(),w&&w.c(),this.h()},l(k){e=m(k,"DIV",{class:!0});var D=b(e);t=m(D,"DIV",{class:!0});var p=b(t);l=m(p,"DIV",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-qrz9ip"&&(l.innerHTML=a),s=$(p),n=m(p,"DIV",{class:!0}),b(n).forEach(f),u=$(p),d=m(p,"DIV",{class:!0});var y=b(d);ne(c.$$.fragment,y),o=$(y),w&&w.l(y),y.forEach(f),p.forEach(f),D.forEach(f),this.h()},h(){_(l,"class","flex"),_(n,"class","divider my-2"),_(d,"class","flex flex-col pt-4"),_(t,"class","card h-full w-full flex bg-base-100 shadow-xl p-6 overflow-y-auto"),_(e,"class","relative grow m-6")},m(k,D){R(k,e,D),i(e,t),i(t,l),i(t,s),i(t,n),i(t,u),i(t,d),ee(c,d,null),i(d,o),w&&w.m(d,null),h=!0,g||(E=de(window,"resize",r[4]),g=!0)},p(k,[D]){k[3]||w.p(k,D)},i(k){h||(U(c.$$.fragment,k),U(w),h=!0)},o(k){F(c.$$.fragment,k),F(w),h=!1},d(k){k&&f(e),te(c),w&&w.d(),g=!1,E()}}}function ps(r,e,t){let l,a,s=screen.width;const n=(h,g)=>{for(let E=0;E<g.length;E++){let w=g[E];if(h>=w[0]&&h<=w[1])return!0}return!1},u=[[0,500],[635,1140]],d=[[0,1140]],c=localStorage.getItem("testingMode")==="true",o=()=>t(0,s=screen.width);return r.$$.update=()=>{r.$$.dirty&1&&t(2,l=n(s,u)),r.$$.dirty&1&&t(1,a=n(s,d))},[s,a,l,c,o]}class bs extends we{constructor(e){super(),Ee(this,e,ps,gs,be,{})}}function jt(r,e,t){const l=r.slice();return l[20]=e[t],l}function Nt(r,e,t){const l=r.slice();return l[23]=e[t],l[19]=t,l}function Ut(r,e,t){const l=r.slice();return l[25]=e[t],l[19]=t,l}function Ft(r,e,t){const l=r.slice();return l[17]=e[t],l[19]=t,l}function ws(r){let e,t,l,a,s=[],n=new Map,u,d,c,o,h=[],g=new Map,E=De(r[3]);const w=p=>p[19];for(let p=0;p<E.length;p+=1){let y=Ut(r,E,p),I=w(y);n.set(I,s[p]=Pt(I,y))}let k=De(r[8]);const D=p=>p[20].id;for(let p=0;p<k.length;p+=1){let y=jt(r,k,p),I=D(y);g.set(I,h[p]=Bt(I,y))}return{c(){e=v("div"),t=v("table"),l=v("thead"),a=v("tr");for(let p=0;p<s.length;p+=1)s[p].c();u=T(),d=v("th"),c=T(),o=v("tbody");for(let p=0;p<h.length;p+=1)h[p].c();this.h()},l(p){e=m(p,"DIV",{class:!0});var y=b(e);t=m(y,"TABLE",{class:!0});var I=b(t);l=m(I,"THEAD",{});var C=b(l);a=m(C,"TR",{});var L=b(a);for(let A=0;A<s.length;A+=1)s[A].l(L);u=$(L),d=m(L,"TH",{}),b(d).forEach(f),L.forEach(f),C.forEach(f),c=$(I),o=m(I,"TBODY",{});var M=b(o);for(let A=0;A<h.length;A+=1)h[A].l(M);M.forEach(f),I.forEach(f),y.forEach(f),this.h()},h(){_(t,"class","table table-zebra"),_(e,"class","overflow-x-auto grow")},m(p,y){R(p,e,y),i(e,t),i(t,l),i(l,a);for(let I=0;I<s.length;I+=1)s[I]&&s[I].m(a,null);i(a,u),i(a,d),i(t,c),i(t,o);for(let I=0;I<h.length;I+=1)h[I]&&h[I].m(o,null)},p(p,y){y&8&&(E=De(p[3]),s=at(s,y,w,1,p,E,n,a,ot,Pt,u,Ut)),y&3490&&(k=De(p[8]),h=at(h,y,D,1,p,k,g,o,ot,Bt,null,jt))},i:re,o:re,d(p){p&&f(e);for(let y=0;y<s.length;y+=1)s[y].d();for(let y=0;y<h.length;y+=1)h[y].d()}}}function Es(r){let e,t,l,a="<h2>Edit User</h2>",s,n,u,d,c,o=[],h=new Map,g,E,w,k="Cancel",D,p,y="Update",I,C,L,M=De(r[4]);const A=V=>V[19];for(let V=0;V<M.length;V+=1){let x=Ft(r,M,V),S=A(x);h.set(S,o[V]=zt(S,x))}return{c(){e=v("div"),t=v("div"),l=v("div"),l.innerHTML=a,s=T(),n=v("div"),u=T(),d=v("form"),c=v("div");for(let V=0;V<o.length;V+=1)o[V].c();g=T(),E=v("div"),w=v("button"),w.textContent=k,D=T(),p=v("button"),p.textContent=y,this.h()},l(V){e=m(V,"DIV",{class:!0});var x=b(e);t=m(x,"DIV",{class:!0});var S=b(t);l=m(S,"DIV",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-hizuom"&&(l.innerHTML=a),s=$(S),n=m(S,"DIV",{class:!0}),b(n).forEach(f),u=$(S),d=m(S,"FORM",{class:!0});var H=b(d);c=m(H,"DIV",{class:!0});var W=b(c);for(let q=0;q<o.length;q+=1)o[q].l(W);W.forEach(f),g=$(H),E=m(H,"DIV",{class:!0});var Q=b(E);w=m(Q,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),j(w)!=="svelte-1vun58f"&&(w.textContent=k),D=$(Q),p=m(Q,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),j(p)!=="svelte-m9xsm6"&&(p.textContent=y),Q.forEach(f),H.forEach(f),S.forEach(f),x.forEach(f),this.h()},h(){_(l,"class","flex justify-center"),_(n,"class","divider my-2"),_(c,"class","flex flex-col grow"),_(w,"type","button"),_(w,"class","btn"),_(p,"type","submit"),_(p,"class","btn btn-primary"),_(E,"class","flex justify-between"),_(d,"class","flex flex-col grow"),_(t,"class","relative card h-full w-full md:w-3/4 max-w-3xl md:max-h-[32rem] max-h-none flex bg-base-200 shadow-xl p-6 flex-col"),_(e,"class","relative grow flex items-center justify-center")},m(V,x){R(V,e,x),i(e,t),i(t,l),i(t,s),i(t,n),i(t,u),i(t,d),i(d,c);for(let S=0;S<o.length;S+=1)o[S]&&o[S].m(c,null);i(d,g),i(d,E),i(E,w),i(E,D),i(E,p),I=!0,C||(L=[de(w,"click",r[13]),de(d,"submit",rl(r[14]))],C=!0)},p(V,x){x&656&&(M=De(V[4]),Ke(),o=at(o,x,A,1,V,M,h,c,hl,zt,null,Ft),et())},i(V){if(!I){for(let x=0;x<M.length;x+=1)U(o[x]);I=!0}},o(V){for(let x=0;x<o.length;x+=1)F(o[x]);I=!1},d(V){V&&f(e);for(let x=0;x<o.length;x+=1)o[x].d();C=!1,ct(L)}}}function Is(r){let e,t='<span class="loading loading-ring loading-lg"></span>';return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=m(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-ava9pj"&&(e.innerHTML=t),this.h()},h(){_(e,"class","grow flex items-center justify-center")},m(l,a){R(l,e,a)},p:re,i:re,o:re,d(l){l&&f(e)}}}function Pt(r,e){let t,l=e[25]+"",a;return{key:r,first:null,c(){t=v("th"),a=le(l),this.h()},l(s){t=m(s,"TH",{});var n=b(t);a=se(n,l),n.forEach(f),this.h()},h(){this.first=t},m(s,n){R(s,t,n),i(t,a)},p(s,n){e=s,n&8&&l!==(l=e[25]+"")&&ce(a,l)},d(s){s&&f(t)}}}function ks(r){let e,t=r[20][r[23]]+"",l;return{c(){e=v("td"),l=le(t)},l(a){e=m(a,"TD",{});var s=b(e);l=se(s,t),s.forEach(f)},m(a,s){R(a,e,s),i(e,l)},p(a,s){s&256&&t!==(t=a[20][a[23]]+"")&&ce(l,t)},d(a){a&&f(e)}}}function ys(r){let e,t=r[5][r[23]](r[20][r[23]])+"",l;return{c(){e=v("td"),l=le(t)},l(a){e=m(a,"TD",{});var s=b(e);l=se(s,t),s.forEach(f)},m(a,s){R(a,e,s),i(e,l)},p(a,s){s&288&&t!==(t=a[5][a[23]](a[20][a[23]])+"")&&ce(l,t)},d(a){a&&f(e)}}}function qt(r,e){let t,l,a;function s(d,c){return c&288&&(l=null),l==null&&(l=!!Object.keys(d[5]).includes(d[23])),l?ys:ks}let n=s(e,-1),u=n(e);return{key:r,first:null,c(){t=Ne(),u.c(),a=Ne(),this.h()},l(d){t=Ne(),u.l(d),a=Ne(),this.h()},h(){this.first=t},m(d,c){R(d,t,c),u.m(d,c),R(d,a,c)},p(d,c){e=d,n===(n=s(e,c))&&u?u.p(e,c):(u.d(1),u=n(e),u&&(u.c(),u.m(a.parentNode,a)))},d(d){d&&(f(t),f(a)),u.d(d)}}}function Bt(r,e){let t,l=[],a=new Map,s,n,u,d="Edit",c,o,h="Delete",g,E,w,k=De(Object.keys(e[20]).filter(Qt));const D=I=>I[19];for(let I=0;I<k.length;I+=1){let C=Nt(e,k,I),L=D(C);a.set(L,l[I]=qt(L,C))}function p(){return e[15](e[20])}function y(){return e[16](e[20])}return{key:r,first:null,c(){t=v("tr");for(let I=0;I<l.length;I+=1)l[I].c();s=T(),n=v("td"),u=v("button"),u.textContent=d,c=T(),o=v("button"),o.textContent=h,g=T(),this.h()},l(I){t=m(I,"TR",{});var C=b(t);for(let M=0;M<l.length;M+=1)l[M].l(C);s=$(C),n=m(C,"TD",{class:!0});var L=b(n);u=m(L,"BUTTON",{class:!0,"data-svelte-h":!0}),j(u)!=="svelte-qh8iz5"&&(u.textContent=d),c=$(L),o=m(L,"BUTTON",{class:!0,"data-svelte-h":!0}),j(o)!=="svelte-1odw1yl"&&(o.textContent=h),L.forEach(f),g=$(C),C.forEach(f),this.h()},h(){_(u,"class","btn btn-primary mr-4"),_(o,"class","btn btn-error"),_(n,"class","flex items-center justify-center"),this.first=t},m(I,C){R(I,t,C);for(let L=0;L<l.length;L+=1)l[L]&&l[L].m(t,null);i(t,s),i(t,n),i(n,u),i(n,c),i(n,o),i(t,g),E||(w=[de(u,"click",p),de(o,"click",y)],E=!0)},p(I,C){e=I,C&288&&(k=De(Object.keys(e[20]).filter(Qt)),l=at(l,C,D,1,e,k,a,t,ot,qt,s,Nt))},d(I){I&&f(t);for(let C=0;C<l.length;C+=1)l[C].d();E=!1,ct(w)}}}function zt(r,e){let t,l,a,s,n;var u=e[17];function d(c,o){return{props:{value:c[7].values[Object.keys(c[7].values)[c[19]]],onValueChange:c[9](c[19])}}}return u&&(l=_t(u,d(e))),{key:r,first:null,c(){t=Ne(),l&&K(l.$$.fragment),a=T(),s=v("div"),this.h()},l(c){t=Ne(),l&&ne(l.$$.fragment,c),a=$(c),s=m(c,"DIV",{class:!0}),b(s).forEach(f),this.h()},h(){_(s,"class","divider"),this.first=t},m(c,o){R(c,t,o),l&&ee(l,c,o),R(c,a,o),R(c,s,o),n=!0},p(c,o){if(e=c,o&16&&u!==(u=e[17])){if(l){Ke();const h=l;F(h.$$.fragment,1,0,()=>{te(h,1)}),et()}u?(l=_t(u,d(e)),K(l.$$.fragment),U(l.$$.fragment,1),ee(l,a.parentNode,a)):l=null}else if(u){const h={};o&144&&(h.value=e[7].values[Object.keys(e[7].values)[e[19]]]),o&16&&(h.onValueChange=e[9](e[19])),l.$set(h)}},i(c){n||(l&&U(l.$$.fragment,c),n=!0)},o(c){l&&F(l.$$.fragment,c),n=!1},d(c){c&&(f(t),f(a),f(s)),l&&te(l,c)}}}function Cs(r){let e,t,l,a,s,n,u,d,c,o;const h=[Is,Es,ws],g=[];function E(w,k){return w[6]?0:w[7]!==null?1:2}return u=E(r),d=g[u]=h[u](r),{c(){e=v("div"),t=v("h1"),l=le(r[2]),a=T(),s=v("div"),n=T(),d.c(),c=Ne(),this.h()},l(w){e=m(w,"DIV",{class:!0});var k=b(e);t=m(k,"H1",{class:!0});var D=b(t);l=se(D,r[2]),D.forEach(f),k.forEach(f),a=$(w),s=m(w,"DIV",{class:!0}),b(s).forEach(f),n=$(w),d.l(w),c=Ne(),this.h()},h(){_(t,"class","text-2xl"),_(e,"class","flex"),_(s,"class","divider my-2")},m(w,k){R(w,e,k),i(e,t),i(t,l),R(w,a,k),R(w,s,k),R(w,n,k),g[u].m(w,k),R(w,c,k),o=!0},p(w,[k]){(!o||k&4)&&ce(l,w[2]);let D=u;u=E(w),u===D?g[u].p(w,k):(Ke(),F(g[D],1,1,()=>{g[D]=null}),et(),d=g[u],d?d.p(w,k):(d=g[u]=h[u](w),d.c()),U(d,1),d.m(c.parentNode,c))},i(w){o||(U(d),o=!0)},o(w){F(d),o=!1},d(w){w&&(f(e),f(a),f(s),f(n),f(c)),g[u].d(w)}}}const Qt=r=>r!=="id";function Ds(r,e,t){let{getItemsAction:l}=e,{editAction:a}=e,{deleteAction:s}=e,{tableName:n}=e,{tableHeaders:u}=e,{editFields:d}=e,{tableFieldFormatters:c}=e,o=!0,h=null,g;const E=C=>L=>{h!==null&&t(7,h.values[Object.keys(h.values)[C]]=L,h)},w=async()=>{t(6,o=!0),t(8,g=await l()),t(6,o=!1)},k=C=>Object.keys(C).filter(L=>L!=="id").reduce((L,M)=>(L[M]=C[M],L),{});ut(w);const D=()=>t(7,h=null),p=async()=>{h!==null&&(await a(h.id,h.values),t(7,h=null),w())},y=C=>t(7,h={id:C.id,values:k(C)}),I=async C=>{await s(C.id),w()};return r.$$set=C=>{"getItemsAction"in C&&t(12,l=C.getItemsAction),"editAction"in C&&t(0,a=C.editAction),"deleteAction"in C&&t(1,s=C.deleteAction),"tableName"in C&&t(2,n=C.tableName),"tableHeaders"in C&&t(3,u=C.tableHeaders),"editFields"in C&&t(4,d=C.editFields),"tableFieldFormatters"in C&&t(5,c=C.tableFieldFormatters)},[a,s,n,u,d,c,o,h,g,E,w,k,l,D,p,y,I]}let Vs=class extends we{constructor(e){super(),Ee(this,e,Ds,Cs,be,{getItemsAction:12,editAction:0,deleteAction:1,tableName:2,tableHeaders:3,editFields:4,tableFieldFormatters:5})}};function Ts(r){let e,t,l='<span class="label-text">Email</span>',a,s,n,u;return{c(){e=v("div"),t=v("label"),t.innerHTML=l,a=T(),s=v("input"),this.h()},l(d){e=m(d,"DIV",{class:!0});var c=b(e);t=m(c,"LABEL",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-e3ddjc"&&(t.innerHTML=l),a=$(c),s=m(c,"INPUT",{type:!0,placeholder:!0,class:!0}),c.forEach(f),this.h()},h(){_(t,"class","label"),_(s,"type","email"),_(s,"placeholder","Enter email..."),_(s,"class","input input-bordered w-full"),s.value=r[0],_(e,"class","form-control w-full")},m(d,c){R(d,e,c),i(e,t),i(e,a),i(e,s),n||(u=de(s,"input",r[2]),n=!0)},p(d,[c]){c&1&&s.value!==d[0]&&(s.value=d[0])},i:re,o:re,d(d){d&&f(e),n=!1,u()}}}function $s(r,e,t){let{value:l}=e,{onValueChange:a}=e;const s=n=>a(n.currentTarget.value);return r.$$set=n=>{"value"in n&&t(0,l=n.value),"onValueChange"in n&&t(1,a=n.onValueChange)},[l,a,s]}class As extends we{constructor(e){super(),Ee(this,e,$s,Ts,be,{value:0,onValueChange:1})}}function xs(r){let e,t,l='<span class="label-text">User Type</span>',a,s,n,u="CUSTOMER",d,c="REPORTER",o,h="ADMIN",g,E,w;return{c(){e=v("div"),t=v("label"),t.innerHTML=l,a=T(),s=v("select"),n=v("option"),n.textContent=u,d=v("option"),d.textContent=c,o=v("option"),o.textContent=h,this.h()},l(k){e=m(k,"DIV",{class:!0});var D=b(e);t=m(D,"LABEL",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-4a7og1"&&(t.innerHTML=l),a=$(D),s=m(D,"SELECT",{class:!0});var p=b(s);n=m(p,"OPTION",{"data-svelte-h":!0}),j(n)!=="svelte-1albkzk"&&(n.textContent=u),d=m(p,"OPTION",{"data-svelte-h":!0}),j(d)!=="svelte-x3ne0d"&&(d.textContent=c),o=m(p,"OPTION",{"data-svelte-h":!0}),j(o)!=="svelte-px4ewr"&&(o.textContent=h),p.forEach(f),D.forEach(f),this.h()},h(){_(t,"class","label"),n.__value="CUSTOMER",it(n,n.__value),d.__value="REPORTER",it(d,d.__value),o.__value="ADMIN",it(o,o.__value),_(s,"class","select select-bordered w-full"),_(e,"class","form-control w-full")},m(k,D){R(k,e,D),i(e,t),i(e,a),i(e,s),i(s,n),i(s,d),i(s,o),vt(s,r[0].toUpperCase()),E||(w=de(s,"change",r[2]),E=!0)},p(k,[D]){D&1&&g!==(g=k[0].toUpperCase())&&vt(s,k[0].toUpperCase())},i:re,o:re,d(k){k&&f(e),E=!1,w()}}}function Ls(r,e,t){let{value:l}=e,{onValueChange:a}=e;const s=n=>a(n.currentTarget.value.toLowerCase());return r.$$set=n=>{"value"in n&&t(0,l=n.value),"onValueChange"in n&&t(1,a=n.onValueChange)},[l,a,s]}class Ms extends we{constructor(e){super(),Ee(this,e,Ls,xs,be,{value:0,onValueChange:1})}}function Ss(r){let e,t,l,a;return l=new Vs({props:{editFields:[As,Ms],getItemsAction:r[0],editAction:r[1],deleteAction:r[2],tableFieldFormatters:{user_type:Rs},tableHeaders:["Email","User Type"],tableName:"User Management"}}),{c(){e=v("div"),t=v("div"),K(l.$$.fragment),this.h()},l(s){e=m(s,"DIV",{class:!0});var n=b(e);t=m(n,"DIV",{class:!0});var u=b(t);ne(l.$$.fragment,u),u.forEach(f),n.forEach(f),this.h()},h(){_(t,"class","relative card flex bg-base-100 shadow-xl p-6 flex-col h-full w-full overflow-x-auto"),_(e,"class","relative p-6 h-full w-full")},m(s,n){R(s,e,n),i(e,t),ee(l,t,null),a=!0},p:re,i(s){a||(U(l.$$.fragment,s),a=!0)},o(s){F(l.$$.fragment,s),a=!1},d(s){s&&f(e),te(l)}}}const Rs=r=>r.toUpperCase();function Hs(r){return[async()=>(await(await fetch("/api/admin/users")).json()).users,async(a,s)=>{const n=await fetch("/api/admin/users",{method:"POST",body:JSON.stringify({id:a,email:s.email,user_type:s.user_type}),headers:{"Content-Type":"application/json"}});return pt.verify(),await n.json()},async a=>{const s=await fetch("/api/admin/users",{method:"DELETE",body:JSON.stringify({id:a}),headers:{"Content-Type":"application/json"}});return pt.verify(),await s.json()}]}class Os extends we{constructor(e){super(),Ee(this,e,Hs,Ss,be,{})}}function Gt(r,e,t){const l=r.slice();return l[13]=e[t],l}function Wt(r,e,t){const l=r.slice();return l[16]=e[t],l[18]=t,l}function js(r){let e,t,l,a,s=[],n=new Map,u,d,c,o,h=[],g=new Map,E=De(r[2]);const w=p=>p[18];for(let p=0;p<E.length;p+=1){let y=Wt(r,E,p),I=w(y);n.set(I,s[p]=Yt(I,y))}let k=De(r[5]);const D=p=>p[13].id;for(let p=0;p<k.length;p+=1){let y=Gt(r,k,p),I=D(y);g.set(I,h[p]=Xt(I,y))}return{c(){e=v("div"),t=v("table"),l=v("thead"),a=v("tr");for(let p=0;p<s.length;p+=1)s[p].c();u=T(),d=v("th"),c=T(),o=v("tbody");for(let p=0;p<h.length;p+=1)h[p].c();this.h()},l(p){e=m(p,"DIV",{class:!0});var y=b(e);t=m(y,"TABLE",{class:!0});var I=b(t);l=m(I,"THEAD",{});var C=b(l);a=m(C,"TR",{});var L=b(a);for(let A=0;A<s.length;A+=1)s[A].l(L);u=$(L),d=m(L,"TH",{}),b(d).forEach(f),L.forEach(f),C.forEach(f),c=$(I),o=m(I,"TBODY",{});var M=b(o);for(let A=0;A<h.length;A+=1)h[A].l(M);M.forEach(f),I.forEach(f),y.forEach(f),this.h()},h(){_(t,"class","table table-zebra"),_(e,"class","overflow-x-auto grow")},m(p,y){R(p,e,y),i(e,t),i(t,l),i(l,a);for(let I=0;I<s.length;I+=1)s[I]&&s[I].m(a,null);i(a,u),i(a,d),i(t,c),i(t,o);for(let I=0;I<h.length;I+=1)h[I]&&h[I].m(o,null)},p(p,y){y&4&&(E=De(p[2]),s=at(s,y,w,1,p,E,n,a,ot,Yt,u,Wt)),y&241&&(k=De(p[5]),h=at(h,y,D,1,p,k,g,o,ot,Xt,null,Gt))},d(p){p&&f(e);for(let y=0;y<s.length;y+=1)s[y].d();for(let y=0;y<h.length;y+=1)h[y].d()}}}function Ns(r){let e,t,l,a="<h2>Review Details</h2>",s,n,u,d,c,o,h,g,E='<span class="label-text">Rating</span>',w,k,D,p,y,I,C,L,M,A,V,x,S,H,W,Q,q,X,N,oe,J,z='<span class="label-text">Upvotes</span>',Z,O,P=r[4].values.upvotes+"",Ie,_e,fe,$e,ie,ve,Be='<span class="label-text">Downvotes</span>',Se,ye,xe=r[4].values.downvotes+"",Xe,Ue,Ve,tt,me,ke,dt='<span class="label-text">Content</span>',lt,Ce,ze,st,Le,Me,Fe,ge,ae='<span class="label-text">Author</span>',Y,B,ue,Qe,qe,rt,Re,He,ft="Cancel",Ge,Oe,ht="Delete",We,Je;return{c(){e=v("div"),t=v("div"),l=v("div"),l.innerHTML=a,s=T(),n=v("div"),u=T(),d=v("div"),c=v("div"),o=v("div"),h=v("div"),g=v("label"),g.innerHTML=E,w=T(),k=v("div"),D=v("input"),y=T(),I=v("input"),L=T(),M=v("input"),V=T(),x=v("input"),H=T(),W=v("input"),q=T(),X=v("div"),N=T(),oe=v("div"),J=v("label"),J.innerHTML=z,Z=T(),O=v("p"),Ie=le(P),_e=T(),fe=v("div"),$e=T(),ie=v("div"),ve=v("label"),ve.innerHTML=Be,Se=T(),ye=v("p"),Xe=le(xe),Ue=T(),Ve=v("div"),tt=T(),me=v("div"),ke=v("label"),ke.innerHTML=dt,lt=T(),Ce=v("textarea"),st=T(),Le=v("div"),Me=T(),Fe=v("div"),ge=v("label"),ge.innerHTML=ae,Y=T(),B=v("input"),Qe=T(),qe=v("div"),rt=T(),Re=v("div"),He=v("button"),He.textContent=ft,Ge=T(),Oe=v("button"),Oe.textContent=ht,this.h()},l(Te){e=m(Te,"DIV",{class:!0});var pe=b(e);t=m(pe,"DIV",{class:!0});var Pe=b(t);l=m(Pe,"DIV",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-1q50yir"&&(l.innerHTML=a),s=$(Pe),n=m(Pe,"DIV",{class:!0}),b(n).forEach(f),u=$(Pe),d=m(Pe,"DIV",{class:!0});var Ze=b(d);c=m(Ze,"DIV",{class:!0});var Ae=b(c);o=m(Ae,"DIV",{class:!0});var Ye=b(o);h=m(Ye,"DIV",{class:!0});var mt=b(h);g=m(mt,"LABEL",{class:!0,"data-svelte-h":!0}),j(g)!=="svelte-u6k3zz"&&(g.innerHTML=E),w=$(mt),k=m(mt,"DIV",{class:!0});var nt=b(k);D=m(nt,"INPUT",{type:!0,class:!0}),y=$(nt),I=m(nt,"INPUT",{type:!0,class:!0}),L=$(nt),M=m(nt,"INPUT",{type:!0,class:!0}),V=$(nt),x=m(nt,"INPUT",{type:!0,class:!0}),H=$(nt),W=m(nt,"INPUT",{type:!0,class:!0}),nt.forEach(f),mt.forEach(f),q=$(Ye),X=m(Ye,"DIV",{class:!0}),b(X).forEach(f),N=$(Ye),oe=m(Ye,"DIV",{class:!0});var bt=b(oe);J=m(bt,"LABEL",{class:!0,"data-svelte-h":!0}),j(J)!=="svelte-yo5lpm"&&(J.innerHTML=z),Z=$(bt),O=m(bt,"P",{});var At=b(O);Ie=se(At,P),At.forEach(f),bt.forEach(f),_e=$(Ye),fe=m(Ye,"DIV",{class:!0}),b(fe).forEach(f),$e=$(Ye),ie=m(Ye,"DIV",{class:!0});var wt=b(ie);ve=m(wt,"LABEL",{class:!0,"data-svelte-h":!0}),j(ve)!=="svelte-1qrnp8l"&&(ve.innerHTML=Be),Se=$(wt),ye=m(wt,"P",{});var xt=b(ye);Xe=se(xt,xe),xt.forEach(f),wt.forEach(f),Ye.forEach(f),Ue=$(Ae),Ve=m(Ae,"DIV",{class:!0}),b(Ve).forEach(f),tt=$(Ae),me=m(Ae,"DIV",{class:!0});var Et=b(me);ke=m(Et,"LABEL",{class:!0,"data-svelte-h":!0}),j(ke)!=="svelte-1rxs5lt"&&(ke.innerHTML=dt),lt=$(Et),Ce=m(Et,"TEXTAREA",{class:!0}),b(Ce).forEach(f),Et.forEach(f),st=$(Ae),Le=m(Ae,"DIV",{class:!0}),b(Le).forEach(f),Me=$(Ae),Fe=m(Ae,"DIV",{class:!0});var It=b(Fe);ge=m(It,"LABEL",{class:!0,"data-svelte-h":!0}),j(ge)!=="svelte-u3mnnf"&&(ge.innerHTML=ae),Y=$(It),B=m(It,"INPUT",{type:!0,class:!0}),It.forEach(f),Ae.forEach(f),Qe=$(Ze),qe=m(Ze,"DIV",{class:!0}),b(qe).forEach(f),rt=$(Ze),Re=m(Ze,"DIV",{class:!0});var kt=b(Re);He=m(kt,"BUTTON",{class:!0,"data-svelte-h":!0}),j(He)!=="svelte-16f5ytq"&&(He.textContent=ft),Ge=$(kt),Oe=m(kt,"BUTTON",{class:!0,"data-svelte-h":!0}),j(Oe)!=="svelte-1leldcd"&&(Oe.textContent=ht),kt.forEach(f),Ze.forEach(f),Pe.forEach(f),pe.forEach(f),this.h()},h(){_(l,"class","flex justify-center"),_(n,"class","divider my-2"),_(g,"class","label"),_(D,"type","radio"),_(D,"class","mask mask-star"),D.disabled=!0,D.checked=p=r[4].values.rating===1,_(I,"type","radio"),_(I,"class","mask mask-star"),I.disabled=!0,I.checked=C=r[4].values.rating===2,_(M,"type","radio"),_(M,"class","mask mask-star"),M.disabled=!0,M.checked=A=r[4].values.rating===3,_(x,"type","radio"),_(x,"class","mask mask-star"),x.disabled=!0,x.checked=S=r[4].values.rating===4,_(W,"type","radio"),_(W,"class","mask mask-star"),W.disabled=!0,W.checked=Q=r[4].values.rating===5,_(k,"class","rating"),_(h,"class","form-control grow"),_(X,"class","divider divider-horizontal"),_(J,"class","label"),_(oe,"class","form-control grow"),_(fe,"class","divider divider-horizontal"),_(ve,"class","label"),_(ie,"class","form-control grow"),_(o,"class","flex mt-2"),_(Ve,"class","divider"),_(ke,"class","label"),_(Ce,"class","textarea textarea-bordered h-16"),Ce.disabled=!0,Ce.value=ze=r[4].values.content,_(me,"class","form-control"),_(Le,"class","divider"),_(ge,"class","label"),_(B,"type","text"),_(B,"class","input input-bordered"),B.disabled=!0,B.value=ue=r[4].values.author,_(Fe,"class","form-control"),_(c,"class","flex flex-col grow"),_(qe,"class","divider"),_(He,"class","btn"),_(Oe,"class","btn btn-error"),_(Re,"class","flex justify-between"),_(d,"class","flex flex-col grow"),_(t,"class","relative card h-full w-full md:w-3/4 max-w-3xl md:max-h-[32rem] max-h-none flex bg-base-200 shadow-xl p-6 flex-col"),_(e,"class","relative grow flex items-center justify-center")},m(Te,pe){R(Te,e,pe),i(e,t),i(t,l),i(t,s),i(t,n),i(t,u),i(t,d),i(d,c),i(c,o),i(o,h),i(h,g),i(h,w),i(h,k),i(k,D),i(k,y),i(k,I),i(k,L),i(k,M),i(k,V),i(k,x),i(k,H),i(k,W),i(o,q),i(o,X),i(o,N),i(o,oe),i(oe,J),i(oe,Z),i(oe,O),i(O,Ie),i(o,_e),i(o,fe),i(o,$e),i(o,ie),i(ie,ve),i(ie,Se),i(ie,ye),i(ye,Xe),i(c,Ue),i(c,Ve),i(c,tt),i(c,me),i(me,ke),i(me,lt),i(me,Ce),i(c,st),i(c,Le),i(c,Me),i(c,Fe),i(Fe,ge),i(Fe,Y),i(Fe,B),i(d,Qe),i(d,qe),i(d,rt),i(d,Re),i(Re,He),i(Re,Ge),i(Re,Oe),We||(Je=[de(He,"click",r[9]),de(Oe,"click",r[10])],We=!0)},p(Te,pe){pe&16&&p!==(p=Te[4].values.rating===1)&&(D.checked=p),pe&16&&C!==(C=Te[4].values.rating===2)&&(I.checked=C),pe&16&&A!==(A=Te[4].values.rating===3)&&(M.checked=A),pe&16&&S!==(S=Te[4].values.rating===4)&&(x.checked=S),pe&16&&Q!==(Q=Te[4].values.rating===5)&&(W.checked=Q),pe&16&&P!==(P=Te[4].values.upvotes+"")&&ce(Ie,P),pe&16&&xe!==(xe=Te[4].values.downvotes+"")&&ce(Xe,xe),pe&16&&ze!==(ze=Te[4].values.content)&&(Ce.value=ze),pe&16&&ue!==(ue=Te[4].values.author)&&B.value!==ue&&(B.value=ue)},d(Te){Te&&f(e),We=!1,ct(Je)}}}function Us(r){let e,t='<span class="loading loading-ring loading-lg"></span>';return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=m(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-ava9pj"&&(e.innerHTML=t),this.h()},h(){_(e,"class","grow flex items-center justify-center")},m(l,a){R(l,e,a)},p:re,d(l){l&&f(e)}}}function Yt(r,e){let t,l=e[16]+"",a;return{key:r,first:null,c(){t=v("th"),a=le(l),this.h()},l(s){t=m(s,"TH",{});var n=b(t);a=se(n,l),n.forEach(f),this.h()},h(){this.first=t},m(s,n){R(s,t,n),i(t,a)},p(s,n){e=s,n&4&&l!==(l=e[16]+"")&&ce(a,l)},d(s){s&&f(t)}}}function Xt(r,e){let t,l,a=e[13].rating+"",s,n,u,d=(e[13].content.length===0?"EMPTY":e[13].content.length>30?Array.from(e[13].content).slice(0,30).join("")+"...":e[13].content)+"",c,o,h,g=(e[13].author.length===0?"EMPTY":e[13].author.length>10?Array.from(e[13].author).slice(0,10).join("")+"...":e[13].author)+"",E,w,k,D=e[13].upvotes+"",p,y,I,C=e[13].downvotes+"",L,M,A,V,x="View",S,H,W="Delete",Q,q,X;function N(){return e[11](e[13])}function oe(){return e[12](e[13])}return{key:r,first:null,c(){t=v("tr"),l=v("td"),s=le(a),n=T(),u=v("td"),c=le(d),o=T(),h=v("td"),E=le(g),w=T(),k=v("td"),p=le(D),y=T(),I=v("td"),L=le(C),M=T(),A=v("td"),V=v("button"),V.textContent=x,S=T(),H=v("button"),H.textContent=W,Q=T(),this.h()},l(J){t=m(J,"TR",{});var z=b(t);l=m(z,"TD",{});var Z=b(l);s=se(Z,a),Z.forEach(f),n=$(z),u=m(z,"TD",{});var O=b(u);c=se(O,d),O.forEach(f),o=$(z),h=m(z,"TD",{});var P=b(h);E=se(P,g),P.forEach(f),w=$(z),k=m(z,"TD",{});var Ie=b(k);p=se(Ie,D),Ie.forEach(f),y=$(z),I=m(z,"TD",{});var _e=b(I);L=se(_e,C),_e.forEach(f),M=$(z),A=m(z,"TD",{class:!0});var fe=b(A);V=m(fe,"BUTTON",{class:!0,"data-svelte-h":!0}),j(V)!=="svelte-whj3cl"&&(V.textContent=x),S=$(fe),H=m(fe,"BUTTON",{class:!0,"data-svelte-h":!0}),j(H)!=="svelte-1odw1yl"&&(H.textContent=W),fe.forEach(f),Q=$(z),z.forEach(f),this.h()},h(){_(V,"class","btn btn-primary mr-4"),_(H,"class","btn btn-error"),_(A,"class","flex items-center justify-center"),this.first=t},m(J,z){R(J,t,z),i(t,l),i(l,s),i(t,n),i(t,u),i(u,c),i(t,o),i(t,h),i(h,E),i(t,w),i(t,k),i(k,p),i(t,y),i(t,I),i(I,L),i(t,M),i(t,A),i(A,V),i(A,S),i(A,H),i(t,Q),q||(X=[de(V,"click",N),de(H,"click",oe)],q=!0)},p(J,z){e=J,z&32&&a!==(a=e[13].rating+"")&&ce(s,a),z&32&&d!==(d=(e[13].content.length===0?"EMPTY":e[13].content.length>30?Array.from(e[13].content).slice(0,30).join("")+"...":e[13].content)+"")&&ce(c,d),z&32&&g!==(g=(e[13].author.length===0?"EMPTY":e[13].author.length>10?Array.from(e[13].author).slice(0,10).join("")+"...":e[13].author)+"")&&ce(E,g),z&32&&D!==(D=e[13].upvotes+"")&&ce(p,D),z&32&&C!==(C=e[13].downvotes+"")&&ce(L,C)},d(J){J&&f(t),q=!1,ct(X)}}}function Fs(r){let e,t,l,a,s,n,u;function d(h,g){return h[3]?Us:h[4]!==null?Ns:js}let c=d(r),o=c(r);return{c(){e=v("div"),t=v("h1"),l=le(r[1]),a=T(),s=v("div"),n=T(),o.c(),u=Ne(),this.h()},l(h){e=m(h,"DIV",{class:!0});var g=b(e);t=m(g,"H1",{class:!0});var E=b(t);l=se(E,r[1]),E.forEach(f),g.forEach(f),a=$(h),s=m(h,"DIV",{class:!0}),b(s).forEach(f),n=$(h),o.l(h),u=Ne(),this.h()},h(){_(t,"class","text-2xl"),_(e,"class","flex"),_(s,"class","divider my-2")},m(h,g){R(h,e,g),i(e,t),i(t,l),R(h,a,g),R(h,s,g),R(h,n,g),o.m(h,g),R(h,u,g)},p(h,[g]){g&2&&ce(l,h[1]),c===(c=d(h))&&o?o.p(h,g):(o.d(1),o=c(h),o&&(o.c(),o.m(u.parentNode,u)))},i:re,o:re,d(h){h&&(f(e),f(a),f(s),f(n),f(u)),o.d(h)}}}function Ps(r,e,t){let{getItemsAction:l}=e,{deleteAction:a}=e,{tableName:s}=e,{tableHeaders:n}=e,u=!0,d=null,c;const o=async()=>{t(3,u=!0),t(5,c=await l()),t(3,u=!1)},h=D=>Object.keys(D).filter(p=>p!=="id").reduce((p,y)=>(p[y]=D[y],p),{});ut(o);const g=()=>t(4,d=null),E=()=>{d!==null&&(a(d.id),t(4,d=null))},w=D=>t(4,d={id:D.id,values:h(D)}),k=async D=>{await a(D.id),o()};return r.$$set=D=>{"getItemsAction"in D&&t(8,l=D.getItemsAction),"deleteAction"in D&&t(0,a=D.deleteAction),"tableName"in D&&t(1,s=D.tableName),"tableHeaders"in D&&t(2,n=D.tableHeaders)},[a,s,n,u,d,c,o,h,l,g,E,w,k]}let qs=class extends we{constructor(e){super(),Ee(this,e,Ps,Fs,be,{getItemsAction:8,deleteAction:0,tableName:1,tableHeaders:2})}};function Bs(r){let e,t,l,a;return l=new qs({props:{getItemsAction:r[0],deleteAction:r[1],tableHeaders:["Rating","Content","Author","Upvotes","Downvotes"],tableName:"Reviews"}}),{c(){e=v("div"),t=v("div"),K(l.$$.fragment),this.h()},l(s){e=m(s,"DIV",{class:!0});var n=b(e);t=m(n,"DIV",{class:!0});var u=b(t);ne(l.$$.fragment,u),u.forEach(f),n.forEach(f),this.h()},h(){_(t,"class","relative card flex bg-base-100 shadow-xl p-6 flex-col h-full w-full overflow-x-auto"),_(e,"class","relative p-6 h-full w-full")},m(s,n){R(s,e,n),i(e,t),ee(l,t,null),a=!0},p:re,i(s){a||(U(l.$$.fragment,s),a=!0)},o(s){F(l.$$.fragment,s),a=!1},d(s){s&&f(e),te(l)}}}function zs(r){return[async()=>{const a=await(await fetch("/api/admin/reviews")).json();return console.log(a.users),a.users},async l=>{const a=await fetch("/api/admin/reviews",{method:"DELETE",body:JSON.stringify({id:l}),headers:{"Content-Type":"application/json"}});return pt.verify(),await a.json()}]}class Qs extends we{constructor(e){super(),Ee(this,e,zs,Bs,be,{})}}function Jt(r,e,t){const l=r.slice();return l[19]=e[t],l}function Zt(r,e,t){const l=r.slice();return l[22]=e[t],l[18]=t,l}function Kt(r,e,t){const l=r.slice();return l[16]=e[t],l[18]=t,l}function Gs(r){let e,t,l,a,s=[],n=new Map,u,d,c,o,h=[],g=new Map,E=De(r[3]);const w=p=>p[18];for(let p=0;p<E.length;p+=1){let y=Zt(r,E,p),I=w(y);n.set(I,s[p]=el(I,y))}let k=De(r[7]);const D=p=>p[19].id;for(let p=0;p<k.length;p+=1){let y=Jt(r,k,p),I=D(y);g.set(I,h[p]=tl(I,y))}return{c(){e=v("div"),t=v("table"),l=v("thead"),a=v("tr");for(let p=0;p<s.length;p+=1)s[p].c();u=T(),d=v("th"),c=T(),o=v("tbody");for(let p=0;p<h.length;p+=1)h[p].c();this.h()},l(p){e=m(p,"DIV",{class:!0});var y=b(e);t=m(y,"TABLE",{class:!0});var I=b(t);l=m(I,"THEAD",{});var C=b(l);a=m(C,"TR",{});var L=b(a);for(let A=0;A<s.length;A+=1)s[A].l(L);u=$(L),d=m(L,"TH",{}),b(d).forEach(f),L.forEach(f),C.forEach(f),c=$(I),o=m(I,"TBODY",{});var M=b(o);for(let A=0;A<h.length;A+=1)h[A].l(M);M.forEach(f),I.forEach(f),y.forEach(f),this.h()},h(){_(t,"class","table table-zebra"),_(e,"class","overflow-x-auto grow")},m(p,y){R(p,e,y),i(e,t),i(t,l),i(l,a);for(let I=0;I<s.length;I+=1)s[I]&&s[I].m(a,null);i(a,u),i(a,d),i(t,c),i(t,o);for(let I=0;I<h.length;I+=1)h[I]&&h[I].m(o,null)},p(p,y){y&8&&(E=De(p[3]),s=at(s,y,w,1,p,E,n,a,ot,el,u,Zt)),y&1730&&(k=De(p[7]),h=at(h,y,D,1,p,k,g,o,ot,tl,null,Jt))},i:re,o:re,d(p){p&&f(e);for(let y=0;y<s.length;y+=1)s[y].d();for(let y=0;y<h.length;y+=1)h[y].d()}}}function Ws(r){let e,t,l,a="<h2>Answer/Edit Question</h2>",s,n,u,d,c,o=[],h=new Map,g,E,w,k="Cancel",D,p,y="Update",I,C,L,M=De(r[4]);const A=V=>V[18];for(let V=0;V<M.length;V+=1){let x=Kt(r,M,V),S=A(x);h.set(S,o[V]=ll(S,x))}return{c(){e=v("div"),t=v("div"),l=v("div"),l.innerHTML=a,s=T(),n=v("div"),u=T(),d=v("form"),c=v("div");for(let V=0;V<o.length;V+=1)o[V].c();g=T(),E=v("div"),w=v("button"),w.textContent=k,D=T(),p=v("button"),p.textContent=y,this.h()},l(V){e=m(V,"DIV",{class:!0});var x=b(e);t=m(x,"DIV",{class:!0});var S=b(t);l=m(S,"DIV",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-10jwme2"&&(l.innerHTML=a),s=$(S),n=m(S,"DIV",{class:!0}),b(n).forEach(f),u=$(S),d=m(S,"FORM",{class:!0});var H=b(d);c=m(H,"DIV",{class:!0});var W=b(c);for(let q=0;q<o.length;q+=1)o[q].l(W);W.forEach(f),g=$(H),E=m(H,"DIV",{class:!0});var Q=b(E);w=m(Q,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),j(w)!=="svelte-1vun58f"&&(w.textContent=k),D=$(Q),p=m(Q,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),j(p)!=="svelte-m9xsm6"&&(p.textContent=y),Q.forEach(f),H.forEach(f),S.forEach(f),x.forEach(f),this.h()},h(){_(l,"class","flex justify-center"),_(n,"class","divider my-2"),_(c,"class","flex flex-col grow"),_(w,"type","button"),_(w,"class","btn"),_(p,"type","submit"),_(p,"class","btn btn-primary"),_(E,"class","flex justify-between"),_(d,"class","flex flex-col grow"),_(t,"class","relative card h-full w-full md:w-3/4 max-w-3xl md:max-h-[32rem] max-h-none flex bg-base-200 shadow-xl p-6 flex-col"),_(e,"class","relative grow flex items-center justify-center")},m(V,x){R(V,e,x),i(e,t),i(t,l),i(t,s),i(t,n),i(t,u),i(t,d),i(d,c);for(let S=0;S<o.length;S+=1)o[S]&&o[S].m(c,null);i(d,g),i(d,E),i(E,w),i(E,D),i(E,p),I=!0,C||(L=[de(w,"click",r[12]),de(d,"submit",rl(r[13]))],C=!0)},p(V,x){x&336&&(M=De(V[4]),Ke(),o=at(o,x,A,1,V,M,h,c,hl,ll,null,Kt),et())},i(V){if(!I){for(let x=0;x<M.length;x+=1)U(o[x]);I=!0}},o(V){for(let x=0;x<o.length;x+=1)F(o[x]);I=!1},d(V){V&&f(e);for(let x=0;x<o.length;x+=1)o[x].d();C=!1,ct(L)}}}function Ys(r){let e,t='<span class="loading loading-ring loading-lg"></span>';return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=m(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-ava9pj"&&(e.innerHTML=t),this.h()},h(){_(e,"class","grow flex items-center justify-center")},m(l,a){R(l,e,a)},p:re,i:re,o:re,d(l){l&&f(e)}}}function el(r,e){let t,l=e[22]+"",a;return{key:r,first:null,c(){t=v("th"),a=le(l),this.h()},l(s){t=m(s,"TH",{});var n=b(t);a=se(n,l),n.forEach(f),this.h()},h(){this.first=t},m(s,n){R(s,t,n),i(t,a)},p(s,n){e=s,n&8&&l!==(l=e[22]+"")&&ce(a,l)},d(s){s&&f(t)}}}function tl(r,e){let t,l,a=(e[19].question.length===0?"EMPTY":e[19].question.length>20?Array.from(e[19].question).slice(0,20).join("")+"...":e[19].question)+"",s,n,u,d=(e[19].answer===null?"NOT ANSWERED":e[19].answer.length>20?Array.from(e[19].answer).slice(0,20).join("")+"...":e[19].answer)+"",c,o,h,g=(e[19].answer===null?"N/A":e[19].upvotes)+"",E,w,k,D=(e[19].answer===null?"N/A":e[19].downvotes)+"",p,y,I,C,L=e[19].answer===null?"Answer":"Edit",M,A,V,x="Delete",S,H,W;function Q(){return e[14](e[19])}function q(){return e[15](e[19])}return{key:r,first:null,c(){t=v("tr"),l=v("td"),s=le(a),n=T(),u=v("td"),c=le(d),o=T(),h=v("td"),E=le(g),w=T(),k=v("td"),p=le(D),y=T(),I=v("td"),C=v("button"),M=le(L),A=T(),V=v("button"),V.textContent=x,S=T(),this.h()},l(X){t=m(X,"TR",{});var N=b(t);l=m(N,"TD",{});var oe=b(l);s=se(oe,a),oe.forEach(f),n=$(N),u=m(N,"TD",{});var J=b(u);c=se(J,d),J.forEach(f),o=$(N),h=m(N,"TD",{});var z=b(h);E=se(z,g),z.forEach(f),w=$(N),k=m(N,"TD",{});var Z=b(k);p=se(Z,D),Z.forEach(f),y=$(N),I=m(N,"TD",{class:!0});var O=b(I);C=m(O,"BUTTON",{class:!0});var P=b(C);M=se(P,L),P.forEach(f),A=$(O),V=m(O,"BUTTON",{class:!0,"data-svelte-h":!0}),j(V)!=="svelte-1odw1yl"&&(V.textContent=x),O.forEach(f),S=$(N),N.forEach(f),this.h()},h(){_(C,"class","btn btn-primary mr-4 equalize-width svelte-1lltf27"),_(V,"class","btn btn-error"),_(I,"class","flex items-center justify-center"),this.first=t},m(X,N){R(X,t,N),i(t,l),i(l,s),i(t,n),i(t,u),i(u,c),i(t,o),i(t,h),i(h,E),i(t,w),i(t,k),i(k,p),i(t,y),i(t,I),i(I,C),i(C,M),i(I,A),i(I,V),i(t,S),H||(W=[de(C,"click",Q),de(V,"click",q)],H=!0)},p(X,N){e=X,N&128&&a!==(a=(e[19].question.length===0?"EMPTY":e[19].question.length>20?Array.from(e[19].question).slice(0,20).join("")+"...":e[19].question)+"")&&ce(s,a),N&128&&d!==(d=(e[19].answer===null?"NOT ANSWERED":e[19].answer.length>20?Array.from(e[19].answer).slice(0,20).join("")+"...":e[19].answer)+"")&&ce(c,d),N&128&&g!==(g=(e[19].answer===null?"N/A":e[19].upvotes)+"")&&ce(E,g),N&128&&D!==(D=(e[19].answer===null?"N/A":e[19].downvotes)+"")&&ce(p,D),N&128&&L!==(L=e[19].answer===null?"Answer":"Edit")&&ce(M,L)},d(X){X&&f(t),H=!1,ct(W)}}}function ll(r,e){let t,l,a,s,n;var u=e[16];function d(c,o){return{props:{value:c[6].values[Object.keys(c[6].values)[c[18]]],onValueChange:c[8](c[18])}}}return u&&(l=_t(u,d(e))),{key:r,first:null,c(){t=Ne(),l&&K(l.$$.fragment),a=T(),s=v("div"),this.h()},l(c){t=Ne(),l&&ne(l.$$.fragment,c),a=$(c),s=m(c,"DIV",{class:!0}),b(s).forEach(f),this.h()},h(){_(s,"class","divider"),this.first=t},m(c,o){R(c,t,o),l&&ee(l,c,o),R(c,a,o),R(c,s,o),n=!0},p(c,o){if(e=c,o&16&&u!==(u=e[16])){if(l){Ke();const h=l;F(h.$$.fragment,1,0,()=>{te(h,1)}),et()}u?(l=_t(u,d(e)),K(l.$$.fragment),U(l.$$.fragment,1),ee(l,a.parentNode,a)):l=null}else if(u){const h={};o&80&&(h.value=e[6].values[Object.keys(e[6].values)[e[18]]]),o&16&&(h.onValueChange=e[8](e[18])),l.$set(h)}},i(c){n||(l&&U(l.$$.fragment,c),n=!0)},o(c){l&&F(l.$$.fragment,c),n=!1},d(c){c&&(f(t),f(a),f(s)),l&&te(l,c)}}}function Xs(r){let e,t,l,a,s,n,u,d,c,o;const h=[Ys,Ws,Gs],g=[];function E(w,k){return w[5]?0:w[6]!==null?1:2}return u=E(r),d=g[u]=h[u](r),{c(){e=v("div"),t=v("h1"),l=le(r[2]),a=T(),s=v("div"),n=T(),d.c(),c=Ne(),this.h()},l(w){e=m(w,"DIV",{class:!0});var k=b(e);t=m(k,"H1",{class:!0});var D=b(t);l=se(D,r[2]),D.forEach(f),k.forEach(f),a=$(w),s=m(w,"DIV",{class:!0}),b(s).forEach(f),n=$(w),d.l(w),c=Ne(),this.h()},h(){_(t,"class","text-2xl"),_(e,"class","flex"),_(s,"class","divider my-2")},m(w,k){R(w,e,k),i(e,t),i(t,l),R(w,a,k),R(w,s,k),R(w,n,k),g[u].m(w,k),R(w,c,k),o=!0},p(w,[k]){(!o||k&4)&&ce(l,w[2]);let D=u;u=E(w),u===D?g[u].p(w,k):(Ke(),F(g[D],1,1,()=>{g[D]=null}),et(),d=g[u],d?d.p(w,k):(d=g[u]=h[u](w),d.c()),U(d,1),d.m(c.parentNode,c))},i(w){o||(U(d),o=!0)},o(w){F(d),o=!1},d(w){w&&(f(e),f(a),f(s),f(n),f(c)),g[u].d(w)}}}function Js(r,e,t){let{getItemsAction:l}=e,{editAction:a}=e,{deleteAction:s}=e,{tableName:n}=e,{tableHeaders:u}=e,{editFields:d}=e,c=!0,o=null,h;const g=I=>C=>{o!==null&&t(6,o.values[Object.keys(o.values)[I]]=C,o)},E=async()=>{t(5,c=!0),t(7,h=await l()),t(5,c=!1)},w=I=>Object.keys(I).filter(C=>C!=="id").reduce((C,L)=>(C[L]=I[L],C),{});ut(E);const k=()=>t(6,o=null),D=async()=>{o!==null&&(await a(o.id,o.values),t(6,o=null),E())},p=I=>t(6,o={id:I.id,values:w(I)}),y=async I=>{await s(I.id),E()};return r.$$set=I=>{"getItemsAction"in I&&t(11,l=I.getItemsAction),"editAction"in I&&t(0,a=I.editAction),"deleteAction"in I&&t(1,s=I.deleteAction),"tableName"in I&&t(2,n=I.tableName),"tableHeaders"in I&&t(3,u=I.tableHeaders),"editFields"in I&&t(4,d=I.editFields)},[a,s,n,u,d,c,o,h,g,E,w,l,k,D,p,y]}class Zs extends we{constructor(e){super(),Ee(this,e,Js,Xs,be,{getItemsAction:11,editAction:0,deleteAction:1,tableName:2,tableHeaders:3,editFields:4})}}function Ks(r){let e,t,l='<span class="label-text">Question</span>',a,s,n,u;return{c(){e=v("div"),t=v("label"),t.innerHTML=l,a=T(),s=v("textarea"),this.h()},l(d){e=m(d,"DIV",{class:!0});var c=b(e);t=m(c,"LABEL",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1bwzcy8"&&(t.innerHTML=l),a=$(c),s=m(c,"TEXTAREA",{placeholder:!0,class:!0}),b(s).forEach(f),c.forEach(f),this.h()},h(){_(t,"class","label"),_(s,"placeholder","Enter question..."),_(s,"class","textarea textarea-bordered h-24"),s.value=r[0],_(e,"class","form-control w-full")},m(d,c){R(d,e,c),i(e,t),i(e,a),i(e,s),n||(u=de(s,"input",r[2]),n=!0)},p(d,[c]){c&1&&(s.value=d[0])},i:re,o:re,d(d){d&&f(e),n=!1,u()}}}function ea(r,e,t){let{value:l}=e,{onValueChange:a}=e;const s=n=>a(n.currentTarget.value);return r.$$set=n=>{"value"in n&&t(0,l=n.value),"onValueChange"in n&&t(1,a=n.onValueChange)},[l,a,s]}class ta extends we{constructor(e){super(),Ee(this,e,ea,Ks,be,{value:0,onValueChange:1})}}function la(r){let e,t,l='<span class="label-text">Answer</span>',a,s,n,u;return{c(){e=v("div"),t=v("label"),t.innerHTML=l,a=T(),s=v("textarea"),this.h()},l(d){e=m(d,"DIV",{class:!0});var c=b(e);t=m(c,"LABEL",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-toqtd2"&&(t.innerHTML=l),a=$(c),s=m(c,"TEXTAREA",{placeholder:!0,class:!0}),b(s).forEach(f),c.forEach(f),this.h()},h(){_(t,"class","label"),_(s,"placeholder","Enter answer..."),_(s,"class","textarea textarea-bordered h-24"),s.value=r[0],_(e,"class","form-control w-full")},m(d,c){R(d,e,c),i(e,t),i(e,a),i(e,s),n||(u=de(s,"input",r[2]),n=!0)},p(d,[c]){c&1&&(s.value=d[0])},i:re,o:re,d(d){d&&f(e),n=!1,u()}}}function sa(r,e,t){let{value:l}=e,{onValueChange:a}=e;const s=n=>a(n.currentTarget.value);return r.$$set=n=>{"value"in n&&t(0,l=n.value),"onValueChange"in n&&t(1,a=n.onValueChange)},[l,a,s]}class aa extends we{constructor(e){super(),Ee(this,e,sa,la,be,{value:0,onValueChange:1})}}function na(r){let e,t,l,a;return l=new Zs({props:{editFields:[ta,aa],getItemsAction:r[0],editAction:r[1],deleteAction:r[2],tableHeaders:["Question","Answer","Upvotes","Downvotes"],tableName:"Questions & Answers"}}),{c(){e=v("div"),t=v("div"),K(l.$$.fragment),this.h()},l(s){e=m(s,"DIV",{class:!0});var n=b(e);t=m(n,"DIV",{class:!0});var u=b(t);ne(l.$$.fragment,u),u.forEach(f),n.forEach(f),this.h()},h(){_(t,"class","relative card flex bg-base-100 shadow-xl p-6 flex-col h-full w-full overflow-x-auto"),_(e,"class","relative p-6 h-full w-full")},m(s,n){R(s,e,n),i(e,t),ee(l,t,null),a=!0},p:re,i(s){a||(U(l.$$.fragment,s),a=!0)},o(s){F(l.$$.fragment,s),a=!1},d(s){s&&f(e),te(l)}}}function ia(r){return[async()=>(await(await fetch("/api/admin/questions")).json()).questions,async(a,s)=>{const n=await fetch("/api/admin/questions",{method:"POST",body:JSON.stringify({id:a,question:s.question,answer:s.answer}),headers:{"Content-Type":"application/json"}});return pt.verify(),await n.json()},async a=>{const s=await fetch("/api/admin/questions",{method:"DELETE",body:JSON.stringify({id:a}),headers:{"Content-Type":"application/json"}});return pt.verify(),await s.json()}]}class ra extends we{constructor(e){super(),Ee(this,e,ia,na,be,{})}}var gl={exports:{}};(function(r,e){(function(t,l){l()})(gt,function(){function t(c,o){return typeof o>"u"?o={autoBom:!1}:typeof o!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function l(c,o,h){var g=new XMLHttpRequest;g.open("GET",c),g.responseType="blob",g.onload=function(){d(g.response,o,h)},g.onerror=function(){console.error("could not download file")},g.send()}function a(c){var o=new XMLHttpRequest;o.open("HEAD",c,!1);try{o.send()}catch{}return 200<=o.status&&299>=o.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(o)}}var n=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof gt=="object"&&gt.global===gt?gt:void 0,u=n.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=n.saveAs||(typeof window!="object"||window!==n?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(c,o,h){var g=n.URL||n.webkitURL,E=document.createElement("a");o=o||c.name||"download",E.download=o,E.rel="noopener",typeof c=="string"?(E.href=c,E.origin===location.origin?s(E):a(E.href)?l(c,o,h):s(E,E.target="_blank")):(E.href=g.createObjectURL(c),setTimeout(function(){g.revokeObjectURL(E.href)},4e4),setTimeout(function(){s(E)},0))}:"msSaveOrOpenBlob"in navigator?function(c,o,h){if(o=o||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(t(c,h),o);else if(a(c))l(c,o,h);else{var g=document.createElement("a");g.href=c,g.target="_blank",setTimeout(function(){s(g)})}}:function(c,o,h,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof c=="string")return l(c,o,h);var E=c.type==="application/octet-stream",w=/constructor/i.test(n.HTMLElement)||n.safari,k=/CriOS\/[\d]+/.test(navigator.userAgent);if((k||E&&w||u)&&typeof FileReader<"u"){var D=new FileReader;D.onloadend=function(){var I=D.result;I=k?I:I.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=I:location=I,g=null},D.readAsDataURL(c)}else{var p=n.URL||n.webkitURL,y=p.createObjectURL(c);g?g.location=y:location.href=y,g=null,setTimeout(function(){p.revokeObjectURL(y)},4e4)}});n.saveAs=d.saveAs=d,r.exports=d})})(gl);var oa=gl.exports;function sl(r,e,t){const l=r.slice();return l[3]=e[t],l}function ca(r){let e,t='<td class="text-left text-lg">No mailing list signups yet...</td>';return{c(){e=v("tr"),e.innerHTML=t},l(l){e=m(l,"TR",{"data-svelte-h":!0}),j(e)!=="svelte-1uvzls2"&&(e.innerHTML=t)},m(l,a){R(l,e,a)},p:re,d(l){l&&f(e)}}}function ua(r){let e=[],t=new Map,l,a=De(r[0]);const s=n=>n[3];for(let n=0;n<a.length;n+=1){let u=sl(r,a,n),d=s(u);t.set(d,e[n]=al(d,u))}return{c(){for(let n=0;n<e.length;n+=1)e[n].c();l=Ne()},l(n){for(let u=0;u<e.length;u+=1)e[u].l(n);l=Ne()},m(n,u){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(n,u);R(n,l,u)},p(n,u){u&1&&(a=De(n[0]),e=at(e,u,s,1,n,a,t,l.parentNode,ot,al,l,sl))},d(n){n&&f(l);for(let u=0;u<e.length;u+=1)e[u].d(n)}}}function al(r,e){let t,l,a=e[3].email+"",s,n;return{key:r,first:null,c(){t=v("tr"),l=v("td"),s=le(a),n=T(),this.h()},l(u){t=m(u,"TR",{});var d=b(t);l=m(d,"TD",{class:!0});var c=b(l);s=se(c,a),c.forEach(f),n=$(d),d.forEach(f),this.h()},h(){_(l,"class","text-left text-lg"),this.first=t},m(u,d){R(u,t,d),i(t,l),i(l,s),i(t,n)},p(u,d){e=u,d&1&&a!==(a=e[3].email+"")&&ce(s,a)},d(u){u&&f(t)}}}function da(r){let e,t,l,a='<h1 class="text-2xl">Mailing List</h1>',s,n,u,d,c,o,h='<tr><th class="text-left text-2xl">Emails</th></tr>',g,E,w,k,D,p,y="Mailing List Signups",I,C,L=r[0].length+"",M,A,V,x,S,H,W,Q,q,X,N;function oe(Z,O){return Z[0].length>0?ua:ca}let J=oe(r),z=J(r);return x=new je({props:{icon:$t,height:24,class:"scale-125"}}),{c(){e=v("div"),t=v("div"),l=v("div"),l.innerHTML=a,s=T(),n=v("div"),u=T(),d=v("div"),c=v("table"),o=v("thead"),o.innerHTML=h,g=T(),E=v("tbody"),z.c(),w=T(),k=v("div"),D=v("div"),p=v("div"),p.textContent=y,I=T(),C=v("div"),M=le(L),A=T(),V=v("div"),K(x.$$.fragment),S=T(),H=v("button"),W=le("Export Emails"),this.h()},l(Z){e=m(Z,"DIV",{class:!0});var O=b(e);t=m(O,"DIV",{class:!0});var P=b(t);l=m(P,"DIV",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-192rtc1"&&(l.innerHTML=a),s=$(P),n=m(P,"DIV",{class:!0}),b(n).forEach(f),u=$(P),d=m(P,"DIV",{class:!0});var Ie=b(d);c=m(Ie,"TABLE",{class:!0});var _e=b(c);o=m(_e,"THEAD",{"data-svelte-h":!0}),j(o)!=="svelte-w1hfkd"&&(o.innerHTML=h),g=$(_e),E=m(_e,"TBODY",{});var fe=b(E);z.l(fe),fe.forEach(f),_e.forEach(f),w=$(Ie),k=m(Ie,"DIV",{class:!0});var $e=b(k);D=m($e,"DIV",{class:!0});var ie=b(D);p=m(ie,"DIV",{class:!0,"data-svelte-h":!0}),j(p)!=="svelte-xrqtig"&&(p.textContent=y),I=$(ie),C=m(ie,"DIV",{class:!0});var ve=b(C);M=se(ve,L),ve.forEach(f),A=$(ie),V=m(ie,"DIV",{class:!0});var Be=b(V);ne(x.$$.fragment,Be),Be.forEach(f),ie.forEach(f),S=$($e),H=m($e,"BUTTON",{class:!0});var Se=b(H);W=se(Se,"Export Emails"),Se.forEach(f),$e.forEach(f),Ie.forEach(f),P.forEach(f),O.forEach(f),this.h()},h(){_(l,"class","flex"),_(n,"class","divider my-2"),_(c,"class","table"),_(p,"class","stat-title"),_(C,"class","stat-value"),_(V,"class","stat-figure text-secondary"),_(D,"class","stat card bg-base-300"),_(H,"class","btn btn-neutral"),H.disabled=Q=!r[0].length,_(k,"class","flex flex-col justify-between gap-6"),_(d,"class","flex max-sm:flex-col gap-6"),_(t,"class","relative card flex bg-base-100 shadow-xl p-6 flex-col h-full w-full overflow-x-auto"),_(e,"class","relative p-6 h-full w-full")},m(Z,O){R(Z,e,O),i(e,t),i(t,l),i(t,s),i(t,n),i(t,u),i(t,d),i(d,c),i(c,o),i(c,g),i(c,E),z.m(E,null),i(d,w),i(d,k),i(k,D),i(D,p),i(D,I),i(D,C),i(C,M),i(D,A),i(D,V),ee(x,V,null),i(k,S),i(k,H),i(H,W),q=!0,X||(N=de(H,"click",r[1]),X=!0)},p(Z,[O]){J===(J=oe(Z))&&z?z.p(Z,O):(z.d(1),z=J(Z),z&&(z.c(),z.m(E,null))),(!q||O&1)&&L!==(L=Z[0].length+"")&&ce(M,L),(!q||O&1&&Q!==(Q=!Z[0].length))&&(H.disabled=Q)},i(Z){q||(U(x.$$.fragment,Z),q=!0)},o(Z){F(x.$$.fragment,Z),q=!1},d(Z){Z&&f(e),z.d(),te(x),X=!1,N()}}}function fa(r,e,t){let l=[];const a=async()=>(await(await fetch("/api/admin/mailinglist")).json()).emails;return ut(async()=>{t(0,l=await a())}),[l,()=>{const n=new Blob([l.map(u=>u.email).join(`
`)],{type:"text/plain;charset=utf-8"});oa.saveAs(n,"emails.txt")}]}class ha extends we{constructor(e){super(),Ee(this,e,fa,da,be,{})}}function va(r){let e,t,l,a,s,n,u,d,c,o,h,g,E;function w(C){r[3](C)}let k={};r[1]!==void 0&&(k.menuClosed=r[1]),e=new Tl({props:k}),yt.push(()=>Mt(e,"menuClosed",w));function D(C){r[4](C)}let p={slug:r[0].slug};r[1]!==void 0&&(p.menuClosed=r[1]),n=new ql({props:p}),yt.push(()=>Mt(n,"menuClosed",D));var y=r[2];function I(C,L){return{}}return y&&(o=_t(y,I())),{c(){K(e.$$.fragment),l=T(),a=v("div"),s=v("div"),K(n.$$.fragment),d=T(),c=v("div"),o&&K(o.$$.fragment),this.h()},l(C){ne(e.$$.fragment,C),l=$(C),a=m(C,"DIV",{class:!0});var L=b(a);s=m(L,"DIV",{class:!0});var M=b(s);ne(n.$$.fragment,M),M.forEach(f),d=$(L),c=m(L,"DIV",{class:!0});var A=b(c);o&&ne(o.$$.fragment,A),A.forEach(f),L.forEach(f),this.h()},h(){_(s,"class","overflow-y-auto"),_(c,"class","relative flex grow bg-base-200 md:brightness-100 overflow-x-hidden"),G(c,"brightness-50",!r[1]),_(a,"class","relative flex grow height svelte-3w9snb")},m(C,L){ee(e,C,L),R(C,l,L),R(C,a,L),i(a,s),ee(n,s,null),i(a,d),i(a,c),o&&ee(o,c,null),h=!0,g||(E=de(c,"click",r[5]),g=!0)},p(C,[L]){const M={};!t&&L&2&&(t=!0,M.menuClosed=C[1],Lt(()=>t=!1)),e.$set(M);const A={};if(L&1&&(A.slug=C[0].slug),!u&&L&2&&(u=!0,A.menuClosed=C[1],Lt(()=>u=!1)),n.$set(A),L&4&&y!==(y=C[2])){if(o){Ke();const V=o;F(V.$$.fragment,1,0,()=>{te(V,1)}),et()}y?(o=_t(y,I()),K(o.$$.fragment),U(o.$$.fragment,1),ee(o,c,null)):o=null}(!h||L&2)&&G(c,"brightness-50",!C[1])},i(C){h||(U(e.$$.fragment,C),U(n.$$.fragment,C),o&&U(o.$$.fragment,C),h=!0)},o(C){F(e.$$.fragment,C),F(n.$$.fragment,C),o&&F(o.$$.fragment,C),h=!1},d(C){C&&(f(l),f(a)),te(e,C),te(n),o&&te(o),g=!1,E()}}}function ma(r,e,t){let{data:l}=e,a=!0,s=null;function n(c){a=c,t(1,a)}function u(c){a=c,t(1,a)}const d=()=>t(1,a=!0);return r.$$set=c=>{"data"in c&&t(0,l=c.data)},r.$$.update=()=>{if(r.$$.dirty&1)switch(l.slug){case he.USERS:t(2,s=Os);break;case he.REVIEWS:t(2,s=Qs);break;case he.QA:t(2,s=ra);break;case he.MAILING_LIST:t(2,s=ha);break;default:t(2,s=bs);break}},[l,a,s,n,u,d]}class $a extends we{constructor(e){super(),Ee(this,e,ma,va,be,{data:0})}}export{$a as component,Da as universal};

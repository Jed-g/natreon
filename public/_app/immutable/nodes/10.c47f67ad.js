import{s as et,f as u,a as _,g as d,h as k,A as C,c as v,d as h,j as a,i as B,x as o,Q as q,B as Z,R as nt,C as rt,o as at,y as tt,S as it}from"../chunks/scheduler.79c3331f.js";import{S as lt,i as st,g as he,t as M,c as pe,a as w,b as z,d as F,m as Q,e as X}from"../chunks/index.eb183a73.js";import{e as ot}from"../chunks/each.4f1ee53b.js";import{s as ct,a as ft}from"../chunks/index.edfa54d7.js";import{I as J}from"../chunks/Icon.46c50e15.js";import{d as _e}from"../chunks/close-box.75461ac6.js";import{p as ut,a as dt}from"../chunks/index.8f6c39c7.js";const ye={width:24,height:24,body:'<path fill="currentColor" d="m10 17l-5-5l1.41-1.42L10 14.17l7.59-7.59L19 8m0-5H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/>'};function We(f){let t;return{c(){t=u("div"),this.h()},l(e){t=d(e,"DIV",{class:!0}),k(t).forEach(h),this.h()},h(){a(t,"class","divider my-1")},m(e,c){B(e,t,c)},d(e){e&&h(t)}}}function mt(f){let t,e,c,l,r="Email Valid",i;return e=new J({props:{icon:ye,height:24,class:"scale-125",color:"oklch(var(--su))"}}),{c(){t=u("div"),z(e.$$.fragment),c=_(),l=u("p"),l.textContent=r,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=k(t);F(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-1jeogiy"&&(l.textContent=r),n.forEach(h),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&h(t),X(e)}}}function ht(f){let t,e,c,l,r="Email Not Valid",i;return e=new J({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),z(e.$$.fragment),c=_(),l=u("p"),l.textContent=r,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=k(t);F(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-cd8amd"&&(l.textContent=r),n.forEach(h),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&h(t),X(e)}}}function Ke(f){let t,e,c,l,r="Email Belongs To Another User",i;return e=new J({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),z(e.$$.fragment),c=_(),l=u("p"),l.textContent=r,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=k(t);F(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-1sem3xv"&&(l.textContent=r),n.forEach(h),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&h(t),X(e)}}}function pt(f){let t,e,c,l,r="Nickname Length Ok",i;return e=new J({props:{icon:ye,height:24,class:"scale-125",color:"oklch(var(--su))"}}),{c(){t=u("div"),z(e.$$.fragment),c=_(),l=u("p"),l.textContent=r,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=k(t);F(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-3ucmxq"&&(l.textContent=r),n.forEach(h),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&h(t),X(e)}}}function _t(f){let t,e,c,l,r="Nickname Needs To Be At Least 3 Characters Long",i;return e=new J({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),z(e.$$.fragment),c=_(),l=u("p"),l.textContent=r,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=k(t);F(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-kkm5ji"&&(l.textContent=r),n.forEach(h),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&h(t),X(e)}}}function vt(f){let t,e,c,l,r="Password Length Ok",i;return e=new J({props:{icon:ye,height:24,class:"scale-125",color:"oklch(var(--su))"}}),{c(){t=u("div"),z(e.$$.fragment),c=_(),l=u("p"),l.textContent=r,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=k(t);F(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-1953dfb"&&(l.textContent=r),n.forEach(h),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&h(t),X(e)}}}function gt(f){let t,e,c,l,r="Password Too Short (min. 8 characters)",i;return e=new J({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),z(e.$$.fragment),c=_(),l=u("p"),l.textContent=r,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=k(t);F(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-19yyt80"&&(l.textContent=r),n.forEach(h),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&h(t),X(e)}}}function kt(f){let t,e,c,l,r="Passwords Match",i;return e=new J({props:{icon:ye,height:24,class:"scale-125",color:"oklch(var(--su))"}}),{c(){t=u("div"),z(e.$$.fragment),c=_(),l=u("p"),l.textContent=r,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=k(t);F(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-1ff6dtd"&&(l.textContent=r),n.forEach(h),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&h(t),X(e)}}}function bt(f){let t,e,c,l,r="Passwords Do Not Match",i;return e=new J({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),z(e.$$.fragment),c=_(),l=u("p"),l.textContent=r,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=k(t);F(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-10dwgxn"&&(l.textContent=r),n.forEach(h),this.h()},h(){a(l,"class","ml-3"),a(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&h(t),X(e)}}}function wt(f){let t,e,c,l="Signup",r,i,s,n='<span class="label-text">Email</span>',g,b,H,O,L,ve='<span class="label-text">Nickname</span>',de,P,j,W,K,He='<span class="label-text">Description</span>',Te,G,Ie,Y,ee,Oe='<span class="label-text">Password (min. 8 characters)</span>',Ve,R,Le,te,le,Be='<span class="label-text">Confirm Password</span>',Pe,U,De,ge,D,E,ke,be,N,x,we,A,y,Me,S,T,$e,me,Ne,ae,Re='<button class="btn btn-primary btn-sm">Create Account</button>',Ae,ie,Ue='<a class="btn btn-neutral btn-sm mt-2" href="/login">Back</a>',Ce,Se,je,I=(f[1].emailValid!==null||f[1].emailNotTaken!==null||f[1].passwordMin8!==null||f[1].passwordsMatch!==null)&&We();const Ge=[ht,mt],oe=[];function qe(m,V){return m[1].emailValid===!1?0:m[1].emailValid===!0?1:-1}~(D=qe(f))&&(E=oe[D]=Ge[D](f));let $=f[1].emailNotTaken===!1&&Ke();const Ze=[_t,pt],ce=[];function ze(m,V){return m[1].nicknameMin3===!1?0:m[1].nicknameMin3===!0?1:-1}~(N=ze(f))&&(x=ce[N]=Ze[N](f));const Fe=[gt,vt],fe=[];function Qe(m,V){return m[1].passwordMin8===!1?0:m[1].passwordMin8===!0?1:-1}~(A=Qe(f))&&(y=fe[A]=Fe[A](f));const Xe=[bt,kt],ue=[];function Je(m,V){return m[1].passwordsMatch===!1?0:m[1].passwordsMatch===!0?1:-1}return~(S=Je(f))&&(T=ue[S]=Xe[S](f)),{c(){t=u("form"),e=u("div"),c=u("h2"),c.textContent=l,r=_(),i=u("div"),s=u("label"),s.innerHTML=n,g=_(),b=u("input"),H=_(),O=u("div"),L=u("label"),L.innerHTML=ve,de=_(),P=u("input"),j=_(),W=u("div"),K=u("label"),K.innerHTML=He,Te=_(),G=u("textarea"),Ie=_(),Y=u("div"),ee=u("label"),ee.innerHTML=Oe,Ve=_(),R=u("input"),Le=_(),te=u("div"),le=u("label"),le.innerHTML=Be,Pe=_(),U=u("input"),De=_(),I&&I.c(),ge=_(),E&&E.c(),ke=_(),$&&$.c(),be=_(),x&&x.c(),we=_(),y&&y.c(),Me=_(),T&&T.c(),$e=_(),me=u("div"),Ne=_(),ae=u("div"),ae.innerHTML=Re,Ae=_(),ie=u("div"),ie.innerHTML=Ue,this.h()},l(m){t=d(m,"FORM",{class:!0});var V=k(t);e=d(V,"DIV",{class:!0});var p=k(e);c=d(p,"H2",{class:!0,"data-svelte-h":!0}),C(c)!=="svelte-ymhdoa"&&(c.textContent=l),r=v(p),i=d(p,"DIV",{class:!0});var se=k(i);s=d(se,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),C(s)!=="svelte-efmmh6"&&(s.innerHTML=n),g=v(se),b=d(se,"INPUT",{type:!0,placeholder:!0,class:!0,id:!0}),se.forEach(h),H=v(p),O=d(p,"DIV",{class:!0});var ne=k(O);L=d(ne,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),C(L)!=="svelte-dgrrtc"&&(L.innerHTML=ve),de=v(ne),P=d(ne,"INPUT",{type:!0,placeholder:!0,class:!0,id:!0}),ne.forEach(h),j=v(p),W=d(p,"DIV",{class:!0});var re=k(W);K=d(re,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),C(K)!=="svelte-12ctmti"&&(K.innerHTML=He),Te=v(re),G=d(re,"TEXTAREA",{placeholder:!0,class:!0,id:!0}),k(G).forEach(h),re.forEach(h),Ie=v(p),Y=d(p,"DIV",{class:!0});var Ee=k(Y);ee=d(Ee,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),C(ee)!=="svelte-t8iu3x"&&(ee.innerHTML=Oe),Ve=v(Ee),R=d(Ee,"INPUT",{type:!0,placeholder:!0,class:!0,id:!0}),Ee.forEach(h),Le=v(p),te=d(p,"DIV",{class:!0});var xe=k(te);le=d(xe,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),C(le)!=="svelte-euftcr"&&(le.innerHTML=Be),Pe=v(xe),U=d(xe,"INPUT",{type:!0,placeholder:!0,class:!0,id:!0}),xe.forEach(h),De=v(p),I&&I.l(p),ge=v(p),E&&E.l(p),ke=v(p),$&&$.l(p),be=v(p),x&&x.l(p),we=v(p),y&&y.l(p),Me=v(p),T&&T.l(p),$e=v(p),me=d(p,"DIV",{class:!0}),k(me).forEach(h),Ne=v(p),ae=d(p,"DIV",{class:!0,"data-svelte-h":!0}),C(ae)!=="svelte-1ta665b"&&(ae.innerHTML=Re),Ae=v(p),ie=d(p,"DIV",{class:!0,"data-svelte-h":!0}),C(ie)!=="svelte-1amvf8o"&&(ie.innerHTML=Ue),p.forEach(h),V.forEach(h),this.h()},h(){a(c,"class","card-title"),a(s,"class","label"),a(s,"for","email"),a(b,"type","text"),a(b,"placeholder","email"),a(b,"class","input input-bordered"),a(b,"id","email"),a(i,"class","form-control"),a(L,"class","label"),a(L,"for","nickname"),a(P,"type","text"),a(P,"placeholder","nickname"),a(P,"class","input input-bordered"),a(P,"id","nickname"),a(O,"class","form-control"),a(K,"class","label"),a(K,"for","description"),a(G,"placeholder","description"),a(G,"class","textarea textarea-bordered"),a(G,"id","description"),a(W,"class","form-control"),a(ee,"class","label"),a(ee,"for","password"),a(R,"type","password"),a(R,"placeholder","password"),a(R,"class","input input-bordered"),a(R,"id","password"),a(Y,"class","form-control"),a(le,"class","label"),a(le,"for","confirm-password"),a(U,"type","password"),a(U,"placeholder","confirm password"),a(U,"class","input input-bordered"),a(U,"id","confirm-password"),a(te,"class","form-control"),a(me,"class","divider my-1"),a(ae,"class","form-control"),a(ie,"class","form-control"),a(e,"class","card-body"),a(t,"class","card flex-shrink-0 w-full max-w-sm shadow-2xl bg-base-100")},m(m,V){B(m,t,V),o(t,e),o(e,c),o(e,r),o(e,i),o(i,s),o(i,g),o(i,b),q(b,f[0].email),o(e,H),o(e,O),o(O,L),o(O,de),o(O,P),q(P,f[0].nickname),o(e,j),o(e,W),o(W,K),o(W,Te),o(W,G),q(G,f[0].description),o(e,Ie),o(e,Y),o(Y,ee),o(Y,Ve),o(Y,R),q(R,f[0].password),o(e,Le),o(e,te),o(te,le),o(te,Pe),o(te,U),q(U,f[0].confirmPassword),o(e,De),I&&I.m(e,null),o(e,ge),~D&&oe[D].m(e,null),o(e,ke),$&&$.m(e,null),o(e,be),~N&&ce[N].m(e,null),o(e,we),~A&&fe[A].m(e,null),o(e,Me),~S&&ue[S].m(e,null),o(e,$e),o(e,me),o(e,Ne),o(e,ae),o(e,Ae),o(e,ie),Ce=!0,Se||(je=[Z(b,"input",f[3]),Z(b,"input",f[4]),Z(P,"input",f[5]),Z(P,"input",f[6]),Z(G,"input",f[7]),Z(R,"input",f[8]),Z(R,"input",f[9]),Z(U,"input",f[10]),Z(U,"input",f[11]),Z(t,"submit",nt(f[2]))],Se=!0)},p(m,[V]){V&1&&b.value!==m[0].email&&q(b,m[0].email),V&1&&P.value!==m[0].nickname&&q(P,m[0].nickname),V&1&&q(G,m[0].description),V&1&&R.value!==m[0].password&&q(R,m[0].password),V&1&&U.value!==m[0].confirmPassword&&q(U,m[0].confirmPassword),m[1].emailValid!==null||m[1].emailNotTaken!==null||m[1].passwordMin8!==null||m[1].passwordsMatch!==null?I||(I=We(),I.c(),I.m(e,ge)):I&&(I.d(1),I=null);let p=D;D=qe(m),D!==p&&(E&&(he(),M(oe[p],1,1,()=>{oe[p]=null}),pe()),~D?(E=oe[D],E||(E=oe[D]=Ge[D](m),E.c()),w(E,1),E.m(e,ke)):E=null),m[1].emailNotTaken===!1?$?V&2&&w($,1):($=Ke(),$.c(),w($,1),$.m(e,be)):$&&(he(),M($,1,1,()=>{$=null}),pe());let se=N;N=ze(m),N!==se&&(x&&(he(),M(ce[se],1,1,()=>{ce[se]=null}),pe()),~N?(x=ce[N],x||(x=ce[N]=Ze[N](m),x.c()),w(x,1),x.m(e,we)):x=null);let ne=A;A=Qe(m),A!==ne&&(y&&(he(),M(fe[ne],1,1,()=>{fe[ne]=null}),pe()),~A?(y=fe[A],y||(y=fe[A]=Fe[A](m),y.c()),w(y,1),y.m(e,Me)):y=null);let re=S;S=Je(m),S!==re&&(T&&(he(),M(ue[re],1,1,()=>{ue[re]=null}),pe()),~S?(T=ue[S],T||(T=ue[S]=Xe[S](m),T.c()),w(T,1),T.m(e,$e)):T=null)},i(m){Ce||(w(E),w($),w(x),w(y),w(T),Ce=!0)},o(m){M(E),M($),M(x),M(y),M(T),Ce=!1},d(m){m&&h(t),I&&I.d(),~D&&oe[D].d(),$&&$.d(),~N&&ce[N].d(),~A&&fe[A].d(),~S&&ue[S].d(),Se=!1,rt(je)}}}const Ye=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;function Mt(f,t,e){let c;at(()=>(c=setTimeout(()=>ut("/signup"),dt),()=>clearTimeout(c)));let l={email:"",nickname:"",description:"",password:"",confirmPassword:""},r={emailValid:null,emailNotTaken:null,passwordMin8:null,passwordsMatch:null,nicknameMin3:null};const i=()=>{let j=!0;return Ye.test(l.email)||(j=!1,e(1,r.emailValid=!1,r)),l.password.length<8&&(j=!1,e(1,r.passwordMin8=!1,r)),l.password!==l.confirmPassword&&(j=!1,e(1,r.passwordsMatch=!1,r)),l.nickname.length<3&&(j=!1,e(1,r.nicknameMin3=!1,r)),j},s=async()=>{if(!i())return;await ct(l.email,l.nickname,l.description,l.password)?(fetch("/api/stats/landing/registration-completed",{method:"POST",body:JSON.stringify({email:l.email}),headers:{"Content-Type":"application/json"}}),ft.verify()):e(1,r.emailNotTaken=!1,r)};function n(){l.email=this.value,e(0,l)}const g=()=>{r.emailValid===null&&e(1,r.emailValid=!1,r),e(1,r.emailNotTaken=null,r)};function b(){l.nickname=this.value,e(0,l)}const H=()=>{r.nicknameMin3===null&&e(1,r.nicknameMin3=!1,r)};function O(){l.description=this.value,e(0,l)}function L(){l.password=this.value,e(0,l)}const ve=()=>{r.passwordMin8===null&&e(1,r.passwordMin8=!1,r)};function de(){l.confirmPassword=this.value,e(0,l)}const P=()=>{r.passwordsMatch===null&&e(1,r.passwordsMatch=!1,r)};return f.$$.update=()=>{f.$$.dirty&3&&(r.emailValid!==null&&e(1,r.emailValid=Ye.test(l.email),r),r.nicknameMin3!==null&&e(1,r.nicknameMin3=l.nickname.length>=3,r),r.passwordMin8!==null&&e(1,r.passwordMin8=l.password.length>=8,r),r.passwordsMatch!==null&&e(1,r.passwordsMatch=l.password===l.confirmPassword,r))},[l,r,s,n,g,b,H,O,L,ve,de,P]}class $t extends lt{constructor(t){super(),st(this,t,Mt,wt,et,{})}}function Ct(f,t,e){const c=f.slice();return c[0]=t[e],c}function Et(f){let t;return{c(){t=u("div"),this.h()},l(e){t=d(e,"DIV",{class:!0}),k(t).forEach(h),this.h()},h(){a(t,"class","tri svelte-pmmqvx")},m(e,c){B(e,t,c)},p:tt,d(e){e&&h(t)}}}function xt(f){let t,e,c,l,r,i,s=ot(Array(200)),n=[];for(let g=0;g<s.length;g+=1)n[g]=Et(Ct(f,s,g));return r=new $t({}),{c(){t=u("div"),e=u("div");for(let g=0;g<n.length;g+=1)n[g].c();c=_(),l=u("div"),z(r.$$.fragment),this.h()},l(g){t=d(g,"DIV",{class:!0});var b=k(t);e=d(b,"DIV",{class:!0});var H=k(e);for(let L=0;L<n.length;L+=1)n[L].l(H);H.forEach(h),c=v(b),l=d(b,"DIV",{class:!0});var O=k(l);F(r.$$.fragment,O),O.forEach(h),b.forEach(h),this.h()},h(){a(e,"class","wrap svelte-pmmqvx"),a(l,"class","h-full flex items-center justify-center"),a(t,"class","grow relative")},m(g,b){B(g,t,b),o(t,e);for(let H=0;H<n.length;H+=1)n[H]&&n[H].m(e,null);o(t,c),o(t,l),Q(r,l,null),i=!0},p:tt,i(g){i||(w(r.$$.fragment,g),i=!0)},o(g){M(r.$$.fragment,g),i=!1},d(g){g&&h(t),it(n,g),X(r)}}}class Nt extends lt{constructor(t){super(),st(this,t,null,xt,et,{})}}export{Nt as component};

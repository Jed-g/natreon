import{s as et,f as u,a as _,g as d,h as g,A as x,c as v,d as p,j as r,i as B,x as o,Q as z,B as F,R as nt,C as at,o as rt,y as tt,S as it}from"../chunks/scheduler.b2ba2f20.js";import{S as lt,i as st,g as pe,t as M,c as he,a as w,b as Z,d as q,m as Q,e as X}from"../chunks/index.4e73caa3.js";import{e as ot}from"../chunks/each.3a9df130.js";import{s as ct,a as ft}from"../chunks/index.4e6d79c5.js";import{I as J}from"../chunks/Icon.038c191f.js";import{d as Te}from"../chunks/checkbox-marked.a0053e7f.js";import{d as _e}from"../chunks/close-box.75461ac6.js";import{p as ut,a as dt}from"../chunks/index.17f77d2b.js";function We(f){let t;return{c(){t=u("div"),this.h()},l(e){t=d(e,"DIV",{class:!0}),g(t).forEach(p),this.h()},h(){r(t,"class","divider my-1")},m(e,c){B(e,t,c)},d(e){e&&p(t)}}}function mt(f){let t,e,c,l,a="Email Valid",i;return e=new J({props:{icon:Te,height:24,class:"scale-125",color:"oklch(var(--su))"}}),{c(){t=u("div"),Z(e.$$.fragment),c=_(),l=u("p"),l.textContent=a,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=g(t);q(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),x(l)!=="svelte-1jeogiy"&&(l.textContent=a),n.forEach(p),this.h()},h(){r(l,"class","ml-3"),r(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),X(e)}}}function pt(f){let t,e,c,l,a="Email Not Valid",i;return e=new J({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),Z(e.$$.fragment),c=_(),l=u("p"),l.textContent=a,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=g(t);q(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),x(l)!=="svelte-cd8amd"&&(l.textContent=a),n.forEach(p),this.h()},h(){r(l,"class","ml-3"),r(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),X(e)}}}function Ke(f){let t,e,c,l,a="Email Belongs To Another User",i;return e=new J({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),Z(e.$$.fragment),c=_(),l=u("p"),l.textContent=a,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=g(t);q(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),x(l)!=="svelte-1sem3xv"&&(l.textContent=a),n.forEach(p),this.h()},h(){r(l,"class","ml-3"),r(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),X(e)}}}function ht(f){let t,e,c,l,a="Nickname Length Ok",i;return e=new J({props:{icon:Te,height:24,class:"scale-125",color:"oklch(var(--su))"}}),{c(){t=u("div"),Z(e.$$.fragment),c=_(),l=u("p"),l.textContent=a,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=g(t);q(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),x(l)!=="svelte-3ucmxq"&&(l.textContent=a),n.forEach(p),this.h()},h(){r(l,"class","ml-3"),r(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),X(e)}}}function _t(f){let t,e,c,l,a="Nickname Needs To Be At Least 3 Characters Long",i;return e=new J({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),Z(e.$$.fragment),c=_(),l=u("p"),l.textContent=a,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=g(t);q(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),x(l)!=="svelte-kkm5ji"&&(l.textContent=a),n.forEach(p),this.h()},h(){r(l,"class","ml-3"),r(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),X(e)}}}function vt(f){let t,e,c,l,a="Password Length Ok",i;return e=new J({props:{icon:Te,height:24,class:"scale-125",color:"oklch(var(--su))"}}),{c(){t=u("div"),Z(e.$$.fragment),c=_(),l=u("p"),l.textContent=a,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=g(t);q(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),x(l)!=="svelte-1953dfb"&&(l.textContent=a),n.forEach(p),this.h()},h(){r(l,"class","ml-3"),r(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),X(e)}}}function kt(f){let t,e,c,l,a="Password Too Short (min. 8 characters)",i;return e=new J({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),Z(e.$$.fragment),c=_(),l=u("p"),l.textContent=a,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=g(t);q(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),x(l)!=="svelte-19yyt80"&&(l.textContent=a),n.forEach(p),this.h()},h(){r(l,"class","ml-3"),r(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),X(e)}}}function gt(f){let t,e,c,l,a="Passwords Match",i;return e=new J({props:{icon:Te,height:24,class:"scale-125",color:"oklch(var(--su))"}}),{c(){t=u("div"),Z(e.$$.fragment),c=_(),l=u("p"),l.textContent=a,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=g(t);q(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),x(l)!=="svelte-1ff6dtd"&&(l.textContent=a),n.forEach(p),this.h()},h(){r(l,"class","ml-3"),r(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),X(e)}}}function bt(f){let t,e,c,l,a="Passwords Do Not Match",i;return e=new J({props:{icon:_e,height:24,class:"scale-125",color:"oklch(var(--er))"}}),{c(){t=u("div"),Z(e.$$.fragment),c=_(),l=u("p"),l.textContent=a,this.h()},l(s){t=d(s,"DIV",{class:!0});var n=g(t);q(e.$$.fragment,n),c=v(n),l=d(n,"P",{class:!0,"data-svelte-h":!0}),x(l)!=="svelte-10dwgxn"&&(l.textContent=a),n.forEach(p),this.h()},h(){r(l,"class","ml-3"),r(t,"class","flex")},m(s,n){B(s,t,n),Q(e,t,null),o(t,c),o(t,l),i=!0},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){M(e.$$.fragment,s),i=!1},d(s){s&&p(t),X(e)}}}function wt(f){let t,e,c,l="Signup",a,i,s,n='<span class="label-text">Email</span>',k,b,H,O,P,ve='<span class="label-text">Nickname</span>',de,L,j,W,K,He='<span class="label-text">Description</span>',ye,G,Ie,Y,ee,Oe='<span class="label-text">Password (min. 8 characters)</span>',Ve,R,Pe,te,le,Be='<span class="label-text">Confirm Password</span>',Le,U,De,ke,D,C,ge,be,N,E,we,A,T,Me,S,y,$e,me,Ne,re,Re='<button class="btn btn-primary btn-sm">Create Account</button>',Ae,ie,Ue='<a class="btn btn-neutral btn-sm mt-2" href="/login">Back</a>',xe,Se,je,I=(f[1].emailValid!==null||f[1].emailNotTaken!==null||f[1].passwordMin8!==null||f[1].passwordsMatch!==null)&&We();const Ge=[pt,mt],oe=[];function ze(m,V){return m[1].emailValid===!1?0:m[1].emailValid===!0?1:-1}~(D=ze(f))&&(C=oe[D]=Ge[D](f));let $=f[1].emailNotTaken===!1&&Ke();const Fe=[_t,ht],ce=[];function Ze(m,V){return m[1].nicknameMin3===!1?0:m[1].nicknameMin3===!0?1:-1}~(N=Ze(f))&&(E=ce[N]=Fe[N](f));const qe=[kt,vt],fe=[];function Qe(m,V){return m[1].passwordMin8===!1?0:m[1].passwordMin8===!0?1:-1}~(A=Qe(f))&&(T=fe[A]=qe[A](f));const Xe=[bt,gt],ue=[];function Je(m,V){return m[1].passwordsMatch===!1?0:m[1].passwordsMatch===!0?1:-1}return~(S=Je(f))&&(y=ue[S]=Xe[S](f)),{c(){t=u("form"),e=u("div"),c=u("h2"),c.textContent=l,a=_(),i=u("div"),s=u("label"),s.innerHTML=n,k=_(),b=u("input"),H=_(),O=u("div"),P=u("label"),P.innerHTML=ve,de=_(),L=u("input"),j=_(),W=u("div"),K=u("label"),K.innerHTML=He,ye=_(),G=u("textarea"),Ie=_(),Y=u("div"),ee=u("label"),ee.innerHTML=Oe,Ve=_(),R=u("input"),Pe=_(),te=u("div"),le=u("label"),le.innerHTML=Be,Le=_(),U=u("input"),De=_(),I&&I.c(),ke=_(),C&&C.c(),ge=_(),$&&$.c(),be=_(),E&&E.c(),we=_(),T&&T.c(),Me=_(),y&&y.c(),$e=_(),me=u("div"),Ne=_(),re=u("div"),re.innerHTML=Re,Ae=_(),ie=u("div"),ie.innerHTML=Ue,this.h()},l(m){t=d(m,"FORM",{class:!0});var V=g(t);e=d(V,"DIV",{class:!0});var h=g(e);c=d(h,"H2",{class:!0,"data-svelte-h":!0}),x(c)!=="svelte-ymhdoa"&&(c.textContent=l),a=v(h),i=d(h,"DIV",{class:!0});var se=g(i);s=d(se,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),x(s)!=="svelte-efmmh6"&&(s.innerHTML=n),k=v(se),b=d(se,"INPUT",{type:!0,placeholder:!0,class:!0,id:!0,"data-testid":!0}),se.forEach(p),H=v(h),O=d(h,"DIV",{class:!0});var ne=g(O);P=d(ne,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),x(P)!=="svelte-dgrrtc"&&(P.innerHTML=ve),de=v(ne),L=d(ne,"INPUT",{type:!0,placeholder:!0,class:!0,id:!0}),ne.forEach(p),j=v(h),W=d(h,"DIV",{class:!0});var ae=g(W);K=d(ae,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),x(K)!=="svelte-12ctmti"&&(K.innerHTML=He),ye=v(ae),G=d(ae,"TEXTAREA",{placeholder:!0,class:!0,id:!0}),g(G).forEach(p),ae.forEach(p),Ie=v(h),Y=d(h,"DIV",{class:!0});var Ce=g(Y);ee=d(Ce,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),x(ee)!=="svelte-t8iu3x"&&(ee.innerHTML=Oe),Ve=v(Ce),R=d(Ce,"INPUT",{type:!0,placeholder:!0,class:!0,id:!0}),Ce.forEach(p),Pe=v(h),te=d(h,"DIV",{class:!0});var Ee=g(te);le=d(Ee,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),x(le)!=="svelte-euftcr"&&(le.innerHTML=Be),Le=v(Ee),U=d(Ee,"INPUT",{type:!0,placeholder:!0,class:!0,id:!0}),Ee.forEach(p),De=v(h),I&&I.l(h),ke=v(h),C&&C.l(h),ge=v(h),$&&$.l(h),be=v(h),E&&E.l(h),we=v(h),T&&T.l(h),Me=v(h),y&&y.l(h),$e=v(h),me=d(h,"DIV",{class:!0}),g(me).forEach(p),Ne=v(h),re=d(h,"DIV",{class:!0,"data-svelte-h":!0}),x(re)!=="svelte-1ta665b"&&(re.innerHTML=Re),Ae=v(h),ie=d(h,"DIV",{class:!0,"data-svelte-h":!0}),x(ie)!=="svelte-1amvf8o"&&(ie.innerHTML=Ue),h.forEach(p),V.forEach(p),this.h()},h(){r(c,"class","card-title"),r(s,"class","label"),r(s,"for","email"),r(b,"type","text"),r(b,"placeholder","email"),r(b,"class","input input-bordered"),r(b,"id","email"),r(b,"data-testid","email"),r(i,"class","form-control"),r(P,"class","label"),r(P,"for","nickname"),r(L,"type","text"),r(L,"placeholder","nickname"),r(L,"class","input input-bordered"),r(L,"id","nickname"),r(O,"class","form-control"),r(K,"class","label"),r(K,"for","description"),r(G,"placeholder","description"),r(G,"class","textarea textarea-bordered"),r(G,"id","description"),r(W,"class","form-control"),r(ee,"class","label"),r(ee,"for","password"),r(R,"type","password"),r(R,"placeholder","password"),r(R,"class","input input-bordered"),r(R,"id","password"),r(Y,"class","form-control"),r(le,"class","label"),r(le,"for","confirm-password"),r(U,"type","password"),r(U,"placeholder","confirm password"),r(U,"class","input input-bordered"),r(U,"id","confirm-password"),r(te,"class","form-control"),r(me,"class","divider my-1"),r(re,"class","form-control"),r(ie,"class","form-control"),r(e,"class","card-body"),r(t,"class","card flex-shrink-0 w-full max-w-sm shadow-2xl bg-base-100")},m(m,V){B(m,t,V),o(t,e),o(e,c),o(e,a),o(e,i),o(i,s),o(i,k),o(i,b),z(b,f[0].email),o(e,H),o(e,O),o(O,P),o(O,de),o(O,L),z(L,f[0].nickname),o(e,j),o(e,W),o(W,K),o(W,ye),o(W,G),z(G,f[0].description),o(e,Ie),o(e,Y),o(Y,ee),o(Y,Ve),o(Y,R),z(R,f[0].password),o(e,Pe),o(e,te),o(te,le),o(te,Le),o(te,U),z(U,f[0].confirmPassword),o(e,De),I&&I.m(e,null),o(e,ke),~D&&oe[D].m(e,null),o(e,ge),$&&$.m(e,null),o(e,be),~N&&ce[N].m(e,null),o(e,we),~A&&fe[A].m(e,null),o(e,Me),~S&&ue[S].m(e,null),o(e,$e),o(e,me),o(e,Ne),o(e,re),o(e,Ae),o(e,ie),xe=!0,Se||(je=[F(b,"input",f[3]),F(b,"input",f[4]),F(L,"input",f[5]),F(L,"input",f[6]),F(G,"input",f[7]),F(R,"input",f[8]),F(R,"input",f[9]),F(U,"input",f[10]),F(U,"input",f[11]),F(t,"submit",nt(f[2]))],Se=!0)},p(m,[V]){V&1&&b.value!==m[0].email&&z(b,m[0].email),V&1&&L.value!==m[0].nickname&&z(L,m[0].nickname),V&1&&z(G,m[0].description),V&1&&R.value!==m[0].password&&z(R,m[0].password),V&1&&U.value!==m[0].confirmPassword&&z(U,m[0].confirmPassword),m[1].emailValid!==null||m[1].emailNotTaken!==null||m[1].passwordMin8!==null||m[1].passwordsMatch!==null?I||(I=We(),I.c(),I.m(e,ke)):I&&(I.d(1),I=null);let h=D;D=ze(m),D!==h&&(C&&(pe(),M(oe[h],1,1,()=>{oe[h]=null}),he()),~D?(C=oe[D],C||(C=oe[D]=Ge[D](m),C.c()),w(C,1),C.m(e,ge)):C=null),m[1].emailNotTaken===!1?$?V&2&&w($,1):($=Ke(),$.c(),w($,1),$.m(e,be)):$&&(pe(),M($,1,1,()=>{$=null}),he());let se=N;N=Ze(m),N!==se&&(E&&(pe(),M(ce[se],1,1,()=>{ce[se]=null}),he()),~N?(E=ce[N],E||(E=ce[N]=Fe[N](m),E.c()),w(E,1),E.m(e,we)):E=null);let ne=A;A=Qe(m),A!==ne&&(T&&(pe(),M(fe[ne],1,1,()=>{fe[ne]=null}),he()),~A?(T=fe[A],T||(T=fe[A]=qe[A](m),T.c()),w(T,1),T.m(e,Me)):T=null);let ae=S;S=Je(m),S!==ae&&(y&&(pe(),M(ue[ae],1,1,()=>{ue[ae]=null}),he()),~S?(y=ue[S],y||(y=ue[S]=Xe[S](m),y.c()),w(y,1),y.m(e,$e)):y=null)},i(m){xe||(w(C),w($),w(E),w(T),w(y),xe=!0)},o(m){M(C),M($),M(E),M(T),M(y),xe=!1},d(m){m&&p(t),I&&I.d(),~D&&oe[D].d(),$&&$.d(),~N&&ce[N].d(),~A&&fe[A].d(),~S&&ue[S].d(),Se=!1,at(je)}}}const Ye=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;function Mt(f,t,e){let c;rt(()=>(c=setTimeout(()=>ut("/signup"),dt),()=>clearTimeout(c)));let l={email:"",nickname:"",description:"",password:"",confirmPassword:""},a={emailValid:null,emailNotTaken:null,passwordMin8:null,passwordsMatch:null,nicknameMin3:null};const i=()=>{let j=!0;return Ye.test(l.email)||(j=!1,e(1,a.emailValid=!1,a)),l.password.length<8&&(j=!1,e(1,a.passwordMin8=!1,a)),l.password!==l.confirmPassword&&(j=!1,e(1,a.passwordsMatch=!1,a)),l.nickname.length<3&&(j=!1,e(1,a.nicknameMin3=!1,a)),j},s=async()=>{if(!i())return;await ct(l.email,l.nickname,l.description,l.password)?(fetch("/api/stats/landing/registration-completed",{method:"POST",body:JSON.stringify({email:l.email}),headers:{"Content-Type":"application/json"}}),ft.verify()):e(1,a.emailNotTaken=!1,a)};function n(){l.email=this.value,e(0,l)}const k=()=>{a.emailValid===null&&e(1,a.emailValid=!1,a),e(1,a.emailNotTaken=null,a)};function b(){l.nickname=this.value,e(0,l)}const H=()=>{a.nicknameMin3===null&&e(1,a.nicknameMin3=!1,a)};function O(){l.description=this.value,e(0,l)}function P(){l.password=this.value,e(0,l)}const ve=()=>{a.passwordMin8===null&&e(1,a.passwordMin8=!1,a)};function de(){l.confirmPassword=this.value,e(0,l)}const L=()=>{a.passwordsMatch===null&&e(1,a.passwordsMatch=!1,a)};return f.$$.update=()=>{f.$$.dirty&3&&(a.emailValid!==null&&e(1,a.emailValid=Ye.test(l.email),a),a.nicknameMin3!==null&&e(1,a.nicknameMin3=l.nickname.length>=3,a),a.passwordMin8!==null&&e(1,a.passwordMin8=l.password.length>=8,a),a.passwordsMatch!==null&&e(1,a.passwordsMatch=l.password===l.confirmPassword,a))},[l,a,s,n,k,b,H,O,P,ve,de,L]}class $t extends lt{constructor(t){super(),st(this,t,Mt,wt,et,{})}}function xt(f,t,e){const c=f.slice();return c[0]=t[e],c}function Ct(f){let t;return{c(){t=u("div"),this.h()},l(e){t=d(e,"DIV",{class:!0}),g(t).forEach(p),this.h()},h(){r(t,"class","tri svelte-k4xkmx")},m(e,c){B(e,t,c)},p:tt,d(e){e&&p(t)}}}function Et(f){let t,e,c,l,a,i,s=ot(Array(200)),n=[];for(let k=0;k<s.length;k+=1)n[k]=Ct(xt(f,s,k));return a=new $t({}),{c(){t=u("div"),e=u("div");for(let k=0;k<n.length;k+=1)n[k].c();c=_(),l=u("div"),Z(a.$$.fragment),this.h()},l(k){t=d(k,"DIV",{class:!0});var b=g(t);e=d(b,"DIV",{class:!0});var H=g(e);for(let P=0;P<n.length;P+=1)n[P].l(H);H.forEach(p),c=v(b),l=d(b,"DIV",{class:!0});var O=g(l);q(a.$$.fragment,O),O.forEach(p),b.forEach(p),this.h()},h(){r(e,"class","wrap svelte-k4xkmx"),r(l,"class","h-full flex items-center justify-center"),r(t,"class","grow relative")},m(k,b){B(k,t,b),o(t,e);for(let H=0;H<n.length;H+=1)n[H]&&n[H].m(e,null);o(t,c),o(t,l),Q(a,l,null),i=!0},p:tt,i(k){i||(w(a.$$.fragment,k),i=!0)},o(k){M(a.$$.fragment,k),i=!1},d(k){k&&p(t),it(n,k),X(a)}}}class At extends lt{constructor(t){super(),st(this,t,null,Et,et,{})}}export{At as component};

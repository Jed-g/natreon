import{a as q}from"./index.ef04b1b2.js";import{C as v}from"./scheduler.89cb64c0.js";function D(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function E(n,w){n.d(1),w.delete(n.key)}function F(n,w,l,p,a,d,s,h,t,C,m,j){let f=n.length,u=d.length,o=f;const k={};for(;o--;)k[n[o].key]=o;const y=[],M=new Map,S=new Map,$=[];for(o=u;o--;){const e=j(a,d,o),i=l(e);let c=s.get(i);c?p&&$.push(()=>c.p(e,w)):(c=C(i,e),c.c()),M.set(i,y[o]=c),i in k&&S.set(i,Math.abs(o-k[i]))}const x=new Set,A=new Set;function _(e){q(e,1),e.m(h,m),s.set(e.key,e),m=e.first,u--}for(;f&&u;){const e=y[u-1],i=n[f-1],c=e.key,g=i.key;e===i?(m=e.first,f--,u--):M.has(g)?!s.has(c)||x.has(c)?_(e):A.has(g)?f--:S.get(c)>S.get(g)?(A.add(c),_(e)):(x.add(g),f--):(t(i,s),f--)}for(;f--;){const e=n[f];M.has(e.key)||t(e,s)}for(;u;)_(y[u-1]);return v($),y}function G(n,w){const l={},p={},a={$$scope:1};let d=n.length;for(;d--;){const s=n[d],h=w[d];if(h){for(const t in s)t in h||(p[t]=1);for(const t in h)a[t]||(l[t]=h[t],a[t]=1);n[d]=h}else for(const t in s)a[t]=1}for(const s in p)s in l||(l[s]=void 0);return l}export{E as d,D as e,G as g,F as u};

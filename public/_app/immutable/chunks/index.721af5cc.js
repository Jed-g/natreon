import{w as r}from"./index.bb3f0d86.js";var s=(t=>(t[t.CUSTOMER=0]="CUSTOMER",t[t.ADMIN=1]="ADMIN",t[t.REPORTER=2]="REPORTER",t))(s||{});const n=async()=>{try{switch((await(await fetch("/api/auth/status")).json()).userType){case"customer":return s.CUSTOMER;case"admin":return s.ADMIN;case"reporter":return s.REPORTER;default:return!1}}catch{return!1}},u=async(t,a)=>{try{return(await fetch("/api/auth/login",{method:"POST",body:JSON.stringify({user:{email:t,password:a}}),headers:{"Content-Type":"application/json"}})).status===200}catch{return!1}},i=async(t,a)=>{try{return(await fetch("/api/auth/signup",{method:"POST",body:JSON.stringify({user:{email:t,password:a}}),headers:{"Content-Type":"application/json"}})).status===200}catch{return!1}},h=async()=>{try{return(await fetch("/api/auth/logout",{method:"DELETE"})).status===200}catch{return!1}},o=()=>{const{subscribe:t,set:a}=r(null);return{subscribe:t,verify:async()=>a(await n())}},p=o();export{s as U,p as a,h as b,u as l,i as s};

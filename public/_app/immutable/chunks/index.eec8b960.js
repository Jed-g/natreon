import{w as r}from"./index.fac14818.js";var s=(t=>(t[t.CUSTOMER=0]="CUSTOMER",t[t.ADMIN=1]="ADMIN",t[t.REPORTER=2]="REPORTER",t))(s||{});const n=async()=>{try{switch((await(await fetch("/api/auth/status")).json()).userType){case"customer":return s.CUSTOMER;case"admin":return s.ADMIN;case"reporter":return s.REPORTER;default:return!1}}catch{return!1}},i=async(t,e)=>{try{return(await fetch("/api/auth/login",{method:"POST",body:JSON.stringify({user:{email:t,password:e}}),headers:{"Content-Type":"application/json"}})).status===200}catch{return!1}},u=async(t,e)=>{try{return(await fetch("/api/auth/signup",{method:"POST",body:JSON.stringify({user:{email:t,password:e}}),headers:{"Content-Type":"application/json"}})).status===200}catch{return!1}},p=async()=>{try{return(await fetch("/api/auth/logout",{method:"DELETE"})).status===200}catch{return!1}},o=()=>{const{subscribe:t,set:e}=r(null);return{subscribe:t,verify:async()=>e(await n())}},h=o(),l=r(new Promise(()=>{})),d=r(new Promise(t=>t()));export{s as U,h as a,p as b,i as l,l as n,d as p,u as s};

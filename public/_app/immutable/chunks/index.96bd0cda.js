import{w as c}from"./index.7c319506.js";const i=globalThis.__sveltekit_qhgm28.env,h="http://localhost:3000",a=()=>i.PUBLIC_NODE_ENV==="dev",n=t=>a()?h+t:t,r=()=>a()?{headers:{Authorization:localStorage.getItem("AuthorizationToken")}}:void 0,u=async()=>{try{return(await fetch(n("/api/auth/status"),r())).status===200}catch{return!1}},d=async(t,e)=>{try{const o=await fetch(n("/api/auth/login"),{method:"POST",body:JSON.stringify({user:{email:t,password:e}}),headers:{"Content-Type":"application/json"}}),s=o.status===200;return s&&a()&&localStorage.setItem("AuthorizationToken",o.headers.get("Authorization")),s}catch{return!1}},g=async(t,e)=>{try{const o=await fetch(n("/api/auth/signup"),{method:"POST",body:JSON.stringify({user:{email:t,password:e}}),headers:{"Content-Type":"application/json"}}),s=o.status===200;return s&&a()&&localStorage.setItem("AuthorizationToken",o.headers.get("Authorization")),s}catch{return!1}},y=async()=>{try{const e=(await fetch(n("/api/auth/logout"),{method:"DELETE",...r()})).status===200;return e&&a()&&localStorage.removeItem("AuthorizationToken"),e}catch{return!1}},l=()=>{const{subscribe:t,set:e}=c(null);return{subscribe:t,verify:async()=>e(await u())}},f=l();export{f as a,y as b,d as l,g as s};
